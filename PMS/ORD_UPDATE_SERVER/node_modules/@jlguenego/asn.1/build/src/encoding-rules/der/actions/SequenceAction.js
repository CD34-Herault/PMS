"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.SequenceAction = void 0;
const Action_1 = require("../../../Action");
const ActionType_1 = require("../../../actions/ActionType");
class SequenceAction extends Action_1.Action {
    constructor() {
        super(...arguments);
        this.type = ActionType_1.ActionType.SEQUENCE;
    }
    transform(state) {
        const length = state.dataview.getUint8(state.index);
        state.index++;
        const context = state.context;
        context.length = length;
        if (length === 0) {
            state.nextAction = ActionType_1.ActionType.INIT;
            return;
        }
        state.nextAction = ActionType_1.ActionType.ITEM;
    }
}
exports.SequenceAction = SequenceAction;
//# sourceMappingURL=SequenceAction.js.map