"use strict";(self.webpackChunkord_patch=self.webpackChunkord_patch||[]).push([[690],{5690:(K,x,n)=>{n.r(x),n.d(x,{DashboardRoutingModule:()=>_,ROUTES:()=>M});var d=n(6952),p=n(9808),T=n(2382),w=n(2539),B=n(5592),E=n(9136),F=n(6440),y=n(9646),t=n(5e3);const L=[(()=>{class e{canActivate(){return(0,y.of)(!0)}}return e.\u0275fac=function(a){return new(a||e)},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})()],X=[(()=>{class e{constructor(){}getDashboard$(){return(0,y.of)({})}}return e.\u0275fac=function(a){return new(a||e)},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})()];var m=n(5212),i=n(1135),j=n(4890),k=n(3305),O=n(9524),P=n(1674),l=n(9444);const q=[[["",8,"card-body"]]],z=function(){return["fas","angle-right"]},N=[".card-body"];let R=(()=>{class e{constructor(){this.link="",this.customClasses=[]}ngOnInit(){this.background&&this.customClasses.push(this.background),this.color&&this.customClasses.push(this.color)}}return e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["sb-card-view-details"]],inputs:{background:"background",color:"color",link:"link"},ngContentSelectors:N,decls:7,vars:4,consts:[[1,"card","text-white","mb-4",3,"ngClass"],[1,"card-footer","d-flex","align-items-center","justify-content-between"],[1,"small","text-white","stretched-link",3,"routerLink"],[1,"small","text-white"],[3,"icon"]],template:function(a,o){1&a&&(t.F$t(q),t.TgZ(0,"div",0),t.Hsn(1),t.TgZ(2,"div",1)(3,"a",2),t._uU(4,"Voir Details"),t.qZA(),t.TgZ(5,"div",3),t._UZ(6,"fa-icon",4),t.qZA()()()),2&a&&(t.Q6J("ngClass",o.background),t.xp6(3),t.Q6J("routerLink",o.link),t.xp6(3),t.Q6J("icon",t.DdM(3,z)))},directives:[p.mk,d.yS,l.BN],styles:[""],changeDetection:0}),e})(),v=(()=>{class e{constructor(a,o,r,c){this.plannifService=a,this.serveursService=o,this.exclusionsService=r,this.calendrierService=c,this.plannifFutur=new i.X(!1),this.serveursExclus=new i.X(0),this.serveurs=new i.X(0),this.jourRestant=new i.X(0)}ngOnInit(){this.plannifService.getPlannifications().subscribe(a=>{1==this.testFutur(a)&&this.plannifFutur.next(!0)}),this.serveursService.total$.subscribe(a=>{this.serveurs.next(a)}),this.exclusionsService.getExclusions().subscribe(a=>{this.serveursExclus.next(a.length)}),this.calendrierService.get_calendrier().subscribe(a=>{this.jourRestant.next(this.prochainPatch(a))})}prochainPatch(a){let r,o=new Date;a.forEach(D=>{D.dates.forEach($=>{let b=new Date($.start);(b>=o&&b<=r||null==r&&b>=o)&&(r=b)})});let c=r.getTime()-o.getTime();return Math.round(c/864e5)}testFutur(a){let o=!1;return a.forEach(r=>{let c=r.date_plannif.split("/"),Q=new Date(c[2]+"/"+c[1]+"/"+c[0]+" 21:00:00"),D=new Date;Q.getTime()>=D.getTime()&&(o=!0)}),o}}return e.\u0275fac=function(a){return new(a||e)(t.Y36(j.n),t.Y36(k.t),t.Y36(O.z),t.Y36(P.g))},e.\u0275cmp=t.Xpm({type:e,selectors:[["sb-dashboard-cards"]],decls:21,vars:12,consts:[[1,"row"],[1,"col-xl-3","col-md-6"],["link","/patchManagement/plannificationExceptionnel","background","bg-primary"],[1,"card-body"],["link","/patchManagement/exclusions","background","bg-warning"],["link","/patchManagement/serveurs/Alco_Windows","background","bg-success"],["link","/patchManagement/calendrier","background","bg-danger"]],template:function(a,o){1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"sb-card-view-details",2)(3,"div",3),t._uU(4),t.ALo(5,"async"),t.qZA()()(),t.TgZ(6,"div",1)(7,"sb-card-view-details",4)(8,"div",3),t._uU(9),t.ALo(10,"async"),t.qZA()()(),t.TgZ(11,"div",1)(12,"sb-card-view-details",5)(13,"div",3),t._uU(14),t.ALo(15,"async"),t.qZA()()(),t.TgZ(16,"div",1)(17,"sb-card-view-details",6)(18,"div",3),t._uU(19),t.ALo(20,"async"),t.qZA()()()()),2&a&&(t.xp6(4),t.hij("Plannification Exceptionnel futur: ",t.lcZ(5,4,o.plannifFutur),""),t.xp6(5),t.hij("Serveurs Exclus: ",t.lcZ(10,6,o.serveursExclus),""),t.xp6(5),t.hij("Nombre de serveurs: ",t.lcZ(15,8,o.serveurs),""),t.xp6(5),t.hij("Prochain patch dans: ",t.lcZ(20,10,o.jourRestant)," jours"))},directives:[R],pipes:[p.Ov],styles:[""],changeDetection:0}),e})();var g=n(6333),I=n(996);const Y=function(){return["fas","table"]},V=function(){return{column:"kb_manquantes",direction:"desc"}};let f=(()=>{class e{constructor(){this.os=new i.X("All")}ngOnInit(){}}return e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["sb-dashboard-tables"]],decls:6,vars:10,consts:[[1,"card-header"],[1,"mr-1",3,"icon"],[1,"card-body"],[3,"pageSize","osSelected","searchBar","pageBar","sort","checkbox","sortable"]],template:function(a,o){1&a&&(t.TgZ(0,"sb-card")(1,"div",0),t._UZ(2,"fa-icon",1),t._uU(3,"Top 10 serveurs critiques"),t.qZA(),t.TgZ(4,"div",2),t._UZ(5,"serveur-table",3),t.qZA()()),2&a&&(t.xp6(2),t.Q6J("icon",t.DdM(8,Y)),t.xp6(3),t.Q6J("pageSize",10)("osSelected",o.os)("searchBar",!1)("pageBar",!1)("sort",t.DdM(9,V))("checkbox",!1)("sortable",!1))},directives:[g.A,l.BN,I.m],styles:[""],changeDetection:0}),e})();var C=n(9410),G=n(6021);const h=function(){return["fas","chart-pie"]},u=function(){return["fas","chart-bar"]};let Z=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["sb-dashboard-charts"]],decls:60,vars:24,consts:[[1,"row"],[1,"col-xl-6"],[1,"card-header"],[1,"mr-1",3,"icon"],[1,"card-body"],[3,"osSelected"]],template:function(a,o){1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"sb-card")(3,"div",2),t._UZ(4,"fa-icon",3),t._uU(5,"Etat des serveurs Alco Windows"),t.qZA(),t.TgZ(6,"div",4),t._UZ(7,"sb-charts-pie",5),t.qZA()()(),t.TgZ(8,"div",1)(9,"sb-card")(10,"div",2),t._UZ(11,"fa-icon",3),t._uU(12,"Nombres de patchs /mois"),t.qZA(),t.TgZ(13,"div",4),t._UZ(14,"sb-charts-bar",5),t.qZA()()()(),t.TgZ(15,"div",0)(16,"div",1)(17,"sb-card")(18,"div",2),t._UZ(19,"fa-icon",3),t._uU(20,"Etat des serveurs Alco Linux"),t.qZA(),t.TgZ(21,"div",4),t._UZ(22,"sb-charts-pie",5),t.qZA()()(),t.TgZ(23,"div",1)(24,"sb-card")(25,"div",2),t._UZ(26,"fa-icon",3),t._uU(27,"Nombres de patchs /mois"),t.qZA(),t.TgZ(28,"div",4),t._UZ(29,"sb-charts-bar",5),t.qZA()()()(),t.TgZ(30,"div",0)(31,"div",1)(32,"sb-card")(33,"div",2),t._UZ(34,"fa-icon",3),t._uU(35,"Etat des serveurs Heberge Windows"),t.qZA(),t.TgZ(36,"div",4),t._UZ(37,"sb-charts-pie",5),t.qZA()()(),t.TgZ(38,"div",1)(39,"sb-card")(40,"div",2),t._UZ(41,"fa-icon",3),t._uU(42,"Nombres de patchs /mois"),t.qZA(),t.TgZ(43,"div",4),t._UZ(44,"sb-charts-bar",5),t.qZA()()()(),t.TgZ(45,"div",0)(46,"div",1)(47,"sb-card")(48,"div",2),t._UZ(49,"fa-icon",3),t._uU(50,"Etat des Heberge Linux"),t.qZA(),t.TgZ(51,"div",4),t._UZ(52,"sb-charts-pie",5),t.qZA()()(),t.TgZ(53,"div",1)(54,"sb-card")(55,"div",2),t._UZ(56,"fa-icon",3),t._uU(57,"Nombres de patchs /mois"),t.qZA(),t.TgZ(58,"div",4),t._UZ(59,"sb-charts-bar",5),t.qZA()()()()),2&a&&(t.xp6(4),t.Q6J("icon",t.DdM(16,h)),t.xp6(3),t.Q6J("osSelected","alco_windows"),t.xp6(4),t.Q6J("icon",t.DdM(17,u)),t.xp6(3),t.Q6J("osSelected","alco_windows"),t.xp6(5),t.Q6J("icon",t.DdM(18,h)),t.xp6(3),t.Q6J("osSelected","alco_linux"),t.xp6(4),t.Q6J("icon",t.DdM(19,u)),t.xp6(3),t.Q6J("osSelected","alco_linux"),t.xp6(5),t.Q6J("icon",t.DdM(20,h)),t.xp6(3),t.Q6J("osSelected","heberge_windows"),t.xp6(4),t.Q6J("icon",t.DdM(21,u)),t.xp6(3),t.Q6J("osSelected","heberge_windows"),t.xp6(5),t.Q6J("icon",t.DdM(22,h)),t.xp6(3),t.Q6J("osSelected","heberge_linux"),t.xp6(4),t.Q6J("icon",t.DdM(23,u)),t.xp6(3),t.Q6J("osSelected","heberge_linux"))},directives:[g.A,l.BN,C.y,G.e],styles:[""],changeDetection:0}),e})(),A=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["sb-dashboard"]],decls:4,vars:1,consts:[["title","Dashboard",3,"hideBreadcrumbs"]],template:function(a,o){1&a&&t._UZ(0,"sb-dashboard-head",0)(1,"sb-dashboard-cards")(2,"sb-dashboard-tables")(3,"sb-dashboard-charts"),2&a&&t.Q6J("hideBreadcrumbs",!1)},directives:[m.T,v,f,Z],styles:[""],changeDetection:0}),e})();var U=n(5278);const H=function(){return["fas","chart-pie"]};let S=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["sb-static"]],decls:13,vars:4,consts:[[3,"static"],["title","Dashboard Static",3,"hideBreadcrumbs"],[1,"card-header"],[1,"mr-1",3,"icon"],[1,"card-body"],[1,"card-footer","small","text-muted"]],template:function(a,o){1&a&&(t.TgZ(0,"sb-layout-dashboard",0),t._UZ(1,"sb-dashboard-head",1)(2,"sb-dashboard-cards")(3,"sb-dashboard-charts")(4,"sb-dashboard-tables"),t.TgZ(5,"sb-card")(6,"div",2),t._UZ(7,"fa-icon",3),t._uU(8,"Pie Chart Example"),t.qZA(),t.TgZ(9,"div",4),t._UZ(10,"sb-charts-pie"),t.qZA(),t.TgZ(11,"div",5),t._uU(12,"Updated yesterday at 11:59 PM"),t.qZA()()()),2&a&&(t.Q6J("static",!0),t.xp6(1),t.Q6J("hideBreadcrumbs",!1),t.xp6(6),t.Q6J("icon",t.DdM(3,H)))},directives:[U.Q,m.T,v,Z,f,g.A,l.BN,C.y],styles:[""],changeDetection:0}),e})(),J=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["sb-light"]],decls:5,vars:2,consts:[[3,"light"],["title","Dashboard Light",3,"hideBreadcrumbs"]],template:function(a,o){1&a&&(t.TgZ(0,"sb-layout-dashboard",0),t._UZ(1,"sb-dashboard-head",1)(2,"sb-dashboard-cards")(3,"sb-dashboard-charts")(4,"sb-dashboard-tables"),t.qZA()),2&a&&(t.Q6J("light",!0),t.xp6(1),t.Q6J("hideBreadcrumbs",!1))},directives:[U.Q,m.T,v,Z,f],styles:[""],changeDetection:0}),e})(),W=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[...X,...L],imports:[[p.ez,d.Bz,T.UX,T.u5,w.n,B.A,E.e,F.J]]}),e})();const M=[{path:"",data:{title:"Dashboard - Patch Management",breadcrumbs:[{text:"Dashboard",active:!0}]},canActivate:[],component:A},{path:"static",data:{title:"Dashboard Static - Patch Management",breadcrumbs:[{text:"Dashboard",link:"/patchManagement/dashboard"},{text:"Static",active:!0}]},canActivate:[],component:S},{path:"light",data:{title:"Dashboard Light - Patch Management",breadcrumbs:[{text:"Dashboard",link:"/patchManagement/dashboard"},{text:"Light",active:!0}]},canActivate:[],component:J}];let _=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[W,d.Bz.forChild(M)],d.Bz]}),e})()}}]);