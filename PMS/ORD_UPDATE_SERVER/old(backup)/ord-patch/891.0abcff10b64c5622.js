"use strict";(self.webpackChunkord_patch=self.webpackChunkord_patch||[]).push([[891],{891:(Qe,ae,C)=>{C.r(ae),C.d(ae,{CalendrierRoutingModule:()=>Zo,ROUTES:()=>xn});var q=C(6952),g=C(9808),L=C(2382),e=C(5e3),W=C(7579),U=C(8306),ye=C(9646),B=C(5963),ge=C(1135),E=C(4986),Z=C(2722),ce=C(3900),K=C(8675),oe=C(576),V=C(4004),Mn=function(){function n(){}return n.prototype.getAllStyles=function(r){return window.getComputedStyle(r)},n.prototype.getStyle=function(r,t){return this.getAllStyles(r)[t]},n.prototype.isStaticPositioned=function(r){return"static"===(this.getStyle(r,"position")||"static")},n.prototype.offsetParent=function(r){for(var t=r.offsetParent||document.documentElement;t&&t!==document.documentElement&&this.isStaticPositioned(t);)t=t.offsetParent;return t||document.documentElement},n.prototype.position=function(r,t){void 0===t&&(t=!0);var i,a={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(r,"position"))i={top:(i=r.getBoundingClientRect()).top,bottom:i.bottom,left:i.left,right:i.right,height:i.height,width:i.width};else{var o=this.offsetParent(r);i=this.offset(r,!1),o!==document.documentElement&&(a=this.offset(o,!1)),a.top+=o.clientTop,a.left+=o.clientLeft}return i.top-=a.top,i.bottom-=a.top,i.left-=a.left,i.right-=a.left,t&&(i.top=Math.round(i.top),i.bottom=Math.round(i.bottom),i.left=Math.round(i.left),i.right=Math.round(i.right)),i},n.prototype.offset=function(r,t){void 0===t&&(t=!0);var i=r.getBoundingClientRect(),a_top=window.pageYOffset-document.documentElement.clientTop,a_left=window.pageXOffset-document.documentElement.clientLeft,o={height:i.height||r.offsetHeight,width:i.width||r.offsetWidth,top:i.top+a_top,bottom:i.bottom+a_top,left:i.left+a_left,right:i.right+a_left};return t&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o},n.prototype.positionElements=function(r,t,i,a){var o=i.split("-"),l=o[0],s=void 0===l?"top":l,c=o[1],d=void 0===c?"center":c,u=a?this.offset(r,!1):this.position(r,!1),h=this.getAllStyles(t),w=parseFloat(h.marginTop),m=parseFloat(h.marginBottom),p=parseFloat(h.marginLeft),T=parseFloat(h.marginRight),f=0,y=0;switch(s){case"top":f=u.top-(t.offsetHeight+w+m);break;case"bottom":f=u.top+u.height;break;case"left":y=u.left-(t.offsetWidth+p+T);break;case"right":y=u.left+u.width}switch(d){case"top":f=u.top;break;case"bottom":f=u.top+u.height-t.offsetHeight;break;case"left":y=u.left;break;case"right":y=u.left+u.width-t.offsetWidth;break;case"center":"top"===s||"bottom"===s?y=u.left+u.width/2-t.offsetWidth/2:f=u.top+u.height/2-t.offsetHeight/2}t.style.transform="translate("+Math.round(y)+"px, "+Math.round(f)+"px)";var x=t.getBoundingClientRect(),D=document.documentElement,M=window.innerHeight||D.clientHeight,A=window.innerWidth||D.clientWidth;return x.left>=0&&x.top>=0&&x.right<=A&&x.bottom<=M},n}(),Sn=/\s+/,xt=new Mn,j=function(){return j=Object.assign||function(n){for(var r,t=1,i=arguments.length;t<i;t++)for(var a in r=arguments[t])Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a]);return n},j.apply(this,arguments)},Et=function(){for(var n=0,r=0,t=arguments.length;r<t;r++)n+=arguments[r].length;var i=Array(n),a=0;for(r=0;r<t;r++)for(var o=arguments[r],l=0,s=o.length;l<s;l++,a++)i[a]=o[l];return i},Ce=(()=>{return(n=Ce||(Ce={}))[n.SUNDAY=0]="SUNDAY",n[n.MONDAY=1]="MONDAY",n[n.TUESDAY=2]="TUESDAY",n[n.WEDNESDAY=3]="WEDNESDAY",n[n.THURSDAY=4]="THURSDAY",n[n.FRIDAY=5]="FRIDAY",n[n.SATURDAY=6]="SATURDAY",Ce;var n})(),An=[Ce.SUNDAY,Ce.SATURDAY],le=86400;function Mt(n,r){var t=r.startDate,a=r.excluded,o=r.precision;if(a.length<1)return 0;for(var s=n.getDay,c=n.addDays,d=(0,n.addSeconds)(t,r.seconds-1),u=s(t),h=s(d),w=0,m=t,p=function(){var T=s(m);a.some(function(f){return f===T})&&(w+=function Hn(n,r){var i=r.day,o=r.dayEnd,l=r.startDate,s=r.endDate,c=n.differenceInSeconds,u=n.startOfDay;if("minutes"===r.precision){if(i===r.dayStart)return c((0,n.endOfDay)(l),l)+1;if(i===o)return c(s,u(s))+1}return le}(n,{dayStart:u,dayEnd:h,day:T,precision:o,startDate:t,endDate:d})),m=c(m,1)};m<d;)p();return w}function De(n,r){var i=r.periodStart,a=r.periodEnd;return r.events.filter(function(o){return function Wn(n,r){var t=r.event,i=r.periodStart,a=r.periodEnd,o=n.isSameSecond,l=t.start,s=t.end||t.start;return!!(l>i&&l<a||s>i&&s<a||l<i&&s>a||o(l,i)||o(l,a)||o(s,i)||o(s,a))}(n,{event:o,periodStart:i,periodEnd:a})})}function St(n,r){var t=r.date,i=r.weekendDays,a=void 0===i?An:i,l=n.isSameDay,s=n.getDay,c=(0,n.startOfDay)(new Date),d=s(t);return{date:t,day:d,isPast:t<c,isToday:l(t,c),isFuture:t>c,isWeekend:a.indexOf(d)>-1}}function et(n,r){for(var a=r.excluded,o=void 0===a?[]:a,l=r.weekendDays,s=r.viewStart,c=void 0===s?n.startOfWeek(r.viewDate,{weekStartsOn:r.weekStartsOn}):s,d=r.viewEnd,u=void 0===d?n.addDays(c,7):d,h=n.addDays,w=n.getDay,m=[],p=c;p<u;)o.some(function(T){return w(p)===T})||m.push(St(n,{date:p,weekendDays:l})),p=h(p,1);return m}function zn(n,r){var t=r.events,i=void 0===t?[]:t,a=r.excluded,o=void 0===a?[]:a,l=r.precision,s=void 0===l?"days":l,c=r.absolutePositionedEvents,d=void 0!==c&&c,u=r.viewStart,h=r.viewEnd;u=n.startOfDay(u),h=n.endOfDay(h);var w=n.differenceInSeconds,m=n.differenceInDays,p=function Rn(n,r){for(var i=r.date2,a=r.excluded,o=r.date1,l=0;o<i;)-1===a.indexOf(n.getDay(o))&&l++,o=n.addDays(o,1);return l}(n,{date1:u,date2:h,excluded:o}),T=m(h,u)+1,f=i.filter(function(D){return D.allDay}).map(function(D){var M=function In(n,r){var t=r.event,i=r.startOfWeek,a=r.excluded,o=r.precision,l=n.differenceInDays,s=n.startOfDay,c=n.differenceInSeconds;if(t.start<i)return 0;var d=0;switch(o){case"days":d=l(s(t.start),i)*le;break;case"minutes":d=c(t.start,i)}return d-=Mt(n,{startDate:i,seconds:d,excluded:a,precision:o}),Math.abs(d/le)}(n,{event:D,startOfWeek:u,excluded:o,precision:s}),A=function Fn(n,r){var t=r.event,i=r.offset,o=r.excluded,l=r.precision,s=r.totalDaysInView,d=n.differenceInSeconds,u=n.addDays,h=n.endOfDay,w=n.differenceInDays,m=le,p=(0,n.max)([t.start,r.startOfWeekDate]);t.end&&(m="minutes"===l?d(t.end,p):w(u(h(t.end),1),p)*le);var T=i*le,y=s*le;return T+m>y&&(m=y-T),(m-=Mt(n,{startDate:p,seconds:m,excluded:o,precision:l}))/le}(n,{event:D,offset:M,startOfWeekDate:u,excluded:o,precision:s,totalDaysInView:T});return{event:D,offset:M,span:A}}).filter(function(D){return D.offset<p}).filter(function(D){return D.span>0}).map(function(D){return{event:D.event,offset:D.offset,span:D.span,startsBeforeWeek:D.event.start<u,endsAfterWeek:(D.event.end||D.event.start)>h}}).sort(function(D,M){var A=w(D.event.start,M.event.start);return 0===A?w(M.event.end||M.event.start,D.event.end||D.event.start):A}),y=[],x=[];return f.forEach(function(D,M){if(-1===x.indexOf(D)){x.push(D);var A=D.span+D.offset,z=f.slice(M+1).filter(function(S){if(S.offset>=A&&A+S.span<=T&&-1===x.indexOf(S)){var k=S.offset-A;return d||(S.offset=k),A+=S.span+k,x.push(S),!0}}),Y=Et([D],z),H=Y.filter(function(S){return S.event.id}).map(function(S){return S.event.id}).join("-");y.push(j({row:Y},H?{id:H}:{}))}}),y}function Nn(n,r){var t=r.events,i=r.viewDate,a=r.hourSegments,o=r.hourDuration,l=r.dayStart,s=r.dayEnd,c=r.weekStartsOn,d=r.excluded,u=r.weekendDays,h=r.segmentHeight,w=r.viewStart,m=r.viewEnd,p=r.minimumEventHeight,T=function Yn(n,r){var t=r.viewDate,i=r.hourSegments,a=r.hourDuration,o=r.dayStart,l=r.dayEnd,s=n.setMinutes,c=n.setHours,d=n.startOfDay,u=n.startOfMinute,h=n.endOfDay,w=n.addMinutes,p=n.addDays,T=[],f=s(c(d(t),Fe(o.hour)),Ie(o.minute)),y=s(c(u(h(t)),Fe(l.hour)),Ie(l.minute)),x=(a||60)/i,D=d(t),M=h(t),A=function(_){return _};n.getTimezoneOffset(D)!==n.getTimezoneOffset(M)&&(D=p(D,1),f=p(f,1),y=p(y,1),A=function(_){return p(_,-1)});for(var z=a?1440/a:60,Y=0;Y<z;Y++){for(var H=[],S=0;S<i;S++){var k=w(w(f,Y*(a||60)),S*x);k>=f&&k<y&&H.push({date:A(k),displayDate:k,isStart:0===S})}H.length>0&&T.push({segments:H})}return T}(n,{viewDate:i,hourSegments:a,hourDuration:o,dayStart:l,dayEnd:s}),f=et(n,{viewDate:i,weekStartsOn:c,excluded:d,weekendDays:u,viewStart:w,viewEnd:m}),y=n.setHours,x=n.setMinutes,D=n.getHours,M=n.getMinutes;return f.map(function(A){var z=function Zn(n,r){var t=r.events,i=r.viewDate,a=r.hourSegments,o=r.dayStart,l=r.dayEnd,s=r.eventWidth,c=r.segmentHeight,d=r.hourDuration,u=r.minimumEventHeight,h=n.setMinutes,w=n.setHours,m=n.startOfDay,p=n.startOfMinute,T=n.endOfDay,f=n.differenceInMinutes,y=h(w(m(i),Fe(o.hour)),Ie(o.minute)),x=h(w(p(T(i)),Fe(l.hour)),Ie(l.minute));x.setSeconds(59,999);var D=[],M=De(n,{events:t.filter(function(H){return!H.allDay}),periodStart:y,periodEnd:x}),A=M.sort(function(H,S){return H.start.valueOf()-S.start.valueOf()}).map(function(H){var S=H.start,k=H.end||S,_=S<y,v=k>x,R=a*c/(d||60),F=0;if(S>y){var qe=n.getTimezoneOffset(S),Dt=n.getTimezoneOffset(y)-qe;F+=f(S,y)+Dt}F*=R,F=Math.floor(F);var Oe=_?y:S,Tt=v?x:k,$=n.getTimezoneOffset(Oe)-n.getTimezoneOffset(Tt),J=f(Tt,Oe)+$;H.end?J*=R:J=c,u&&J<u&&(J=u),J=Math.floor(J);for(var bt=He(D,F,F+J),kt=0;bt.some(function(Yo){return Yo.left===kt});)kt+=s;var En={event:H,height:J,width:s,top:F,left:kt,startsBeforeDay:_,endsAfterDay:v};return D.push(En),En}),z=Math.max.apply(Math,A.map(function(H){return H.left+H.width})),Y=De(n,{events:t.filter(function(H){return H.allDay}),periodStart:m(y),periodEnd:T(x)});return{events:A,width:z,allDayEvents:Y,period:{events:M,start:y,end:x}}}(n,{events:t,viewDate:A.date,hourSegments:a,dayStart:l,dayEnd:s,segmentHeight:h,eventWidth:1,hourDuration:o,minimumEventHeight:p}),Y=T.map(function(k){var _=k.segments.map(function(v){var R=x(y(A.date,D(v.date)),M(v.date));return j(j({},v),{date:R})});return j(j({},k),{segments:_})});function H(k,_){var v=Math.max.apply(Math,_.map(function(F){return F.left+1})),R=k.filter(function(F){return F.left>=v}).filter(function(F){return He(_,F.top,F.top+F.height).length>0});return R.length>0?H(k,R):v}var S=z.events.map(function(k){var v=100/H(z.events,He(z.events,k.top,k.top+k.height));return j(j({},k),{left:k.left*v,width:v})});return{hours:Y,date:A.date,events:S.map(function(k){var _=He(S.filter(function(v){return v.left>k.left}),k.top,k.top+k.height);return _.length>0?j(j({},k),{width:Math.min.apply(Math,_.map(function(v){return v.left}))-k.left}):k})}})}function He(n,r,t){return n.filter(function(i){var a=i.top,o=i.top+i.height;return r<o&&o<t||r<a&&a<t||a<=r&&t<=o})}function Fe(n){return Math.max(Math.min(23,n),0)}function Ie(n){return Math.max(Math.min(59,n),0)}var se=(()=>{return(n=se||(se={})).NotArray="Events must be an array",n.StartPropertyMissing="Event is missing the `start` property",n.StartPropertyNotDate="Event `start` property should be a javascript date object. Do `new Date(event.start)` to fix it.",n.EndPropertyNotDate="Event `end` property should be a javascript date object. Do `new Date(event.end)` to fix it.",n.EndsBeforeStart="Event `start` property occurs after the `end`",se;var n})(),Vn=C(4707),ee=C(6451),$n=C(9841),de=C(4968),Q=C(9300),We=C(5577),te=C(3099),Te=C(5698),Un=C(2035),Jn=C(7359),Ot=C(4482);var Qn=C(5403);function tt(){return(0,Ot.e)((n,r)=>{let t,i=!1;n.subscribe((0,Qn.x)(r,a=>{const o=t;t=a,i&&r.next([o,a]),i=!0}))})}var Xn=C(1884);function nt(n,r){return n=function Gn(n,r){return void 0===n?void 0===r?n:r:n}(n,r),"function"==typeof n?function(){for(var i=arguments,a=arguments.length,o=Array(a),l=0;l<a;l++)o[l]=i[l];return!!n.apply(this,o)}:n?function(){return!0}:function(){return!1}}var it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol?"symbol":typeof n},At=function(n){return null!=n&&"object"===(void 0===n?"undefined":it(n))&&1===n.nodeType&&"object"===it(n.style)&&"object"===it(n.ownerDocument)};function Ht(n,r){if(r=at(r,!0),!At(r))return-1;for(var t=0;t<n.length;t++)if(n[t]===r)return t;return-1}function rt(n,r){return-1!==Ht(n,r)}function Kn(n,r){for(var t=0;t<r.length;t++)rt(n,r[t])||n.push(r[t]);return r}function ei(n){for(var r=arguments,t=[],i=arguments.length-1;i-- >0;)t[i]=r[i+1];return Kn(n,t=t.map(at))}function ti(n){for(var r=arguments,t=[],i=arguments.length-1;i-- >0;)t[i]=r[i+1];return t.map(at).reduce(function(a,o){var l=Ht(n,o);return-1!==l?a.concat(n.splice(l,1)):a},[])}function at(n,r){if("string"==typeof n)try{return document.querySelector(n)}catch(t){throw t}if(!At(n)&&!r)throw new TypeError(n+" is not a DOM element.");return n}function Ft(n){if(n===window)return function ii(){var n={top:{value:0,enumerable:!0},left:{value:0,enumerable:!0},right:{value:window.innerWidth,enumerable:!0},bottom:{value:window.innerHeight,enumerable:!0},width:{value:window.innerWidth,enumerable:!0},height:{value:window.innerHeight,enumerable:!0},x:{value:0,enumerable:!0},y:{value:0,enumerable:!0}};if(Object.create)return Object.create({},n);var r={};return Object.defineProperties(r,n),r}();try{var r=n.getBoundingClientRect();return void 0===r.x&&(r.x=r.left,r.y=r.top),r}catch(t){throw new TypeError("Can't call getBoundingClientRect on "+n)}}var r,ot=void 0;"function"!=typeof Object.create?(r=function(){},ot=function(t,i){if(t!==Object(t)&&null!==t)throw TypeError("Argument must be an object, or null");r.prototype=t||{};var a=new r;return r.prototype=null,void 0!==i&&Object.defineProperties(a,i),null===t&&(a.__proto__=null),a}):ot=Object.create;var ai=ot,ue=["altKey","button","buttons","clientX","clientY","ctrlKey","metaKey","movementX","movementY","offsetX","offsetY","pageX","pageY","region","relatedTarget","screenX","screenY","shiftKey","which","x","y"];function lt(n,r){r=r||{};for(var t=ai(n),i=0;i<ue.length;i++)void 0!==r[ue[i]]&&(t[ue[i]]=r[ue[i]]);return t}function st(n,r){console.log("data ",r),n.data=r||{},n.dispatched="mousemove"}var be=["webkit","moz","ms","o"],ke=function(){if("undefined"==typeof window)return function(){};for(var n=0,r=be.length;n<r&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[be[n]+"RequestAnimationFrame"];if(!window.requestAnimationFrame){var t=0;window.requestAnimationFrame=function(i){var a=(new Date).getTime(),o=Math.max(0,16-a-t),l=window.setTimeout(function(){return i(a+o)},o);return t=a+o,l}}return window.requestAnimationFrame.bind(window)}(),ve=function(){if("undefined"==typeof window)return function(){};for(var n=0,r=be.length;n<r&&!window.cancelAnimationFrame;++n)window.cancelAnimationFrame=window[be[n]+"CancelAnimationFrame"]||window[be[n]+"CancelRequestAnimationFrame"];return window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){window.clearTimeout(t)}),window.cancelAnimationFrame.bind(window)}();function li(n,r){void 0===r&&(r={});var t=this,i=4,a=!1;if("object"!=typeof r.margin){var o=r.margin||-1;this.margin={left:o,right:o,top:o,bottom:o}}else this.margin=r.margin;this.scrollWhenOutside=r.scrollWhenOutside||!1;var l={},s=function ni(n,r){var t=nt((r=r||{}).allowUpdate,!0);return function(a){if(a=a||window.event,n.target=a.target||a.srcElement||a.originalTarget,n.element=this,n.type=a.type,t(a)){if(a.targetTouches)n.x=a.targetTouches[0].clientX,n.y=a.targetTouches[0].clientY,n.pageX=a.targetTouches[0].pageX,n.pageY=a.targetTouches[0].pageY,n.screenX=a.targetTouches[0].screenX,n.screenY=a.targetTouches[0].screenY;else{if(null===a.pageX&&null!==a.clientX){var o=a.target&&a.target.ownerDocument||document,l=o.documentElement,s=o.body;n.pageX=a.clientX+(l&&l.scrollLeft||s&&s.scrollLeft||0)-(l&&l.clientLeft||s&&s.clientLeft||0),n.pageY=a.clientY+(l&&l.scrollTop||s&&s.scrollTop||0)-(l&&l.clientTop||s&&s.clientTop||0)}else n.pageX=a.pageX,n.pageY=a.pageY;n.x=a.clientX,n.y=a.clientY,n.screenX=a.screenX,n.screenY=a.screenY}n.clientX=n.x,n.clientY=n.y}}}(l),c=function oi(n){var r={screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1,button:0,buttons:1,relatedTarget:null,region:null};function t(o){for(var l=0;l<ue.length;l++)r[ue[l]]=o[ue[l]]}return void 0!==n&&n.addEventListener("mousemove",t),{destroy:function a(){n&&n.removeEventListener("mousemove",t,!1),r=null},dispatch:MouseEvent?function(l,s,c){var d=new MouseEvent("mousemove",lt(r,s));return st(d,c),l.dispatchEvent(d)}:"function"==typeof document.createEvent?function(l,s,c){var d=lt(r,s),u=document.createEvent("MouseEvents");return u.initMouseEvent("mousemove",!0,!0,window,0,d.screenX,d.screenY,d.clientX,d.clientY,d.ctrlKey,d.altKey,d.shiftKey,d.metaKey,d.button,d.relatedTarget),st(u,c),l.dispatchEvent(u)}:"function"==typeof document.createEventObject?function(l,s,c){var d=document.createEventObject(),u=lt(r,s);for(var h in u)d[h]=u[h];return st(d,c),l.dispatchEvent(d)}:void 0}}(),d=!1;window.addEventListener("mousemove",s,!1),window.addEventListener("touchmove",s,!1),isNaN(r.maxSpeed)||(i=r.maxSpeed),"object"!=typeof i&&(i={left:i,right:i,top:i,bottom:i}),this.autoScroll=nt(r.autoScroll),this.syncMove=nt(r.syncMove,!1),this.destroy=function(_){window.removeEventListener("mousemove",s,!1),window.removeEventListener("touchmove",s,!1),window.removeEventListener("mousedown",T,!1),window.removeEventListener("touchstart",T,!1),window.removeEventListener("mouseup",f,!1),window.removeEventListener("touchend",f,!1),window.removeEventListener("pointerup",f,!1),window.removeEventListener("mouseleave",x,!1),window.removeEventListener("mousemove",A,!1),window.removeEventListener("touchmove",A,!1),window.removeEventListener("scroll",p,!0),n=[],_&&y()},this.add=function(){for(var _=[],v=arguments.length;v--;)_[v]=arguments[v];return ei.apply(void 0,[n].concat(_)),this},this.remove=function(){for(var _=[],v=arguments.length;v--;)_[v]=arguments[v];return ti.apply(void 0,[n].concat(_))};var h,_,u=null;"[object Array]"!==Object.prototype.toString.call(n)&&(n=[n]),_=n,n=[],_.forEach(function(v){v===window?u=window:t.add(v)}),Object.defineProperties(this,{down:{get:function(){return d}},maxSpeed:{get:function(){return i}},point:{get:function(){return l}},scrolling:{get:function(){return a}}});var m,w=null;function p(_){for(var v=0;v<n.length;v++)if(n[v]===_.target){a=!0;break}a&&ke(function(){return a=!1})}function T(){d=!0}function f(){d=!1,y()}function y(){ve(m),ve(h)}function x(){d=!1}function M(){for(var _=null,v=0;v<n.length;v++)It(l,n[v])&&(_=n[v]);return _}function A(_){if(t.autoScroll()&&!_.dispatched){var v=_.target,R=document.body;w&&!It(l,w)&&(t.scrollWhenOutside||(w=null)),v&&v.parentNode===R?v=M():(v=function D(_){if(!_)return null;if(w===_||rt(n,_))return _;for(;_=_.parentNode;)if(rt(n,_))return _;return null}(v),v||(v=M())),v&&v!==w&&(w=v),u&&(ve(h),h=ke(z)),w&&(ve(m),m=ke(Y))}}function z(){H(u),ve(h),h=ke(z)}function Y(){!w||(H(w),ve(m),m=ke(Y))}function H(_){var R,F,v=Ft(_);R=l.x<v.left+t.margin.left?Math.floor(Math.max(-1,(l.x-v.left)/t.margin.left-1)*t.maxSpeed.left):l.x>v.right-t.margin.right?Math.ceil(Math.min(1,(l.x-v.right)/t.margin.right+1)*t.maxSpeed.right):0,F=l.y<v.top+t.margin.top?Math.floor(Math.max(-1,(l.y-v.top)/t.margin.top-1)*t.maxSpeed.top):l.y>v.bottom-t.margin.bottom?Math.ceil(Math.min(1,(l.y-v.bottom)/t.margin.bottom+1)*t.maxSpeed.bottom):0,t.syncMove()&&c.dispatch(_,{pageX:l.pageX+R,pageY:l.pageY+F,clientX:l.x+R,clientY:l.y+F}),setTimeout(function(){F&&function S(_,v){_===window?window.scrollTo(_.pageXOffset,_.pageYOffset+v):_.scrollTop+=v}(_,F),R&&function k(_,v){_===window?window.scrollTo(_.pageXOffset+v,_.pageYOffset):_.scrollLeft+=v}(_,R)})}window.addEventListener("mousedown",T,!1),window.addEventListener("touchstart",T,!1),window.addEventListener("mouseup",f,!1),window.addEventListener("touchend",f,!1),window.addEventListener("pointerup",f,!1),window.addEventListener("mousemove",A,!1),window.addEventListener("touchmove",A,!1),window.addEventListener("mouseleave",x,!1),window.addEventListener("scroll",p,!0)}function It(n,r,t){return t?n.y>t.top&&n.y<t.bottom&&n.x>t.left&&n.x<t.right:function ri(n,r){var t=Ft(r);return n.y>t.top&&n.y<t.bottom&&n.x>t.left&&n.x<t.right}(n,r)}function dt(n,r,t){t&&t.split(" ").forEach(i=>n.addClass(r.nativeElement,i))}function Re(n,r,t){t&&t.split(" ").forEach(i=>n.removeClass(r.nativeElement,i))}let Wt=(()=>{class n{constructor(){this.currentDrag=new W.x}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Rt=(()=>{class n{constructor(t){this.elementRef=t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq))},n.\u0275dir=e.lG2({type:n,selectors:[["","mwlDraggableScrollContainer",""]]}),n})(),ze=(()=>{class n{constructor(t,i,a,o,l,s,c){this.element=t,this.renderer=i,this.draggableHelper=a,this.zone=o,this.vcr=l,this.scrollContainer=s,this.document=c,this.dragAxis={x:!0,y:!0},this.dragSnapGrid={},this.ghostDragEnabled=!0,this.showOriginalElementWhileDragging=!1,this.dragCursor="",this.autoScroll={margin:20},this.dragPointerDown=new e.vpe,this.dragStart=new e.vpe,this.ghostElementCreated=new e.vpe,this.dragging=new e.vpe,this.dragEnd=new e.vpe,this.pointerDown$=new W.x,this.pointerMove$=new W.x,this.pointerUp$=new W.x,this.eventListenerSubscriptions={},this.destroy$=new W.x,this.timeLongPress={timerBegin:0,timerEnd:0}}ngOnInit(){this.checkEventListeners();const t=this.pointerDown$.pipe((0,Q.h)(()=>this.canDrag()),(0,We.z)(i=>{i.event.stopPropagation&&!this.scrollContainer&&i.event.stopPropagation();const a=this.renderer.createElement("style");this.renderer.setAttribute(a,"type","text/css"),this.renderer.appendChild(a,this.renderer.createText("\n          body * {\n           -moz-user-select: none;\n           -ms-user-select: none;\n           -webkit-user-select: none;\n           user-select: none;\n          }\n        ")),requestAnimationFrame(()=>{this.document.head.appendChild(a)});const o=this.getScrollPosition(),l=new U.y(m=>this.renderer.listen(this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window","scroll",T=>m.next(T))).pipe((0,K.O)(o),(0,V.U)(()=>this.getScrollPosition())),s=new W.x,c=new Vn.t;this.dragPointerDown.observers.length>0&&this.zone.run(()=>{this.dragPointerDown.next({x:0,y:0})});const d=(0,ee.T)(this.pointerUp$,this.pointerDown$,c,this.destroy$).pipe((0,te.B)()),u=(0,$n.a)([this.pointerMove$,l]).pipe((0,V.U)(([m,p])=>({currentDrag$:s,transformX:m.clientX-i.clientX,transformY:m.clientY-i.clientY,clientX:m.clientX,clientY:m.clientY,scrollLeft:p.left,scrollTop:p.top,target:m.event.target})),(0,V.U)(m=>(this.dragSnapGrid.x&&(m.transformX=Math.round(m.transformX/this.dragSnapGrid.x)*this.dragSnapGrid.x),this.dragSnapGrid.y&&(m.transformY=Math.round(m.transformY/this.dragSnapGrid.y)*this.dragSnapGrid.y),m)),(0,V.U)(m=>(this.dragAxis.x||(m.transformX=0),this.dragAxis.y||(m.transformY=0),m)),(0,V.U)(m=>{const p=m.scrollLeft-o.left,T=m.scrollTop-o.top;return Object.assign(Object.assign({},m),{x:m.transformX+p,y:m.transformY+T})}),(0,Q.h)(({x:m,y:p,transformX:T,transformY:f})=>!this.validateDrag||this.validateDrag({x:m,y:p,transform:{x:T,y:f}})),(0,Z.R)(d),(0,te.B)()),h=u.pipe((0,Te.q)(1),(0,te.B)()),w=u.pipe((0,Un.h)(1),(0,te.B)());return h.subscribe(({clientX:m,clientY:p,x:T,y:f})=>{if(this.dragStart.observers.length>0&&this.zone.run(()=>{this.dragStart.next({cancelDrag$:c})}),this.scroller=function si(n,r){return new li(n,r)}([this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.defaultView],Object.assign(Object.assign({},this.autoScroll),{autoScroll:()=>!0})),dt(this.renderer,this.element,this.dragActiveClass),this.ghostDragEnabled){const y=this.element.nativeElement.getBoundingClientRect(),x=this.element.nativeElement.cloneNode(!0);if(this.showOriginalElementWhileDragging||this.renderer.setStyle(this.element.nativeElement,"visibility","hidden"),this.ghostElementAppendTo?this.ghostElementAppendTo.appendChild(x):this.element.nativeElement.parentNode.insertBefore(x,this.element.nativeElement.nextSibling),this.ghostElement=x,this.document.body.style.cursor=this.dragCursor,this.setElementStyles(x,{position:"fixed",top:`${y.top}px`,left:`${y.left}px`,width:`${y.width}px`,height:`${y.height}px`,cursor:this.dragCursor,margin:"0",willChange:"transform",pointerEvents:"none"}),this.ghostElementTemplate){const D=this.vcr.createEmbeddedView(this.ghostElementTemplate);x.innerHTML="",D.rootNodes.filter(M=>M instanceof Node).forEach(M=>{x.appendChild(M)}),w.subscribe(()=>{this.vcr.remove(this.vcr.indexOf(D))})}this.ghostElementCreated.observers.length>0&&this.zone.run(()=>{this.ghostElementCreated.emit({clientX:m-T,clientY:p-f,element:x})}),w.subscribe(()=>{x.parentElement.removeChild(x),this.ghostElement=null,this.renderer.setStyle(this.element.nativeElement,"visibility","")})}this.draggableHelper.currentDrag.next(s)}),w.pipe((0,We.z)(m=>{const p=c.pipe(function jn(n){return function qn(n,r){return(0,Ot.e)((0,Jn.U)(n,r,arguments.length>=2,!1,!0))}((r,t,i)=>!n||n(t,i)?r+1:r,0)}(),(0,Te.q)(1),(0,V.U)(T=>Object.assign(Object.assign({},m),{dragCancelled:T>0})));return c.complete(),p})).subscribe(({x:m,y:p,dragCancelled:T})=>{this.scroller.destroy(),this.dragEnd.observers.length>0&&this.zone.run(()=>{this.dragEnd.next({x:m,y:p,dragCancelled:T})}),Re(this.renderer,this.element,this.dragActiveClass),s.complete()}),(0,ee.T)(d,w).pipe((0,Te.q)(1)).subscribe(()=>{requestAnimationFrame(()=>{this.document.head.removeChild(a)})}),u}),(0,te.B)());(0,ee.T)(t.pipe((0,Te.q)(1),(0,V.U)(i=>[,i])),t.pipe(tt())).pipe((0,Q.h)(([i,a])=>!i||i.x!==a.x||i.y!==a.y),(0,V.U)(([i,a])=>a)).subscribe(({x:i,y:a,currentDrag$:o,clientX:l,clientY:s,transformX:c,transformY:d,target:u})=>{this.dragging.observers.length>0&&this.zone.run(()=>{this.dragging.next({x:i,y:a})}),requestAnimationFrame(()=>{if(this.ghostElement){const h=`translate3d(${c}px, ${d}px, 0px)`;this.setElementStyles(this.ghostElement,{transform:h,"-webkit-transform":h,"-ms-transform":h,"-moz-transform":h,"-o-transform":h})}}),o.next({clientX:l,clientY:s,dropData:this.dropData,target:u})})}ngOnChanges(t){t.dragAxis&&this.checkEventListeners()}ngOnDestroy(){this.unsubscribeEventListeners(),this.pointerDown$.complete(),this.pointerMove$.complete(),this.pointerUp$.complete(),this.destroy$.next()}checkEventListeners(){const t=this.canDrag(),i=Object.keys(this.eventListenerSubscriptions).length>0;t&&!i?this.zone.runOutsideAngular(()=>{this.eventListenerSubscriptions.mousedown=this.renderer.listen(this.element.nativeElement,"mousedown",a=>{this.onMouseDown(a)}),this.eventListenerSubscriptions.mouseup=this.renderer.listen("document","mouseup",a=>{this.onMouseUp(a)}),this.eventListenerSubscriptions.touchstart=this.renderer.listen(this.element.nativeElement,"touchstart",a=>{this.onTouchStart(a)}),this.eventListenerSubscriptions.touchend=this.renderer.listen("document","touchend",a=>{this.onTouchEnd(a)}),this.eventListenerSubscriptions.touchcancel=this.renderer.listen("document","touchcancel",a=>{this.onTouchEnd(a)}),this.eventListenerSubscriptions.mouseenter=this.renderer.listen(this.element.nativeElement,"mouseenter",()=>{this.onMouseEnter()}),this.eventListenerSubscriptions.mouseleave=this.renderer.listen(this.element.nativeElement,"mouseleave",()=>{this.onMouseLeave()})}):!t&&i&&this.unsubscribeEventListeners()}onMouseDown(t){0===t.button&&(this.eventListenerSubscriptions.mousemove||(this.eventListenerSubscriptions.mousemove=this.renderer.listen("document","mousemove",i=>{this.pointerMove$.next({event:i,clientX:i.clientX,clientY:i.clientY})})),this.pointerDown$.next({event:t,clientX:t.clientX,clientY:t.clientY}))}onMouseUp(t){0===t.button&&(this.eventListenerSubscriptions.mousemove&&(this.eventListenerSubscriptions.mousemove(),delete this.eventListenerSubscriptions.mousemove),this.pointerUp$.next({event:t,clientX:t.clientX,clientY:t.clientY}))}onTouchStart(t){let i,a,o;if(this.touchStartLongPress&&(this.timeLongPress.timerBegin=Date.now(),a=!1,o=this.hasScrollbar(),i=this.getScrollPosition()),!this.eventListenerSubscriptions.touchmove){const l=(0,de.R)(this.document,"contextmenu").subscribe(c=>{c.preventDefault()}),s=(0,de.R)(this.document,"touchmove",{passive:!1}).subscribe(c=>{this.touchStartLongPress&&!a&&o&&(a=this.shouldBeginDrag(t,c,i)),(!this.touchStartLongPress||!o||a)&&(c.preventDefault(),this.pointerMove$.next({event:c,clientX:c.targetTouches[0].clientX,clientY:c.targetTouches[0].clientY}))});this.eventListenerSubscriptions.touchmove=()=>{l.unsubscribe(),s.unsubscribe()}}this.pointerDown$.next({event:t,clientX:t.touches[0].clientX,clientY:t.touches[0].clientY})}onTouchEnd(t){this.eventListenerSubscriptions.touchmove&&(this.eventListenerSubscriptions.touchmove(),delete this.eventListenerSubscriptions.touchmove,this.touchStartLongPress&&this.enableScroll()),this.pointerUp$.next({event:t,clientX:t.changedTouches[0].clientX,clientY:t.changedTouches[0].clientY})}onMouseEnter(){this.setCursor(this.dragCursor)}onMouseLeave(){this.setCursor("")}canDrag(){return this.dragAxis.x||this.dragAxis.y}setCursor(t){this.eventListenerSubscriptions.mousemove||this.renderer.setStyle(this.element.nativeElement,"cursor",t)}unsubscribeEventListeners(){Object.keys(this.eventListenerSubscriptions).forEach(t=>{this.eventListenerSubscriptions[t](),delete this.eventListenerSubscriptions[t]})}setElementStyles(t,i){Object.keys(i).forEach(a=>{this.renderer.setStyle(t,a,i[a])})}getScrollElement(){return this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.body}getScrollPosition(){return this.scrollContainer?{top:this.scrollContainer.elementRef.nativeElement.scrollTop,left:this.scrollContainer.elementRef.nativeElement.scrollLeft}:{top:window.pageYOffset||this.document.documentElement.scrollTop,left:window.pageXOffset||this.document.documentElement.scrollLeft}}shouldBeginDrag(t,i,a){const o=this.getScrollPosition(),l_top=Math.abs(o.top-a.top),l_left=Math.abs(o.left-a.left),s=Math.abs(i.targetTouches[0].clientX-t.touches[0].clientX)-l_left,c=Math.abs(i.targetTouches[0].clientY-t.touches[0].clientY)-l_top,u=this.touchStartLongPress;return(s+c>u.delta||l_top>0||l_left>0)&&(this.timeLongPress.timerBegin=Date.now()),this.timeLongPress.timerEnd=Date.now(),this.timeLongPress.timerEnd-this.timeLongPress.timerBegin>=u.delay&&(this.disableScroll(),!0)}enableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow",""),this.renderer.setStyle(this.document.body,"overflow","")}disableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow","hidden"),this.renderer.setStyle(this.document.body,"overflow","hidden")}hasScrollbar(){const t=this.getScrollElement();return t.scrollWidth>t.clientWidth||t.scrollHeight>t.clientHeight}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(Wt),e.Y36(e.R0b),e.Y36(e.s_b),e.Y36(Rt,8),e.Y36(g.K0))},n.\u0275dir=e.lG2({type:n,selectors:[["","mwlDraggable",""]],inputs:{dropData:"dropData",dragAxis:"dragAxis",dragSnapGrid:"dragSnapGrid",ghostDragEnabled:"ghostDragEnabled",showOriginalElementWhileDragging:"showOriginalElementWhileDragging",validateDrag:"validateDrag",dragCursor:"dragCursor",dragActiveClass:"dragActiveClass",ghostElementAppendTo:"ghostElementAppendTo",ghostElementTemplate:"ghostElementTemplate",touchStartLongPress:"touchStartLongPress",autoScroll:"autoScroll"},outputs:{dragPointerDown:"dragPointerDown",dragStart:"dragStart",ghostElementCreated:"ghostElementCreated",dragging:"dragging",dragEnd:"dragEnd"},features:[e.TTD]}),n})();function zt(n,r,t){return n>=t.left&&n<=t.right&&r>=t.top&&r<=t.bottom}let Ne=(()=>{class n{constructor(t,i,a,o,l){this.element=t,this.draggableHelper=i,this.zone=a,this.renderer=o,this.scrollContainer=l,this.dragEnter=new e.vpe,this.dragLeave=new e.vpe,this.dragOver=new e.vpe,this.drop=new e.vpe}ngOnInit(){this.currentDragSubscription=this.draggableHelper.currentDrag.subscribe(t=>{dt(this.renderer,this.element,this.dragActiveClass);const i={updateCache:!0},a=this.renderer.listen(this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window","scroll",()=>{i.updateCache=!0});let o;const l=t.pipe((0,V.U)(({clientX:d,clientY:u,dropData:h,target:w})=>{o={clientX:d,clientY:u,dropData:h,target:w},i.updateCache&&(i.rect=this.element.nativeElement.getBoundingClientRect(),this.scrollContainer&&(i.scrollContainerRect=this.scrollContainer.elementRef.nativeElement.getBoundingClientRect()),i.updateCache=!1);const m=zt(d,u,i.rect),p=!this.validateDrop||this.validateDrop({clientX:d,clientY:u,target:w,dropData:h});return i.scrollContainerRect?m&&p&&zt(d,u,i.scrollContainerRect):m&&p})),s=l.pipe((0,Xn.x)());let c;s.pipe((0,Q.h)(d=>d)).subscribe(()=>{c=!0,dt(this.renderer,this.element,this.dragOverClass),this.dragEnter.observers.length>0&&this.zone.run(()=>{this.dragEnter.next(o)})}),l.pipe((0,Q.h)(d=>d)).subscribe(()=>{this.dragOver.observers.length>0&&this.zone.run(()=>{this.dragOver.next(o)})}),s.pipe(tt(),(0,Q.h)(([d,u])=>d&&!u)).subscribe(()=>{c=!1,Re(this.renderer,this.element,this.dragOverClass),this.dragLeave.observers.length>0&&this.zone.run(()=>{this.dragLeave.next(o)})}),t.subscribe({complete:()=>{a(),Re(this.renderer,this.element,this.dragActiveClass),c&&(Re(this.renderer,this.element,this.dragOverClass),this.drop.observers.length>0&&this.zone.run(()=>{this.drop.next(o)}))}})})}ngOnDestroy(){this.currentDragSubscription&&this.currentDragSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(Wt),e.Y36(e.R0b),e.Y36(e.Qsj),e.Y36(Rt,8))},n.\u0275dir=e.lG2({type:n,selectors:[["","mwlDroppable",""]],inputs:{dragOverClass:"dragOverClass",dragActiveClass:"dragActiveClass",validateDrop:"validateDrop"},outputs:{dragEnter:"dragEnter",dragLeave:"dragLeave",dragOver:"dragOver",drop:"drop"}}),n})(),xe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})();var ne=C(1777),Nt=C(8505);const pe="undefined"!=typeof window&&("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0);function Pt(n,r,t,i){const a=r.querySelectorAll(n);if(a.length){const o=t.querySelectorAll(n);for(let l=0;l<a.length;l++)i(a[l],o[l])}}let ui=0;function Lt(n,r){"file"!==r.type&&(r.value=n.value),"radio"===r.type&&r.name&&(r.name=`mat-clone-${r.name}-${ui++}`)}function Zt(n,r){const t=r.getContext("2d");if(t)try{t.drawImage(n,0,0)}catch(i){}}function Yt(n,r,t,i){const a={top:n.top,bottom:n.bottom,left:n.left,right:n.right};return r.top&&(a.top+=i),r.bottom&&(a.bottom+=i),r.left&&(a.left+=t),r.right&&(a.right+=t),a.height=a.bottom-a.top,a.width=a.right-a.left,a}const Bt=Object.freeze({topLeft:"nw-resize",topRight:"ne-resize",bottomLeft:"sw-resize",bottomRight:"se-resize",leftOrRight:"col-resize",topOrBottom:"row-resize"});function Vt(n,r){return n.left&&n.top?r.topLeft:n.right&&n.top?r.topRight:n.left&&n.bottom?r.bottomLeft:n.right&&n.bottom?r.bottomRight:n.left||n.right?r.leftOrRight:n.top||n.bottom?r.topOrBottom:""}function Pe({edges:n,initialRectangle:r,newRectangle:t}){const i={};return Object.keys(n).forEach(a=>{i[a]=(t[a]||0)-(r[a]||0)}),i}const $t="resize-active";let Ut=(()=>{class n{constructor(t,i,a,o){this.platformId=t,this.renderer=i,this.elm=a,this.zone=o,this.enableGhostResize=!1,this.resizeSnapGrid={},this.resizeCursors=Bt,this.ghostElementPositioning="fixed",this.allowNegativeResizes=!1,this.mouseMoveThrottleMS=50,this.resizeStart=new e.vpe,this.resizing=new e.vpe,this.resizeEnd=new e.vpe,this.mouseup=new W.x,this.mousedown=new W.x,this.mousemove=new W.x,this.destroy$=new W.x,this.pointerEventListeners=fe.getInstance(i,o)}ngOnInit(){const t=(0,ee.T)(this.pointerEventListeners.pointerDown,this.mousedown),i=(0,ee.T)(this.pointerEventListeners.pointerMove,this.mousemove).pipe((0,Nt.b)(({event:d})=>{if(o)try{d.preventDefault()}catch(u){}}),(0,te.B)()),a=(0,ee.T)(this.pointerEventListeners.pointerUp,this.mouseup);let o;const l=()=>{o&&o.clonedNode&&(this.elm.nativeElement.parentElement.removeChild(o.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","inherit"))},s=()=>Object.assign(Object.assign({},Bt),this.resizeCursors);t.pipe((0,We.z)(d=>{function u(m){return{clientX:m.clientX-d.clientX,clientY:m.clientY-d.clientY}}const h=()=>{const m={x:1,y:1};return o&&(this.resizeSnapGrid.left&&o.edges.left?m.x=+this.resizeSnapGrid.left:this.resizeSnapGrid.right&&o.edges.right&&(m.x=+this.resizeSnapGrid.right),this.resizeSnapGrid.top&&o.edges.top?m.y=+this.resizeSnapGrid.top:this.resizeSnapGrid.bottom&&o.edges.bottom&&(m.y=+this.resizeSnapGrid.bottom)),m};function w(m,p){return{x:Math.ceil(m.clientX/p.x),y:Math.ceil(m.clientY/p.y)}}return(0,ee.T)(i.pipe((0,Te.q)(1)).pipe((0,V.U)(m=>[,m])),i.pipe(tt())).pipe((0,V.U)(([m,p])=>[m&&u(m),u(p)])).pipe((0,Q.h)(([m,p])=>{if(!m)return!0;const T=h(),f=w(m,T),y=w(p,T);return f.x!==y.x||f.y!==y.y})).pipe((0,V.U)(([,m])=>{const p=h();return{clientX:Math.round(m.clientX/p.x)*p.x,clientY:Math.round(m.clientY/p.y)*p.y}})).pipe((0,Z.R)((0,ee.T)(a,t)))})).pipe((0,Q.h)(()=>!!o)).pipe((0,V.U)(({clientX:d,clientY:u})=>Yt(o.startingRect,o.edges,d,u))).pipe((0,Q.h)(d=>this.allowNegativeResizes||!!(d.height&&d.width&&d.height>0&&d.width>0))).pipe((0,Q.h)(d=>!this.validateResize||this.validateResize({rectangle:d,edges:Pe({edges:o.edges,initialRectangle:o.startingRect,newRectangle:d})})),(0,Z.R)(this.destroy$)).subscribe(d=>{o&&o.clonedNode&&(this.renderer.setStyle(o.clonedNode,"height",`${d.height}px`),this.renderer.setStyle(o.clonedNode,"width",`${d.width}px`),this.renderer.setStyle(o.clonedNode,"top",`${d.top}px`),this.renderer.setStyle(o.clonedNode,"left",`${d.left}px`)),this.resizing.observers.length>0&&this.zone.run(()=>{this.resizing.emit({edges:Pe({edges:o.edges,initialRectangle:o.startingRect,newRectangle:d}),rectangle:d})}),o.currentRect=d}),t.pipe((0,V.U)(({edges:d})=>d||{}),(0,Q.h)(d=>Object.keys(d).length>0),(0,Z.R)(this.destroy$)).subscribe(d=>{o&&l();const u=function pi(n,r){let t=0,i=0;const a=n.nativeElement.style,l=["transform","-ms-transform","-moz-transform","-o-transform"].map(s=>a[s]).find(s=>!!s);if(l&&l.includes("translate")&&(t=l.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$1"),i=l.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$2")),"absolute"===r)return{height:n.nativeElement.offsetHeight,width:n.nativeElement.offsetWidth,top:n.nativeElement.offsetTop-i,bottom:n.nativeElement.offsetHeight+n.nativeElement.offsetTop-i,left:n.nativeElement.offsetLeft-t,right:n.nativeElement.offsetWidth+n.nativeElement.offsetLeft-t};{const s=n.nativeElement.getBoundingClientRect();return{height:s.height,width:s.width,top:s.top-i,bottom:s.bottom-i,left:s.left-t,right:s.right-t,scrollTop:n.nativeElement.scrollTop,scrollLeft:n.nativeElement.scrollLeft}}}(this.elm,this.ghostElementPositioning);o={edges:d,startingRect:u,currentRect:u};const h=s(),w=Vt(o.edges,h);this.renderer.setStyle(document.body,"cursor",w),this.setElementClass(this.elm,$t,!0),this.enableGhostResize&&(o.clonedNode=function ci(n){const r=n.cloneNode(!0),t=r.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();return r.removeAttribute("id"),t.forEach(a=>{a.removeAttribute("id")}),"canvas"===i?Zt(n,r):("input"===i||"select"===i||"textarea"===i)&&Lt(n,r),Pt("canvas",n,r,Zt),Pt("input, textarea, select",n,r,Lt),r}(this.elm.nativeElement),this.elm.nativeElement.parentElement.appendChild(o.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","hidden"),this.renderer.setStyle(o.clonedNode,"position",this.ghostElementPositioning),this.renderer.setStyle(o.clonedNode,"left",`${o.startingRect.left}px`),this.renderer.setStyle(o.clonedNode,"top",`${o.startingRect.top}px`),this.renderer.setStyle(o.clonedNode,"height",`${o.startingRect.height}px`),this.renderer.setStyle(o.clonedNode,"width",`${o.startingRect.width}px`),this.renderer.setStyle(o.clonedNode,"cursor",Vt(o.edges,h)),this.renderer.addClass(o.clonedNode,"resize-ghost-element"),o.clonedNode.scrollTop=o.startingRect.scrollTop,o.clonedNode.scrollLeft=o.startingRect.scrollLeft),this.resizeStart.observers.length>0&&this.zone.run(()=>{this.resizeStart.emit({edges:Pe({edges:d,initialRectangle:u,newRectangle:u}),rectangle:Yt(u,{},0,0)})})}),a.pipe((0,Z.R)(this.destroy$)).subscribe(()=>{o&&(this.renderer.removeClass(this.elm.nativeElement,$t),this.renderer.setStyle(document.body,"cursor",""),this.renderer.setStyle(this.elm.nativeElement,"cursor",""),this.resizeEnd.observers.length>0&&this.zone.run(()=>{this.resizeEnd.emit({edges:Pe({edges:o.edges,initialRectangle:o.startingRect,newRectangle:o.currentRect}),rectangle:o.currentRect})}),l(),o=null)})}ngOnDestroy(){(0,g.NF)(this.platformId)&&this.renderer.setStyle(document.body,"cursor",""),this.mousedown.complete(),this.mouseup.complete(),this.mousemove.complete(),this.destroy$.next()}setElementClass(t,i,a){a?this.renderer.addClass(t.nativeElement,i):this.renderer.removeClass(t.nativeElement,i)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Lbi),e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(e.R0b))},n.\u0275dir=e.lG2({type:n,selectors:[["","mwlResizable",""]],inputs:{validateResize:"validateResize",enableGhostResize:"enableGhostResize",resizeSnapGrid:"resizeSnapGrid",resizeCursors:"resizeCursors",ghostElementPositioning:"ghostElementPositioning",allowNegativeResizes:"allowNegativeResizes",mouseMoveThrottleMS:"mouseMoveThrottleMS"},outputs:{resizeStart:"resizeStart",resizing:"resizing",resizeEnd:"resizeEnd"},exportAs:["mwlResizable"]}),n})();class fe{constructor(r,t){this.pointerDown=new U.y(i=>{let a,o;return t.runOutsideAngular(()=>{a=r.listen("document","mousedown",l=>{i.next({clientX:l.clientX,clientY:l.clientY,event:l})}),pe&&(o=r.listen("document","touchstart",l=>{i.next({clientX:l.touches[0].clientX,clientY:l.touches[0].clientY,event:l})}))}),()=>{a(),pe&&o()}}).pipe((0,te.B)()),this.pointerMove=new U.y(i=>{let a,o;return t.runOutsideAngular(()=>{a=r.listen("document","mousemove",l=>{i.next({clientX:l.clientX,clientY:l.clientY,event:l})}),pe&&(o=r.listen("document","touchmove",l=>{i.next({clientX:l.targetTouches[0].clientX,clientY:l.targetTouches[0].clientY,event:l})}))}),()=>{a(),pe&&o()}}).pipe((0,te.B)()),this.pointerUp=new U.y(i=>{let a,o,l;return t.runOutsideAngular(()=>{a=r.listen("document","mouseup",s=>{i.next({clientX:s.clientX,clientY:s.clientY,event:s})}),pe&&(o=r.listen("document","touchend",s=>{i.next({clientX:s.changedTouches[0].clientX,clientY:s.changedTouches[0].clientY,event:s})}),l=r.listen("document","touchcancel",s=>{i.next({clientX:s.changedTouches[0].clientX,clientY:s.changedTouches[0].clientY,event:s})}))}),()=>{a(),pe&&(o(),l())}}).pipe((0,te.B)())}static getInstance(r,t){return fe.instance||(fe.instance=new fe(r,t)),fe.instance}}let gi=(()=>{class n{constructor(t,i,a,o){this.renderer=t,this.element=i,this.zone=a,this.resizableDirective=o,this.resizeEdges={},this.eventListeners={},this.destroy$=new W.x}ngOnInit(){this.zone.runOutsideAngular(()=>{this.listenOnTheHost("mousedown").subscribe(t=>{this.onMousedown(t,t.clientX,t.clientY)}),this.listenOnTheHost("mouseup").subscribe(t=>{this.onMouseup(t.clientX,t.clientY)}),pe&&(this.listenOnTheHost("touchstart").subscribe(t=>{this.onMousedown(t,t.touches[0].clientX,t.touches[0].clientY)}),(0,ee.T)(this.listenOnTheHost("touchend"),this.listenOnTheHost("touchcancel")).subscribe(t=>{this.onMouseup(t.changedTouches[0].clientX,t.changedTouches[0].clientY)}))})}ngOnDestroy(){this.destroy$.next(),this.unsubscribeEventListeners()}onMousedown(t,i,a){t.preventDefault(),this.eventListeners.touchmove||(this.eventListeners.touchmove=this.renderer.listen(this.element.nativeElement,"touchmove",o=>{this.onMousemove(o,o.targetTouches[0].clientX,o.targetTouches[0].clientY)})),this.eventListeners.mousemove||(this.eventListeners.mousemove=this.renderer.listen(this.element.nativeElement,"mousemove",o=>{this.onMousemove(o,o.clientX,o.clientY)})),this.resizable.mousedown.next({clientX:i,clientY:a,edges:this.resizeEdges})}onMouseup(t,i){this.unsubscribeEventListeners(),this.resizable.mouseup.next({clientX:t,clientY:i,edges:this.resizeEdges})}get resizable(){return this.resizableDirective||this.resizableContainer}onMousemove(t,i,a){this.resizable.mousemove.next({clientX:i,clientY:a,edges:this.resizeEdges,event:t})}unsubscribeEventListeners(){Object.keys(this.eventListeners).forEach(t=>{this.eventListeners[t](),delete this.eventListeners[t]})}listenOnTheHost(t){return(0,de.R)(this.element.nativeElement,t).pipe((0,Z.R)(this.destroy$))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(Ut,8))},n.\u0275dir=e.lG2({type:n,selectors:[["","mwlResizeHandle",""]],inputs:{resizeEdges:"resizeEdges",resizableContainer:"resizableContainer"}}),n})(),Jt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})();var ct=C(655);const vi=function(n){return{action:n}};function fi(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"a",5),e.NdJ("mwlClick",function(a){const l=e.CHM(t).$implicit,s=e.oxw(2).event;return l.onClick({event:s,sourceEvent:a})})("mwlKeydownEnter",function(a){const l=e.CHM(t).$implicit,s=e.oxw(2).event;return l.onClick({event:s,sourceEvent:a})}),e.ALo(1,"calendarA11y"),e.qZA()}if(2&n){const t=r.$implicit;e.Q6J("ngClass",t.cssClass)("innerHtml",t.label,e.oJD),e.uIk("aria-label",e.xi3(1,3,e.VKq(6,vi,t),"actionButtonLabel"))}}function wi(n,r){if(1&n&&(e.TgZ(0,"span",3),e.YNc(1,fi,2,8,"a",4),e.qZA()),2&n){const t=e.oxw(),i=t.event,a=t.trackByActionId;e.xp6(1),e.Q6J("ngForOf",i.actions)("ngForTrackBy",a)}}function _i(n,r){1&n&&e.YNc(0,wi,2,2,"span",2),2&n&&e.Q6J("ngIf",r.event.actions)}function yi(n,r){}const Ci=function(n,r){return{event:n,trackByActionId:r}},we=function(){return{}};function Di(n,r){if(1&n&&(e._UZ(0,"span",2),e.ALo(1,"calendarEventTitle"),e.ALo(2,"calendarA11y")),2&n){const t=r.event;e.Q6J("innerHTML",e.Dn7(1,2,t.title,r.view,t),e.oJD),e.uIk("aria-hidden",e.xi3(2,6,e.DdM(9,we),"hideEventTitle"))}}function Ti(n,r){}const bi=function(n,r){return{event:n,view:r}};function ki(n,r){if(1&n&&(e.TgZ(0,"div",2),e._UZ(1,"div",3)(2,"div",4),e.qZA()),2&n){const t=r.contents;e.Q6J("ngClass","cal-tooltip-"+r.placement),e.xp6(2),e.Q6J("innerHtml",t,e.oJD)}}function xi(n,r){}const Ei=function(n,r,t){return{contents:n,placement:r,event:t}};function Mi(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",4),e.NdJ("click",function(a){const l=e.CHM(t).$implicit;return e.oxw(2).columnHeaderClicked.emit({isoDayNumber:l.day,sourceEvent:a})}),e._uU(1),e.ALo(2,"calendarDate"),e.qZA()}if(2&n){const t=r.$implicit,i=e.oxw().locale;e.ekj("cal-past",t.isPast)("cal-today",t.isToday)("cal-future",t.isFuture)("cal-weekend",t.isWeekend),e.Q6J("ngClass",t.cssClass),e.xp6(1),e.hij(" ",e.Dn7(2,10,t.date,"monthViewColumnHeader",i)," ")}}function Si(n,r){if(1&n&&(e.TgZ(0,"div",2),e.YNc(1,Mi,3,14,"div",3),e.qZA()),2&n){const t=r.days,i=r.trackByWeekDayHeaderDate;e.xp6(1),e.Q6J("ngForOf",t)("ngForTrackBy",i)}}function Oi(n,r){}const Ai=function(n,r,t){return{days:n,locale:r,trackByWeekDayHeaderDate:t}};function Hi(n,r){if(1&n&&(e.TgZ(0,"span",7),e._uU(1),e.qZA()),2&n){const t=e.oxw().day;e.xp6(1),e.Oqu(t.badgeTotal)}}const ut=function(n){return{backgroundColor:n}},Fi=function(n,r){return{event:n,draggedFrom:r}},Ee=function(n,r){return{x:n,y:r}},Le=function(){return{delay:300,delta:30}};function Ii(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",10),e.NdJ("mouseenter",function(){const o=e.CHM(t).$implicit;return e.oxw(2).highlightDay.emit({event:o})})("mouseleave",function(){const o=e.CHM(t).$implicit;return e.oxw(2).unhighlightDay.emit({event:o})})("mwlClick",function(a){const l=e.CHM(t).$implicit;return e.oxw(2).eventClicked.emit({event:l,sourceEvent:a})}),e.ALo(1,"calendarEventTitle"),e.ALo(2,"calendarA11y"),e.qZA()}if(2&n){const t=r.$implicit,i=e.oxw(2),a=i.tooltipPlacement,o=i.tooltipTemplate,l=i.tooltipAppendToBody,s=i.tooltipDelay,c=i.day,d=i.validateDrag;e.ekj("cal-draggable",t.draggable),e.Q6J("ngStyle",e.VKq(22,ut,null==t.color?null:t.color.primary))("ngClass",null==t?null:t.cssClass)("mwlCalendarTooltip",e.Dn7(1,15,t.title,"monthTooltip",t))("tooltipPlacement",a)("tooltipEvent",t)("tooltipTemplate",o)("tooltipAppendToBody",l)("tooltipDelay",s)("dropData",e.WLB(24,Fi,t,c))("dragAxis",e.WLB(27,Ee,t.draggable,t.draggable))("validateDrag",d)("touchStartLongPress",e.DdM(30,Le)),e.uIk("aria-hidden",e.xi3(2,19,e.DdM(31,we),"hideMonthCellEvents"))}}function Wi(n,r){if(1&n&&(e.TgZ(0,"div",8),e.YNc(1,Ii,3,32,"div",9),e.qZA()),2&n){const t=e.oxw(),i=t.day,a=t.trackByEventId;e.xp6(1),e.Q6J("ngForOf",i.events)("ngForTrackBy",a)}}const Ri=function(n,r){return{day:n,locale:r}};function zi(n,r){if(1&n&&(e.TgZ(0,"div",2),e.ALo(1,"calendarA11y"),e.TgZ(2,"span",3),e.YNc(3,Hi,2,1,"span",4),e.TgZ(4,"span",5),e._uU(5),e.ALo(6,"calendarDate"),e.qZA()()(),e.YNc(7,Wi,2,2,"div",6)),2&n){const t=r.day,i=r.locale;e.uIk("aria-label",e.xi3(1,4,e.WLB(11,Ri,t,i),"monthCell")),e.xp6(3),e.Q6J("ngIf",t.badgeTotal>0),e.xp6(2),e.Oqu(e.Dn7(6,7,t.date,"monthViewDayNumber",i)),e.xp6(2),e.Q6J("ngIf",t.events.length>0)}}function Ni(n,r){}const Pi=function(n,r,t,i,a,o,l,s,c,d,u,h){return{day:n,openDay:r,locale:t,tooltipPlacement:i,highlightDay:a,unhighlightDay:o,eventClicked:l,tooltipTemplate:s,tooltipAppendToBody:c,tooltipDelay:d,trackByEventId:u,validateDrag:h}},Li=function(n){return{event:n}},qt=function(n,r){return{event:n,locale:r}};function Zi(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",7),e._UZ(1,"span",8),e._uU(2," "),e.TgZ(3,"mwl-calendar-event-title",9),e.NdJ("mwlClick",function(a){const l=e.CHM(t).$implicit;return e.oxw(2).eventClicked.emit({event:l,sourceEvent:a})})("mwlKeydownEnter",function(a){const l=e.CHM(t).$implicit;return e.oxw(2).eventClicked.emit({event:l,sourceEvent:a})}),e.ALo(4,"calendarA11y"),e.qZA(),e._uU(5," "),e._UZ(6,"mwl-calendar-event-actions",10),e.qZA()}if(2&n){const t=r.$implicit,i=e.oxw(2).validateDrag,a=e.oxw();e.ekj("cal-draggable",t.draggable),e.Q6J("ngClass",null==t?null:t.cssClass)("dropData",e.VKq(16,Li,t))("dragAxis",e.WLB(18,Ee,t.draggable,t.draggable))("validateDrag",i)("touchStartLongPress",e.DdM(21,Le)),e.xp6(1),e.Q6J("ngStyle",e.VKq(22,ut,null==t.color?null:t.color.primary)),e.xp6(2),e.Q6J("event",t)("customTemplate",a.eventTitleTemplate),e.uIk("aria-label",e.xi3(4,13,e.WLB(24,qt,t,a.locale),"eventDescription")),e.xp6(3),e.Q6J("event",t)("customTemplate",a.eventActionsTemplate)}}const jt=function(n,r){return{date:n,locale:r}};function Yi(n,r){if(1&n&&(e.TgZ(0,"div",3),e._UZ(1,"span",4),e.ALo(2,"calendarA11y"),e._UZ(3,"span",5),e.ALo(4,"calendarA11y"),e.YNc(5,Zi,7,27,"div",6),e.qZA()),2&n){const t=e.oxw(),i=t.events,a=t.trackByEventId,o=e.oxw();e.Q6J("@collapse",void 0),e.xp6(1),e.uIk("aria-label",e.xi3(2,5,e.WLB(11,jt,o.date,o.locale),"openDayEventsAlert")),e.xp6(2),e.uIk("aria-label",e.xi3(4,8,e.WLB(14,jt,o.date,o.locale),"openDayEventsLandmark")),e.xp6(2),e.Q6J("ngForOf",i)("ngForTrackBy",a)}}function Bi(n,r){1&n&&e.YNc(0,Yi,6,17,"div",2),2&n&&e.Q6J("ngIf",r.isOpen)}function Vi(n,r){}const $i=function(n,r,t,i,a){return{events:n,eventClicked:r,isOpen:t,trackByEventId:i,validateDrag:a}};function Ui(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"mwl-calendar-month-cell",7),e.NdJ("mwlClick",function(a){const l=e.CHM(t).$implicit;return e.oxw(2).dayClicked.emit({day:l,sourceEvent:a})})("mwlKeydownEnter",function(a){const l=e.CHM(t).$implicit;return e.oxw(2).dayClicked.emit({day:l,sourceEvent:a})})("highlightDay",function(a){return e.CHM(t),e.oxw(2).toggleDayHighlight(a.event,!0)})("unhighlightDay",function(a){return e.CHM(t),e.oxw(2).toggleDayHighlight(a.event,!1)})("drop",function(a){const l=e.CHM(t).$implicit;return e.oxw(2).eventDropped(l,a.dropData.event,a.dropData.draggedFrom)})("eventClicked",function(a){return e.CHM(t),e.oxw(2).eventClicked.emit({event:a.event,sourceEvent:a.sourceEvent})}),e.ALo(1,"calendarA11y"),e.qZA()}if(2&n){const t=r.$implicit,i=e.oxw(2);e.Q6J("ngClass",null==t?null:t.cssClass)("day",t)("openDay",i.openDay)("locale",i.locale)("tooltipPlacement",i.tooltipPlacement)("tooltipAppendToBody",i.tooltipAppendToBody)("tooltipTemplate",i.tooltipTemplate)("tooltipDelay",i.tooltipDelay)("customTemplate",i.cellTemplate)("ngStyle",e.VKq(15,ut,t.backgroundColor))("clickListenerDisabled",0===i.dayClicked.observers.length),e.uIk("tabindex",e.xi3(1,12,e.DdM(17,we),"monthCellTabIndex"))}}function Ji(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",4),e.YNc(2,Ui,2,18,"mwl-calendar-month-cell",5),e.ALo(3,"slice"),e.qZA(),e.TgZ(4,"mwl-calendar-open-day-events",6),e.NdJ("eventClicked",function(a){return e.CHM(t),e.oxw().eventClicked.emit({event:a.event,sourceEvent:a.sourceEvent})})("drop",function(a){e.CHM(t);const o=e.oxw();return o.eventDropped(o.openDay,a.dropData.event,a.dropData.draggedFrom)}),e.qZA()()}if(2&n){const t=r.$implicit,i=e.oxw();e.xp6(2),e.Q6J("ngForOf",e.Dn7(3,9,i.view.days,t,t+i.view.totalDaysVisibleInWeek))("ngForTrackBy",i.trackByDate),e.xp6(2),e.Q6J("locale",i.locale)("isOpen",i.openRowIndex===t)("events",null==i.openDay?null:i.openDay.events)("date",null==i.openDay?null:i.openDay.date)("customTemplate",i.openDayEventsTemplate)("eventTitleTemplate",i.eventTitleTemplate)("eventActionsTemplate",i.eventActionsTemplate)}}function qi(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",4),e.NdJ("mwlClick",function(a){const l=e.CHM(t).$implicit;return e.oxw().dayHeaderClicked.emit({day:l,sourceEvent:a})})("drop",function(a){const l=e.CHM(t).$implicit;return e.oxw().eventDropped.emit({event:a.dropData.event,newStart:l.date})})("dragEnter",function(){const o=e.CHM(t).$implicit;return e.oxw().dragEnter.emit({date:o.date})}),e.TgZ(1,"b"),e._uU(2),e.ALo(3,"calendarDate"),e.qZA(),e._UZ(4,"br"),e.TgZ(5,"span"),e._uU(6),e.ALo(7,"calendarDate"),e.qZA()()}if(2&n){const t=r.$implicit,i=e.oxw().locale;e.ekj("cal-past",t.isPast)("cal-today",t.isToday)("cal-future",t.isFuture)("cal-weekend",t.isWeekend),e.Q6J("ngClass",t.cssClass),e.xp6(2),e.Oqu(e.Dn7(3,11,t.date,"weekViewColumnHeader",i)),e.xp6(4),e.Oqu(e.Dn7(7,15,t.date,"weekViewColumnSubHeader",i))}}function ji(n,r){if(1&n&&(e.TgZ(0,"div",2),e.YNc(1,qi,8,19,"div",3),e.qZA()),2&n){const t=r.days,i=r.trackByWeekDayHeaderDate;e.xp6(1),e.Q6J("ngForOf",t)("ngForTrackBy",i)}}function Qi(n,r){}const Xi=function(n,r,t,i,a,o){return{days:n,locale:r,dayHeaderClicked:t,eventDropped:i,dragEnter:a,trackByWeekDayHeaderDate:o}},Gi=function(n,r){return{backgroundColor:n,borderColor:r}};function Ki(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",2),e.NdJ("mwlClick",function(a){return e.CHM(t).eventClicked.emit({sourceEvent:a})})("mwlKeydownEnter",function(a){return e.CHM(t).eventClicked.emit({sourceEvent:a})}),e.ALo(1,"calendarEventTitle"),e.ALo(2,"calendarA11y"),e._UZ(3,"mwl-calendar-event-actions",3),e._uU(4," "),e._UZ(5,"mwl-calendar-event-title",4),e.qZA()}if(2&n){const t=r.weekEvent,i=r.tooltipPlacement,a=r.tooltipTemplate,o=r.tooltipAppendToBody,l=r.tooltipDisabled,s=r.tooltipDelay,c=r.daysInWeek,d=e.oxw();e.Q6J("ngStyle",e.WLB(20,Gi,null==t.event.color?null:t.event.color.secondary,null==t.event.color?null:t.event.color.primary))("mwlCalendarTooltip",l?"":e.Dn7(1,13,t.event.title,1===c?"dayTooltip":"weekTooltip",t.tempEvent||t.event))("tooltipPlacement",i)("tooltipEvent",t.tempEvent||t.event)("tooltipTemplate",a)("tooltipAppendToBody",o)("tooltipDelay",s),e.uIk("aria-label",e.xi3(2,17,e.WLB(23,qt,t.tempEvent||t.event,d.locale),"eventDescription")),e.xp6(3),e.Q6J("event",t.tempEvent||t.event)("customTemplate",d.eventActionsTemplate),e.xp6(2),e.Q6J("event",t.tempEvent||t.event)("customTemplate",d.eventTitleTemplate)("view",1===c?"day":"week")}}function er(n,r){}const tr=function(n,r,t,i,a,o,l,s,c){return{weekEvent:n,tooltipPlacement:r,eventClicked:t,tooltipTemplate:i,tooltipAppendToBody:a,tooltipDisabled:o,tooltipDelay:l,column:s,daysInWeek:c}};function nr(n,r){if(1&n&&(e.TgZ(0,"div",4),e._uU(1),e.ALo(2,"calendarDate"),e.qZA()),2&n){const t=e.oxw(),i=t.segment,a=t.daysInWeek,o=t.locale;e.xp6(1),e.hij(" ",e.Dn7(2,1,i.displayDate,1===a?"dayViewHour":"weekViewHour",o)," ")}}function ir(n,r){if(1&n&&(e.TgZ(0,"div",2),e.ALo(1,"calendarA11y"),e.YNc(2,nr,3,5,"div",3),e.qZA()),2&n){const t=r.segment,a=r.isTimeLabel,o=r.daysInWeek;e.Udp("height",r.segmentHeight,"px"),e.ekj("cal-hour-start",t.isStart)("cal-after-hour-start",!t.isStart),e.Q6J("ngClass",t.cssClass),e.uIk("aria-hidden",e.xi3(1,9,e.DdM(12,we),1===o?"hideDayHourSegment":"hideWeekHourSegment")),e.xp6(2),e.Q6J("ngIf",a)}}function rr(n,r){}const ar=function(n,r,t,i,a){return{segment:n,locale:r,segmentHeight:t,isTimeLabel:i,daysInWeek:a}};function or(n,r){if(1&n&&e._UZ(0,"div",3),2&n){const t=e.oxw().topPx;e.Udp("top",t,"px")}}function lr(n,r){1&n&&e.YNc(0,or,1,2,"div",2),2&n&&e.Q6J("ngIf",r.isVisible)}function sr(n,r){}const dr=function(n,r,t,i,a,o,l){return{columnDate:n,dayStartHour:r,dayStartMinute:t,dayEndHour:i,dayEndMinute:a,isVisible:o,topPx:l}};function cr(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",13),e.NdJ("drop",function(a){const l=e.CHM(t).$implicit;return e.oxw(2).eventDropped(a,l.date,!0)})("dragEnter",function(){const o=e.CHM(t).$implicit;return e.oxw(2).dateDragEnter(o.date)}),e.qZA()}}const ur=function(){return{left:!0}};function pr(n,r){1&n&&e._UZ(0,"div",22),2&n&&e.Q6J("resizeEdges",e.DdM(1,ur))}const mr=function(){return{right:!0}};function hr(n,r){1&n&&e._UZ(0,"div",23),2&n&&e.Q6J("resizeEdges",e.DdM(1,mr))}const gr=function(n,r){return{left:n,right:r}},Qt=function(n,r){return{event:n,calendarId:r}},vr=function(n){return{x:n}};function fr(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",17,18),e.NdJ("resizeStart",function(a){const l=e.CHM(t).$implicit;e.oxw();const s=e.MAs(1);return e.oxw(2).allDayEventResizeStarted(s,l,a)})("resizing",function(a){const l=e.CHM(t).$implicit,s=e.oxw(3);return s.allDayEventResizing(l,a,s.dayColumnWidth)})("resizeEnd",function(){const o=e.CHM(t).$implicit;return e.oxw(3).allDayEventResizeEnded(o)})("dragStart",function(){const o=e.CHM(t).$implicit,l=e.MAs(1);e.oxw();const s=e.MAs(1);return e.oxw(2).dragStarted(s,l,o,!1)})("dragging",function(){return e.CHM(t),e.oxw(3).allDayEventDragMove()})("dragEnd",function(a){const l=e.CHM(t).$implicit,s=e.oxw(3);return s.dragEnded(l,a,s.dayColumnWidth)}),e.YNc(2,pr,1,2,"div",19),e.TgZ(3,"mwl-calendar-week-view-event",20),e.NdJ("eventClicked",function(a){const l=e.CHM(t).$implicit;return e.oxw(3).eventClicked.emit({event:l.event,sourceEvent:a.sourceEvent})}),e.qZA(),e.YNc(4,hr,1,2,"div",21),e.qZA()}if(2&n){const t=r.$implicit,i=e.oxw(3);e.Udp("width",100/i.days.length*t.span,"%")("margin-left",i.rtl?null:100/i.days.length*t.offset,"%")("margin-right",i.rtl?100/i.days.length*(i.days.length-t.offset)*-1:null,"%"),e.ekj("cal-draggable",t.event.draggable&&0===i.allDayEventResizes.size)("cal-starts-within-week",!t.startsBeforeWeek)("cal-ends-within-week",!t.endsAfterWeek),e.Q6J("ngClass",null==t.event?null:t.event.cssClass)("resizeSnapGrid",e.WLB(32,gr,i.dayColumnWidth,i.dayColumnWidth))("validateResize",i.validateResize)("dropData",e.WLB(35,Qt,t.event,i.calendarId))("dragAxis",e.WLB(38,Ee,t.event.draggable&&0===i.allDayEventResizes.size,!i.snapDraggedEvents&&t.event.draggable&&0===i.allDayEventResizes.size))("dragSnapGrid",i.snapDraggedEvents?e.VKq(41,vr,i.dayColumnWidth):e.DdM(43,we))("validateDrag",i.validateDrag)("touchStartLongPress",e.DdM(44,Le)),e.xp6(2),e.Q6J("ngIf",(null==t.event||null==t.event.resizable?null:t.event.resizable.beforeStart)&&!t.startsBeforeWeek),e.xp6(1),e.Q6J("locale",i.locale)("weekEvent",t)("tooltipPlacement",i.tooltipPlacement)("tooltipTemplate",i.tooltipTemplate)("tooltipAppendToBody",i.tooltipAppendToBody)("tooltipDelay",i.tooltipDelay)("customTemplate",i.eventTemplate)("eventTitleTemplate",i.eventTitleTemplate)("eventActionsTemplate",i.eventActionsTemplate)("daysInWeek",i.daysInWeek),e.xp6(1),e.Q6J("ngIf",(null==t.event||null==t.event.resizable?null:t.event.resizable.afterEnd)&&!t.endsAfterWeek)}}function wr(n,r){if(1&n&&(e.TgZ(0,"div",14,15),e.YNc(2,fr,5,45,"div",16),e.qZA()),2&n){const t=r.$implicit,i=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",t.row)("ngForTrackBy",i.trackByWeekAllDayEvent)}}function _r(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",8,9),e.NdJ("dragEnter",function(){return e.CHM(t),e.oxw().dragEnter("allDay")})("dragLeave",function(){return e.CHM(t),e.oxw().dragLeave("allDay")}),e.TgZ(2,"div",5),e._UZ(3,"div",10),e.YNc(4,cr,1,0,"div",11),e.qZA(),e.YNc(5,wr,3,2,"div",12),e.qZA()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngTemplateOutlet",t.allDayEventsLabelTemplate),e.xp6(1),e.Q6J("ngForOf",t.days)("ngForTrackBy",t.trackByWeekDayHeaderDate),e.xp6(1),e.Q6J("ngForOf",t.view.allDayEventRows)("ngForTrackBy",t.trackById)}}function yr(n,r){if(1&n&&e._UZ(0,"mwl-calendar-week-view-hour-segment",28),2&n){const t=r.$implicit,i=e.oxw(3);e.Udp("height",i.hourSegmentHeight,"px"),e.Q6J("segment",t)("segmentHeight",i.hourSegmentHeight)("locale",i.locale)("customTemplate",i.hourSegmentTemplate)("isTimeLabel",!0)("daysInWeek",i.daysInWeek)}}function Cr(n,r){if(1&n&&(e.TgZ(0,"div",26),e.YNc(1,yr,1,8,"mwl-calendar-week-view-hour-segment",27),e.qZA()),2&n){const t=r.$implicit,i=r.odd,a=e.oxw(2);e.ekj("cal-hour-odd",i),e.xp6(1),e.Q6J("ngForOf",t.segments)("ngForTrackBy",a.trackByHourSegment)}}function Dr(n,r){if(1&n&&(e.TgZ(0,"div",24),e.YNc(1,Cr,2,4,"div",25),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.view.hourColumns[0].hours)("ngForTrackBy",t.trackByHour)}}const Tr=function(){return{left:!0,top:!0}};function br(n,r){1&n&&e._UZ(0,"div",22),2&n&&e.Q6J("resizeEdges",e.DdM(1,Tr))}function kr(n,r){}function xr(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"mwl-calendar-week-view-event",36),e.NdJ("eventClicked",function(a){e.CHM(t);const o=e.oxw().$implicit;return e.oxw(2).eventClicked.emit({event:o.event,sourceEvent:a.sourceEvent})}),e.qZA()}if(2&n){const t=e.oxw().$implicit,i=e.oxw().$implicit,a=e.oxw();e.Q6J("locale",a.locale)("weekEvent",t)("tooltipPlacement",a.tooltipPlacement)("tooltipTemplate",a.tooltipTemplate)("tooltipAppendToBody",a.tooltipAppendToBody)("tooltipDisabled",a.dragActive||a.timeEventResizes.size>0)("tooltipDelay",a.tooltipDelay)("customTemplate",a.eventTemplate)("eventTitleTemplate",a.eventTitleTemplate)("eventActionsTemplate",a.eventActionsTemplate)("column",i)("daysInWeek",a.daysInWeek)}}const Er=function(){return{right:!0,bottom:!0}};function Mr(n,r){1&n&&e._UZ(0,"div",23),2&n&&e.Q6J("resizeEdges",e.DdM(1,Er))}const Sr=function(n,r,t,i){return{left:n,right:r,top:t,bottom:i}};function Or(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",33,18),e.NdJ("resizeStart",function(a){const l=e.CHM(t).$implicit,s=e.oxw(2),c=e.MAs(6);return s.timeEventResizeStarted(c,l,a)})("resizing",function(a){const l=e.CHM(t).$implicit;return e.oxw(2).timeEventResizing(l,a)})("resizeEnd",function(){const o=e.CHM(t).$implicit;return e.oxw(2).timeEventResizeEnded(o)})("dragStart",function(){const o=e.CHM(t).$implicit,l=e.MAs(1),s=e.oxw(2),c=e.MAs(6);return s.dragStarted(c,l,o,!0)})("dragging",function(a){const l=e.CHM(t).$implicit;return e.oxw(2).dragMove(l,a)})("dragEnd",function(a){const l=e.CHM(t).$implicit,s=e.oxw(2);return s.dragEnded(l,a,s.dayColumnWidth,!0)}),e.YNc(2,br,1,2,"div",19),e.YNc(3,kr,0,0,"ng-template",34),e.YNc(4,xr,1,12,"ng-template",null,35,e.W1O),e.YNc(6,Mr,1,2,"div",21),e.qZA()}if(2&n){const t=r.$implicit,i=e.MAs(5),a=e.oxw(2);e.Udp("top",t.top,"px")("height",t.height,"px")("left",t.left,"%")("width",t.width,"%"),e.ekj("cal-draggable",t.event.draggable&&0===a.timeEventResizes.size)("cal-starts-within-day",!t.startsBeforeDay)("cal-ends-within-day",!t.endsAfterDay),e.Q6J("ngClass",t.event.cssClass)("hidden",0===t.height&&0===t.width)("resizeSnapGrid",e.l5B(29,Sr,a.dayColumnWidth,a.dayColumnWidth,a.eventSnapSize||a.hourSegmentHeight,a.eventSnapSize||a.hourSegmentHeight))("validateResize",a.validateResize)("allowNegativeResizes",!0)("dropData",e.WLB(34,Qt,t.event,a.calendarId))("dragAxis",e.WLB(37,Ee,t.event.draggable&&0===a.timeEventResizes.size,t.event.draggable&&0===a.timeEventResizes.size))("dragSnapGrid",a.snapDraggedEvents?e.WLB(40,Ee,a.dayColumnWidth,a.eventSnapSize||a.hourSegmentHeight):e.DdM(43,we))("touchStartLongPress",e.DdM(44,Le))("ghostDragEnabled",!a.snapDraggedEvents)("ghostElementTemplate",i)("validateDrag",a.validateDrag),e.xp6(2),e.Q6J("ngIf",(null==t.event||null==t.event.resizable?null:t.event.resizable.beforeStart)&&!t.startsBeforeDay),e.xp6(1),e.Q6J("ngTemplateOutlet",i),e.xp6(3),e.Q6J("ngIf",(null==t.event||null==t.event.resizable?null:t.event.resizable.afterEnd)&&!t.endsAfterDay)}}function Ar(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"mwl-calendar-week-view-hour-segment",38),e.NdJ("mwlClick",function(a){const l=e.CHM(t).$implicit;return e.oxw(3).hourSegmentClicked.emit({date:l.date,sourceEvent:a})})("drop",function(a){const l=e.CHM(t).$implicit;return e.oxw(3).eventDropped(a,l.date,!1)})("dragEnter",function(){const o=e.CHM(t).$implicit;return e.oxw(3).dateDragEnter(o.date)}),e.qZA()}if(2&n){const t=r.$implicit,i=e.oxw(3);e.Udp("height",i.hourSegmentHeight,"px"),e.Q6J("segment",t)("segmentHeight",i.hourSegmentHeight)("locale",i.locale)("customTemplate",i.hourSegmentTemplate)("daysInWeek",i.daysInWeek)("clickListenerDisabled",0===i.hourSegmentClicked.observers.length)("dragOverClass",i.dragActive&&i.snapDraggedEvents?null:"cal-drag-over")("isTimeLabel",1===i.daysInWeek)}}function Hr(n,r){if(1&n&&(e.TgZ(0,"div",26),e.YNc(1,Ar,1,10,"mwl-calendar-week-view-hour-segment",37),e.qZA()),2&n){const t=r.$implicit,i=r.odd,a=e.oxw(2);e.ekj("cal-hour-odd",i),e.xp6(1),e.Q6J("ngForOf",t.segments)("ngForTrackBy",a.trackByHourSegment)}}function Fr(n,r){if(1&n&&(e.TgZ(0,"div",29),e._UZ(1,"mwl-calendar-week-view-current-time-marker",30),e.TgZ(2,"div",31),e.YNc(3,Or,7,45,"div",32),e.qZA(),e.YNc(4,Hr,2,4,"div",25),e.qZA()),2&n){const t=r.$implicit,i=e.oxw();e.xp6(1),e.Q6J("columnDate",t.date)("dayStartHour",i.dayStartHour)("dayStartMinute",i.dayStartMinute)("dayEndHour",i.dayEndHour)("dayEndMinute",i.dayEndMinute)("hourSegments",i.hourSegments)("hourDuration",i.hourDuration)("hourSegmentHeight",i.hourSegmentHeight)("customTemplate",i.currentTimeMarkerTemplate),e.xp6(2),e.Q6J("ngForOf",t.events)("ngForTrackBy",i.trackByWeekTimeEvent),e.xp6(1),e.Q6J("ngForOf",t.hours)("ngForTrackBy",i.trackByHour)}}let me=(()=>{class n{constructor(t,i,a){this.renderer=t,this.elm=i,this.document=a,this.clickListenerDisabled=!1,this.click=new e.vpe,this.destroy$=new W.x}ngOnInit(){this.clickListenerDisabled||this.listen().pipe((0,Z.R)(this.destroy$)).subscribe(t=>{t.stopPropagation(),this.click.emit(t)})}ngOnDestroy(){this.destroy$.next()}listen(){return new U.y(t=>this.renderer.listen(this.elm.nativeElement,"click",i=>{t.next(i)}))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(g.K0))},n.\u0275dir=e.lG2({type:n,selectors:[["","mwlClick",""]],inputs:{clickListenerDisabled:"clickListenerDisabled"},outputs:{click:"mwlClick"}}),n})(),Ze=(()=>{class n{constructor(t,i,a){this.host=t,this.ngZone=i,this.renderer=a,this.keydown=new e.vpe,this.keydownListener=null}ngOnInit(){this.ngZone.runOutsideAngular(()=>{this.keydownListener=this.renderer.listen(this.host.nativeElement,"keydown",t=>{(13===t.keyCode||13===t.which||"Enter"===t.key)&&(t.preventDefault(),t.stopPropagation(),this.ngZone.run(()=>{this.keydown.emit(t)}))})})}ngOnDestroy(){null!==this.keydownListener&&(this.keydownListener(),this.keydownListener=null)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(e.Qsj))},n.\u0275dir=e.lG2({type:n,selectors:[["","mwlKeydownEnter",""]],outputs:{keydown:"mwlKeydownEnter"}}),n})(),Ye=(()=>{class n{constructor(t){this.i18nPlural=t}monthCell({day:t,locale:i}){return t.badgeTotal>0?`\n        ${(0,g.p6)(t.date,"EEEE MMMM d",i)},\n        ${this.i18nPlural.transform(t.badgeTotal,{"=0":"No events","=1":"One event",other:"# events"})},\n         click to expand\n      `:`${(0,g.p6)(t.date,"EEEE MMMM d",i)}`}openDayEventsLandmark({date:t,locale:i}){return`\n      Beginning of expanded view for ${(0,g.p6)(t,"EEEE MMMM dd",i)}\n    `}openDayEventsAlert({date:t,locale:i}){return`${(0,g.p6)(t,"EEEE MMMM dd",i)} expanded`}eventDescription({event:t,locale:i}){if(!0===t.allDay)return this.allDayEventDescription({event:t,locale:i});const a=`\n      ${(0,g.p6)(t.start,"EEEE MMMM dd",i)},\n      ${t.title}, from ${(0,g.p6)(t.start,"hh:mm a",i)}\n    `;return t.end?a+` to ${(0,g.p6)(t.end,"hh:mm a",i)}`:a}allDayEventDescription({event:t,locale:i}){const a=`\n      ${t.title}, event spans multiple days:\n      start time ${(0,g.p6)(t.start,"MMMM dd hh:mm a",i)}\n    `;return t.end?a+`, stop time ${(0,g.p6)(t.end,"MMMM d hh:mm a",i)}`:a+", no stop time"}actionButtonLabel({action:t}){return t.a11yLabel}monthCellTabIndex(){return 0}hideMonthCellEvents(){return!0}hideEventTitle(){return!0}hideWeekHourSegment(){return!0}hideDayHourSegment(){return!0}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(g.Gx))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),he=(()=>{class n{constructor(t,i){this.calendarA11y=t,this.locale=i}transform(t,i){if(t.locale=t.locale||this.locale,void 0===this.calendarA11y[i]){const a=Object.getOwnPropertyNames(Object.getPrototypeOf(Ye.prototype)).filter(o=>"constructor"!==o);throw new Error(`${i} is not a valid a11y method. Can only be one of ${a.join(", ")}`)}return this.calendarA11y[i](t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ye,16),e.Y36(e.soG,16))},n.\u0275pipe=e.Yjl({name:"calendarA11y",type:n,pure:!0}),n})(),Xt=(()=>{class n{constructor(){this.trackByActionId=(t,i)=>i.id?i.id:i}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-event-actions"]],inputs:{event:"event",customTemplate:"customTemplate"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-event-actions",4,"ngIf"],[1,"cal-event-actions"],["class","cal-event-action","href","javascript:;","tabindex","0","role","button",3,"ngClass","innerHtml","mwlClick","mwlKeydownEnter",4,"ngFor","ngForOf","ngForTrackBy"],["href","javascript:;","tabindex","0","role","button",1,"cal-event-action",3,"ngClass","innerHtml","mwlClick","mwlKeydownEnter"]],template:function(t,i){if(1&t&&(e.YNc(0,_i,1,1,"ng-template",null,0,e.W1O),e.YNc(2,yi,0,0,"ng-template",1)),2&t){const a=e.MAs(1);e.xp6(2),e.Q6J("ngTemplateOutlet",i.customTemplate||a)("ngTemplateOutletContext",e.WLB(2,Ci,i.event,i.trackByActionId))}},directives:[g.O5,g.sg,g.mk,me,Ze,g.tP],pipes:[he],encapsulation:2}),n})();class Be{month(r,t){return r.title}monthTooltip(r,t){return r.title}week(r,t){return r.title}weekTooltip(r,t){return r.title}day(r,t){return r.title}dayTooltip(r,t){return r.title}}let pt=(()=>{class n{constructor(t){this.calendarEventTitle=t}transform(t,i,a){return this.calendarEventTitle[i](a,t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Be,16))},n.\u0275pipe=e.Yjl({name:"calendarEventTitle",type:n,pure:!0}),n})(),Gt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-event-title"]],inputs:{event:"event",customTemplate:"customTemplate",view:"view"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-event-title",3,"innerHTML"]],template:function(t,i){if(1&t&&(e.YNc(0,Di,3,10,"ng-template",null,0,e.W1O),e.YNc(2,Ti,0,0,"ng-template",1)),2&t){const a=e.MAs(1);e.xp6(2),e.Q6J("ngTemplateOutlet",i.customTemplate||a)("ngTemplateOutletContext",e.WLB(2,bi,i.event,i.view))}},directives:[g.tP],pipes:[pt,he],encapsulation:2}),n})(),Ir=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-tooltip-window"]],inputs:{contents:"contents",placement:"placement",event:"event",customTemplate:"customTemplate"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-tooltip",3,"ngClass"],[1,"cal-tooltip-arrow"],[1,"cal-tooltip-inner",3,"innerHtml"]],template:function(t,i){if(1&t&&(e.YNc(0,ki,3,2,"ng-template",null,0,e.W1O),e.YNc(2,xi,0,0,"ng-template",1)),2&t){const a=e.MAs(1);e.xp6(2),e.Q6J("ngTemplateOutlet",i.customTemplate||a)("ngTemplateOutletContext",e.kEZ(2,Ei,i.contents,i.placement,i.event))}},directives:[g.mk,g.tP],encapsulation:2}),n})(),Kt=(()=>{class n{constructor(t,i,a,o,l,s){this.elementRef=t,this.injector=i,this.renderer=a,this.viewContainerRef=l,this.document=s,this.placement="auto",this.delay=null,this.cancelTooltipDelay$=new W.x,this.tooltipFactory=o.resolveComponentFactory(Ir)}ngOnChanges(t){this.tooltipRef&&(t.contents||t.customTemplate||t.event)&&(this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.tooltipRef.changeDetectorRef.markForCheck(),this.contents||this.hide())}ngOnDestroy(){this.hide()}onMouseOver(){(null===this.delay?(0,ye.of)("now"):(0,B.H)(this.delay)).pipe((0,Z.R)(this.cancelTooltipDelay$)).subscribe(()=>{this.show()})}onMouseOut(){this.hide()}show(){!this.tooltipRef&&this.contents&&(this.tooltipRef=this.viewContainerRef.createComponent(this.tooltipFactory,0,this.injector,[]),this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.appendToBody&&this.document.body.appendChild(this.tooltipRef.location.nativeElement),requestAnimationFrame(()=>{this.positionTooltip()}))}hide(){this.tooltipRef&&(this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.tooltipRef.hostView)),this.tooltipRef=null),this.cancelTooltipDelay$.next()}positionTooltip(t=[]){this.tooltipRef&&(this.tooltipRef.changeDetectorRef.detectChanges(),this.tooltipRef.instance.placement=function On(n,r,t,i,a){var o=Array.isArray(t)?t:t.split(Sn),l=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],s=r.classList,c=function(f){var y=f.split("-"),x=y[0],D=y[1],M=[];return a&&(M.push(a+"-"+x),D&&M.push(a+"-"+x+"-"+D),M.forEach(function(A){s.add(A)})),M};a&&l.forEach(function(f){s.remove(a+"-"+f)});var d=o.findIndex(function(f){return"auto"===f});d>=0&&l.forEach(function(f){null==o.find(function(y){return-1!==y.search("^"+f)})&&o.splice(d++,1,f)});var u=r.style;u.position="absolute",u.top="0",u.left="0",u["will-change"]="transform";for(var h,w=!1,m=0,p=o;m<p.length;m++){var T=c(h=p[m]);if(xt.positionElements(n,r,h,i)){w=!0;break}a&&T.forEach(function(f){s.remove(f)})}return w||(c(h=o[0]),xt.positionElements(n,r,h,i)),h}(this.elementRef.nativeElement,this.tooltipRef.location.nativeElement.children[0],this.placement,this.appendToBody),-1===t.indexOf(this.tooltipRef.instance.placement)&&this.positionTooltip([...t,this.tooltipRef.instance.placement]))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.zs3),e.Y36(e.Qsj),e.Y36(e._Vd),e.Y36(e.s_b),e.Y36(g.K0))},n.\u0275dir=e.lG2({type:n,selectors:[["","mwlCalendarTooltip",""]],hostBindings:function(t,i){1&t&&e.NdJ("mouseenter",function(){return i.onMouseOver()})("mouseleave",function(){return i.onMouseOut()})},inputs:{contents:["mwlCalendarTooltip","contents"],placement:["tooltipPlacement","placement"],customTemplate:["tooltipTemplate","customTemplate"],event:["tooltipEvent","event"],appendToBody:["tooltipAppendToBody","appendToBody"],delay:["tooltipDelay","delay"]},features:[e.TTD]}),n})();var ie=(()=>{return(n=ie||(ie={})).Month="month",n.Week="week",n.Day="day",ie;var n})();const en=n=>function Bn(n,r){var t=!0;function i(a,o){r(a,o),t=!1}return Array.isArray(n)?(n.forEach(function(a){a.start?a.start instanceof Date||i(se.StartPropertyNotDate,a):i(se.StartPropertyMissing,a),a.end&&(a.end instanceof Date||i(se.EndPropertyNotDate,a),a.start>a.end&&i(se.EndsBeforeStart,a))}),t):(r(se.NotArray,n),!1)}(n,(...t)=>console.warn("angular-calendar",...t));function tn(n,r){return Math.floor(n.left)<=Math.ceil(r.left)&&Math.floor(r.left)<=Math.ceil(n.right)&&Math.floor(n.left)<=Math.ceil(r.right)&&Math.floor(r.right)<=Math.ceil(n.right)}function nn(n,r){return Math.round(n/r)*r}const rn=(n,r)=>r.id?r.id:r,mt=(n,r)=>r.date.toISOString(),zr=(n,r)=>r.date.toISOString(),Nr=(n,r)=>r.segments[0].date.toISOString(),Pr=(n,r)=>r.event.id?r.event.id:r.event,Lr=(n,r)=>r.event.id?r.event.id:r.event;function ht(n,r,t,i,a){const o=nn(n,i||t),l=function Yr(n,r,t){return(t||60)/(n*r)}(r,t,a);return o*l}function an(n,r,t){return r.end?r.end:n.addMinutes(r.start,t)}function X(n,r,t,i){let a=0,o=0;const l=t<0?n.subDays:n.addDays;let s=r;for(;o<=Math.abs(t);){s=l(r,a);const c=n.getDay(s);-1===i.indexOf(c)&&o++,a++}return s}function gt(n,r,t,i=[],a){let o=a?n.startOfDay(r):n.startOfWeek(r,{weekStartsOn:t});const l=n.endOfWeek(r,{weekStartsOn:t});for(;i.indexOf(n.getDay(o))>-1&&o<l;)o=n.addDays(o,1);if(a)return{viewStart:o,viewEnd:n.endOfDay(X(n,o,a-1,i))};{let s=l;for(;i.indexOf(n.getDay(s))>-1&&s>o;)s=n.subDays(s,1);return{viewStart:o,viewEnd:s}}}function vt({x:n,y:r}){return Math.abs(n)>1||Math.abs(r)>1}class re{}let $r=(()=>{class n{constructor(t){this.dateAdapter=t,this.excludeDays=[],this.viewDateChange=new e.vpe}onClick(){const t={day:this.dateAdapter.subDays,week:this.dateAdapter.subWeeks,month:this.dateAdapter.subMonths}[this.view];this.viewDateChange.emit(this.view===ie.Day?X(this.dateAdapter,this.viewDate,-1,this.excludeDays):this.view===ie.Week&&this.daysInWeek?X(this.dateAdapter,this.viewDate,-this.daysInWeek,this.excludeDays):t(this.viewDate,1))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(re))},n.\u0275dir=e.lG2({type:n,selectors:[["","mwlCalendarPreviousView",""]],hostBindings:function(t,i){1&t&&e.NdJ("click",function(){return i.onClick()})},inputs:{view:"view",viewDate:"viewDate",excludeDays:"excludeDays",daysInWeek:"daysInWeek"},outputs:{viewDateChange:"viewDateChange"}}),n})(),Ur=(()=>{class n{constructor(t){this.dateAdapter=t,this.excludeDays=[],this.viewDateChange=new e.vpe}onClick(){const t={day:this.dateAdapter.addDays,week:this.dateAdapter.addWeeks,month:this.dateAdapter.addMonths}[this.view];this.viewDateChange.emit(this.view===ie.Day?X(this.dateAdapter,this.viewDate,1,this.excludeDays):this.view===ie.Week&&this.daysInWeek?X(this.dateAdapter,this.viewDate,this.daysInWeek,this.excludeDays):t(this.viewDate,1))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(re))},n.\u0275dir=e.lG2({type:n,selectors:[["","mwlCalendarNextView",""]],hostBindings:function(t,i){1&t&&e.NdJ("click",function(){return i.onClick()})},inputs:{view:"view",viewDate:"viewDate",excludeDays:"excludeDays",daysInWeek:"daysInWeek"},outputs:{viewDateChange:"viewDateChange"}}),n})(),Jr=(()=>{class n{constructor(t){this.dateAdapter=t,this.viewDateChange=new e.vpe}onClick(){this.viewDateChange.emit(this.dateAdapter.startOfDay(new Date))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(re))},n.\u0275dir=e.lG2({type:n,selectors:[["","mwlCalendarToday",""]],hostBindings:function(t,i){1&t&&e.NdJ("click",function(){return i.onClick()})},inputs:{viewDate:"viewDate"},outputs:{viewDateChange:"viewDateChange"}}),n})(),qr=(()=>{class n{constructor(t){this.dateAdapter=t}monthViewColumnHeader({date:t,locale:i}){return(0,g.p6)(t,"EEEE",i)}monthViewDayNumber({date:t,locale:i}){return(0,g.p6)(t,"d",i)}monthViewTitle({date:t,locale:i}){return(0,g.p6)(t,"LLLL y",i)}weekViewColumnHeader({date:t,locale:i}){return(0,g.p6)(t,"EEEE",i)}weekViewColumnSubHeader({date:t,locale:i}){return(0,g.p6)(t,"MMM d",i)}weekViewTitle({date:t,locale:i,weekStartsOn:a,excludeDays:o,daysInWeek:l}){const{viewStart:s,viewEnd:c}=gt(this.dateAdapter,t,a,o,l),d=(u,h)=>(0,g.p6)(u,"MMM d"+(h?", yyyy":""),i);return`${d(s,s.getUTCFullYear()!==c.getUTCFullYear())} - ${d(c,!0)}`}weekViewHour({date:t,locale:i}){return(0,g.p6)(t,"h a",i)}dayViewHour({date:t,locale:i}){return(0,g.p6)(t,"h a",i)}dayViewTitle({date:t,locale:i}){return(0,g.p6)(t,"EEEE, MMMM d, y",i)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(re))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),Ve=(()=>{class n extends qr{}return n.\u0275fac=function(){let r;return function(i){return(r||(r=e.n5z(n)))(i||n)}}(),n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),Me=(()=>{class n{constructor(t,i){this.dateFormatter=t,this.locale=i}transform(t,i,a=this.locale,o=0,l=[],s){if(void 0===this.dateFormatter[i]){const c=Object.getOwnPropertyNames(Object.getPrototypeOf(Ve.prototype)).filter(d=>"constructor"!==d);throw new Error(`${i} is not a valid date formatter. Can only be one of ${c.join(", ")}`)}return this.dateFormatter[i]({date:t,locale:a,weekStartsOn:o,excludeDays:l,daysInWeek:s})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ve,16),e.Y36(e.soG,16))},n.\u0275pipe=e.Yjl({name:"calendarDate",type:n,pure:!0}),n})(),$e=(()=>{class n{constructor(t){this.dateAdapter=t}getMonthView(t){return function Ln(n,r){var t=r.events,i=void 0===t?[]:t,a=r.viewDate,o=r.weekStartsOn,l=r.excluded,s=void 0===l?[]:l,c=r.viewStart,d=void 0===c?n.startOfMonth(a):c,u=r.viewEnd,h=void 0===u?n.endOfMonth(a):u,w=r.weekendDays;i||(i=[]);for(var k,p=n.endOfWeek,T=n.differenceInDays,f=n.startOfDay,y=n.addHours,x=n.endOfDay,D=n.isSameMonth,M=n.getDay,z=(0,n.startOfWeek)(d,{weekStartsOn:o}),Y=p(h,{weekStartsOn:o}),H=De(n,{events:i,periodStart:z,periodEnd:Y}),S=[],_=function(Tt){var $;if(k?($=f(y(k,24)),k.getTime()===$.getTime()&&($=f(y(k,25))),k=$):$=k=z,!s.some(function(bt){return M($)===bt})){var J=St(n,{date:$,weekendDays:w}),je=De(n,{events:H,periodStart:f($),periodEnd:x($)});J.inMonth=D($,a),J.events=je,J.badgeTotal=je.length,S.push(J)}},v=0;v<T(Y,z)+1;v++)_();var R=[],F=7-s.length;if(F<7)for(v=0;v<S.length;v+=F){var qe=S.slice(v,v+F);qe.some(function($){return d<=$.date&&$.date<h})&&(R=Et(R,qe))}else R=S;var Dt=Math.floor(R.length/F),Oe=[];for(v=0;v<Dt;v++)Oe.push(v*F);return{rowOffsets:Oe,totalDaysVisibleInWeek:F,days:R,period:{start:R[0].date,end:x(R[R.length-1].date),events:H}}}(this.dateAdapter,t)}getWeekViewHeader(t){return et(this.dateAdapter,t)}getWeekView(t){return function Pn(n,r){var t=r.events,i=void 0===t?[]:t,a=r.viewDate,o=r.weekStartsOn,l=r.excluded,s=void 0===l?[]:l,c=r.precision,d=void 0===c?"days":c,u=r.absolutePositionedEvents,h=void 0!==u&&u,w=r.hourSegments,m=r.hourDuration,p=r.dayStart,T=r.dayEnd,f=r.weekendDays,y=r.segmentHeight,x=r.minimumEventHeight,D=r.viewStart,M=void 0===D?n.startOfWeek(a,{weekStartsOn:o}):D,A=r.viewEnd,z=void 0===A?n.endOfWeek(a,{weekStartsOn:o}):A;i||(i=[]);var H=n.endOfDay,S=De(n,{events:i,periodStart:M=(0,n.startOfDay)(M),periodEnd:z=H(z)}),k=et(n,{viewDate:a,weekStartsOn:o,excluded:s,weekendDays:f,viewStart:M,viewEnd:z});return{allDayEventRows:zn(n,{events:S,excluded:s,precision:d,absolutePositionedEvents:h,viewStart:M,viewEnd:z}),period:{events:S,start:k[0].date,end:H(k[k.length-1].date)},hourColumns:Nn(n,{events:i,viewDate:a,hourSegments:w,hourDuration:m,dayStart:p,dayEnd:T,weekStartsOn:o,excluded:s,weekendDays:f,segmentHeight:y,viewStart:M,viewEnd:z,minimumEventHeight:x})}}(this.dateAdapter,t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(re))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();new e.OlP("Moment");var G=(()=>{return(n=G||(G={})).Drag="drag",n.Drop="drop",n.Resize="resize",G;var n})();let Se=(()=>{class n{static forRoot(t,i={}){return{ngModule:n,providers:[t,i.eventTitleFormatter||Be,i.dateFormatter||Ve,i.utils||$e,i.a11y||Ye]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[g.Gx],imports:[[g.ez]]}),n})(),jr=(()=>{class n{constructor(){this.columnHeaderClicked=new e.vpe,this.trackByWeekDayHeaderDate=mt}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-month-view-header"]],inputs:{days:"days",locale:"locale",customTemplate:"customTemplate"},outputs:{columnHeaderClicked:"columnHeaderClicked"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","row",1,"cal-cell-row","cal-header"],["class","cal-cell","tabindex","0","role","columnheader",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],["tabindex","0","role","columnheader",1,"cal-cell",3,"ngClass","click"]],template:function(t,i){if(1&t&&(e.YNc(0,Si,2,2,"ng-template",null,0,e.W1O),e.YNc(2,Oi,0,0,"ng-template",1)),2&t){const a=e.MAs(1);e.xp6(2),e.Q6J("ngTemplateOutlet",i.customTemplate||a)("ngTemplateOutletContext",e.kEZ(2,Ai,i.days,i.locale,i.trackByWeekDayHeaderDate))}},directives:[g.sg,g.mk,g.tP],pipes:[Me],encapsulation:2}),n})(),Qr=(()=>{class n{constructor(){this.highlightDay=new e.vpe,this.unhighlightDay=new e.vpe,this.eventClicked=new e.vpe,this.trackByEventId=rn,this.validateDrag=vt}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-month-cell"]],hostAttrs:[1,"cal-cell","cal-day-cell"],hostVars:18,hostBindings:function(t,i){2&t&&e.ekj("cal-past",i.day.isPast)("cal-today",i.day.isToday)("cal-future",i.day.isFuture)("cal-weekend",i.day.isWeekend)("cal-in-month",i.day.inMonth)("cal-out-month",!i.day.inMonth)("cal-has-events",i.day.events.length>0)("cal-open",i.day===i.openDay)("cal-event-highlight",!!i.day.backgroundColor)},inputs:{day:"day",openDay:"openDay",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",customTemplate:"customTemplate",tooltipTemplate:"tooltipTemplate",tooltipDelay:"tooltipDelay"},outputs:{highlightDay:"highlightDay",unhighlightDay:"unhighlightDay",eventClicked:"eventClicked"},decls:3,vars:15,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-cell-top"],["aria-hidden","true"],["class","cal-day-badge",4,"ngIf"],[1,"cal-day-number"],["class","cal-events",4,"ngIf"],[1,"cal-day-badge"],[1,"cal-events"],["class","cal-event","mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","cal-draggable","dropData","dragAxis","validateDrag","touchStartLongPress","mouseenter","mouseleave","mwlClick",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event",3,"ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","dropData","dragAxis","validateDrag","touchStartLongPress","mouseenter","mouseleave","mwlClick"]],template:function(t,i){if(1&t&&(e.YNc(0,zi,8,14,"ng-template",null,0,e.W1O),e.YNc(2,Ni,0,0,"ng-template",1)),2&t){const a=e.MAs(1);e.xp6(2),e.Q6J("ngTemplateOutlet",i.customTemplate||a)("ngTemplateOutletContext",e.rFY(2,Pi,[i.day,i.openDay,i.locale,i.tooltipPlacement,i.highlightDay,i.unhighlightDay,i.eventClicked,i.tooltipTemplate,i.tooltipAppendToBody,i.tooltipDelay,i.trackByEventId,i.validateDrag]))}},directives:[g.O5,g.sg,ze,g.PC,g.mk,Kt,me,g.tP],pipes:[he,Me,pt],encapsulation:2}),n})();const Xr=(0,ne.X$)("collapse",[(0,ne.SB)("void",(0,ne.oB)({height:0,overflow:"hidden","padding-top":0,"padding-bottom":0})),(0,ne.SB)("*",(0,ne.oB)({height:"*",overflow:"hidden","padding-top":"*","padding-bottom":"*"})),(0,ne.eR)("* => void",(0,ne.jt)("150ms ease-out")),(0,ne.eR)("void => *",(0,ne.jt)("150ms ease-in"))]);let Gr=(()=>{class n{constructor(){this.isOpen=!1,this.eventClicked=new e.vpe,this.trackByEventId=rn,this.validateDrag=vt}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-open-day-events"]],inputs:{locale:"locale",isOpen:"isOpen",events:"events",customTemplate:"customTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",date:"date"},outputs:{eventClicked:"eventClicked"},decls:3,vars:8,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-open-day-events","role","application",4,"ngIf"],["role","application",1,"cal-open-day-events"],["tabindex","-1","role","alert"],["tabindex","0","role","landmark"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","cal-draggable","dropData","dragAxis","validateDrag","touchStartLongPress",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","dropData","dragAxis","validateDrag","touchStartLongPress"],[1,"cal-event",3,"ngStyle"],["view","month","tabindex","0",3,"event","customTemplate","mwlClick","mwlKeydownEnter"],[3,"event","customTemplate"]],template:function(t,i){if(1&t&&(e.YNc(0,Bi,1,1,"ng-template",null,0,e.W1O),e.YNc(2,Vi,0,0,"ng-template",1)),2&t){const a=e.MAs(1);e.xp6(2),e.Q6J("ngTemplateOutlet",i.customTemplate||a)("ngTemplateOutletContext",e.qbA(2,$i,i.events,i.eventClicked,i.isOpen,i.trackByEventId,i.validateDrag))}},directives:[Gt,Xt,g.O5,g.sg,ze,g.mk,g.PC,me,Ze,g.tP],pipes:[he],encapsulation:2,data:{animation:[Xr]}}),n})(),Kr=(()=>{class n{constructor(t,i,a,o){this.cdr=t,this.utils=i,this.dateAdapter=o,this.events=[],this.excludeDays=[],this.activeDayIsOpen=!1,this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.beforeViewRender=new e.vpe,this.dayClicked=new e.vpe,this.eventClicked=new e.vpe,this.columnHeaderClicked=new e.vpe,this.eventTimesChanged=new e.vpe,this.trackByRowOffset=(l,s)=>this.view.days.slice(s,this.view.totalDaysVisibleInWeek).map(c=>c.date.toISOString()).join("-"),this.trackByDate=(l,s)=>s.date.toISOString(),this.locale=a}ngOnInit(){this.refresh&&(this.refreshSubscription=this.refresh.subscribe(()=>{this.refreshAll(),this.cdr.markForCheck()}))}ngOnChanges(t){const i=t.viewDate||t.excludeDays||t.weekendDays,a=t.viewDate||t.events||t.excludeDays||t.weekendDays;i&&this.refreshHeader(),t.events&&en(this.events),a&&this.refreshBody(),(i||a)&&this.emitBeforeViewRender(),(t.activeDayIsOpen||t.viewDate||t.events||t.excludeDays||t.activeDay)&&this.checkActiveDayIsOpen()}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}toggleDayHighlight(t,i){this.view.days.forEach(a=>{i&&a.events.indexOf(t)>-1?a.backgroundColor=t.color&&t.color.secondary||"#D1E8FF":delete a.backgroundColor})}eventDropped(t,i,a){if(t!==a){const o=this.dateAdapter.getYear(t.date),l=this.dateAdapter.getMonth(t.date),s=this.dateAdapter.getDate(t.date),c=this.dateAdapter.setDate(this.dateAdapter.setMonth(this.dateAdapter.setYear(i.start,o),l),s);let d;if(i.end){const u=this.dateAdapter.differenceInSeconds(c,i.start);d=this.dateAdapter.addSeconds(i.end,u)}this.eventTimesChanged.emit({event:i,newStart:c,newEnd:d,day:t,type:G.Drop})}}refreshHeader(){this.columnHeaders=this.utils.getWeekViewHeader({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})}refreshBody(){this.view=this.utils.getMonthView({events:this.events,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})}checkActiveDayIsOpen(){if(!0===this.activeDayIsOpen){const t=this.activeDay||this.viewDate;this.openDay=this.view.days.find(a=>this.dateAdapter.isSameDay(a.date,t));const i=this.view.days.indexOf(this.openDay);this.openRowIndex=Math.floor(i/this.view.totalDaysVisibleInWeek)*this.view.totalDaysVisibleInWeek}else this.openRowIndex=null,this.openDay=null}refreshAll(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender(),this.checkActiveDayIsOpen()}emitBeforeViewRender(){this.columnHeaders&&this.view&&this.beforeViewRender.emit({header:this.columnHeaders,body:this.view.days,period:this.view.period})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.sBO),e.Y36($e),e.Y36(e.soG),e.Y36(re))},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-month-view"]],inputs:{viewDate:"viewDate",events:"events",excludeDays:"excludeDays",activeDayIsOpen:"activeDayIsOpen",activeDay:"activeDay",refresh:"refresh",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipTemplate:"tooltipTemplate",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",weekStartsOn:"weekStartsOn",headerTemplate:"headerTemplate",cellTemplate:"cellTemplate",openDayEventsTemplate:"openDayEventsTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",weekendDays:"weekendDays"},outputs:{beforeViewRender:"beforeViewRender",dayClicked:"dayClicked",eventClicked:"eventClicked",columnHeaderClicked:"columnHeaderClicked",eventTimesChanged:"eventTimesChanged"},features:[e.TTD],decls:4,vars:5,consts:[["role","grid",1,"cal-month-view"],[3,"days","locale","customTemplate","columnHeaderClicked"],[1,"cal-days"],[4,"ngFor","ngForOf","ngForTrackBy"],["role","row",1,"cal-cell-row"],["role","gridcell","mwlDroppable","","dragOverClass","cal-drag-over",3,"ngClass","day","openDay","locale","tooltipPlacement","tooltipAppendToBody","tooltipTemplate","tooltipDelay","customTemplate","ngStyle","clickListenerDisabled","mwlClick","mwlKeydownEnter","highlightDay","unhighlightDay","drop","eventClicked",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over",3,"locale","isOpen","events","date","customTemplate","eventTitleTemplate","eventActionsTemplate","eventClicked","drop"],["role","gridcell","mwlDroppable","","dragOverClass","cal-drag-over",3,"ngClass","day","openDay","locale","tooltipPlacement","tooltipAppendToBody","tooltipTemplate","tooltipDelay","customTemplate","ngStyle","clickListenerDisabled","mwlClick","mwlKeydownEnter","highlightDay","unhighlightDay","drop","eventClicked"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"mwl-calendar-month-view-header",1),e.NdJ("columnHeaderClicked",function(o){return i.columnHeaderClicked.emit(o)}),e.qZA(),e.TgZ(2,"div",2),e.YNc(3,Ji,5,13,"div",3),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("days",i.columnHeaders)("locale",i.locale)("customTemplate",i.headerTemplate),e.xp6(2),e.Q6J("ngForOf",i.view.rowOffsets)("ngForTrackBy",i.trackByRowOffset))},directives:[jr,Qr,Gr,g.sg,Ne,g.mk,g.PC,me,Ze],pipes:[he,g.OU],encapsulation:2}),n})(),on=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[g.ez,xe,Se],xe]}),n})();class ea{constructor(r,t){this.dragContainerElement=r,this.startPosition=t.getBoundingClientRect()}validateDrag({x:r,y:t,snapDraggedEvents:i,dragAlreadyMoved:a,transform:o}){const l=vt({x:r,y:t})||a;if(i){const s=Object.assign({},this.startPosition,{left:this.startPosition.left+o.x,right:this.startPosition.right+o.x,top:this.startPosition.top+o.y,bottom:this.startPosition.bottom+o.y});if(l){const c=this.dragContainerElement.getBoundingClientRect(),d=c.top<s.top&&s.top<c.bottom,u=c.top<s.bottom&&s.bottom<c.bottom;return tn(c,s)&&(d||u)}return!1}return l}}class ta{constructor(r,t,i){this.resizeContainerElement=r,this.minWidth=t,this.rtl=i}validateResize({rectangle:r,edges:t}){return this.rtl&&(void 0!==t.left?(r.left-=t.left,r.right+=t.left):void 0!==t.right&&(r.left+=t.right,r.right-=t.right),r.width=r.right-r.left),!(this.minWidth&&Math.ceil(r.width)<Math.ceil(this.minWidth))&&function Rr(n,r){return tn(n,r)&&function Wr(n,r){return Math.floor(n.top)<=Math.ceil(r.top)&&Math.floor(r.top)<=Math.ceil(n.bottom)&&Math.floor(n.top)<=Math.ceil(r.bottom)&&Math.floor(r.bottom)<=Math.ceil(n.bottom)}(n,r)}(this.resizeContainerElement.getBoundingClientRect(),r)}}let na=(()=>{class n{constructor(){this.dayHeaderClicked=new e.vpe,this.eventDropped=new e.vpe,this.dragEnter=new e.vpe,this.trackByWeekDayHeaderDate=mt}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-week-view-header"]],inputs:{days:"days",locale:"locale",customTemplate:"customTemplate"},outputs:{dayHeaderClicked:"dayHeaderClicked",eventDropped:"eventDropped",dragEnter:"dragEnter"},decls:3,vars:9,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","row",1,"cal-day-headers"],["class","cal-header","mwlDroppable","","dragOverClass","cal-drag-over","tabindex","0","role","columnheader",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","mwlClick","drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over","tabindex","0","role","columnheader",1,"cal-header",3,"ngClass","mwlClick","drop","dragEnter"]],template:function(t,i){if(1&t&&(e.YNc(0,ji,2,2,"ng-template",null,0,e.W1O),e.YNc(2,Qi,0,0,"ng-template",1)),2&t){const a=e.MAs(1);e.xp6(2),e.Q6J("ngTemplateOutlet",i.customTemplate||a)("ngTemplateOutletContext",e.HTZ(2,Xi,i.days,i.locale,i.dayHeaderClicked,i.eventDropped,i.dragEnter,i.trackByWeekDayHeaderDate))}},directives:[g.sg,Ne,g.mk,me,g.tP],pipes:[Me],encapsulation:2}),n})(),ia=(()=>{class n{constructor(){this.eventClicked=new e.vpe}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-week-view-event"]],inputs:{locale:"locale",weekEvent:"weekEvent",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",tooltipDisabled:"tooltipDisabled",tooltipDelay:"tooltipDelay",customTemplate:"customTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",tooltipTemplate:"tooltipTemplate",column:"column",daysInWeek:"daysInWeek"},outputs:{eventClicked:"eventClicked"},decls:3,vars:12,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["tabindex","0","role","application",1,"cal-event",3,"ngStyle","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","mwlClick","mwlKeydownEnter"],[3,"event","customTemplate"],[3,"event","customTemplate","view"]],template:function(t,i){if(1&t&&(e.YNc(0,Ki,6,26,"ng-template",null,0,e.W1O),e.YNc(2,er,0,0,"ng-template",1)),2&t){const a=e.MAs(1);e.xp6(2),e.Q6J("ngTemplateOutlet",i.customTemplate||a)("ngTemplateOutletContext",e.rFY(2,tr,[i.weekEvent,i.tooltipPlacement,i.eventClicked,i.tooltipTemplate,i.tooltipAppendToBody,i.tooltipDisabled,i.tooltipDelay,i.column,i.daysInWeek]))}},directives:[Xt,Gt,g.PC,Kt,me,Ze,g.tP],pipes:[pt,he],encapsulation:2}),n})(),ra=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-week-view-hour-segment"]],inputs:{segment:"segment",segmentHeight:"segmentHeight",locale:"locale",isTimeLabel:"isTimeLabel",daysInWeek:"daysInWeek",customTemplate:"customTemplate"},decls:3,vars:8,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-hour-segment",3,"ngClass"],["class","cal-time",4,"ngIf"],[1,"cal-time"]],template:function(t,i){if(1&t&&(e.YNc(0,ir,3,13,"ng-template",null,0,e.W1O),e.YNc(2,rr,0,0,"ng-template",1)),2&t){const a=e.MAs(1);e.xp6(2),e.Q6J("ngTemplateOutlet",i.customTemplate||a)("ngTemplateOutletContext",e.qbA(2,ar,i.segment,i.locale,i.segmentHeight,i.isTimeLabel,i.daysInWeek))}},directives:[g.mk,g.O5,g.tP],pipes:[he,Me],encapsulation:2}),n})(),aa=(()=>{class n{constructor(t,i){this.dateAdapter=t,this.zone=i,this.columnDate$=new ge.X(void 0),this.marker$=this.zone.onStable.pipe((0,ce.w)(()=>function I(n=0,r=E.z){return n<0&&(n=0),(0,B.H)(n,n,r)}(6e4)),(0,K.O)(0),function Xe(n,r){return(0,oe.m)(r)?(0,ce.w)(()=>n,r):(0,ce.w)(()=>n)}(this.columnDate$),(0,V.U)(a=>{const o=this.dateAdapter.setMinutes(this.dateAdapter.setHours(a,this.dayStartHour),this.dayStartMinute),l=this.dateAdapter.setMinutes(this.dateAdapter.setHours(a,this.dayEndHour),this.dayEndMinute),s=this.hourSegments*this.hourSegmentHeight/(this.hourDuration||60),c=new Date;return{isVisible:this.dateAdapter.isSameDay(a,c)&&c>=o&&c<=l,top:this.dateAdapter.differenceInMinutes(c,o)*s}}))}ngOnChanges(t){t.columnDate&&this.columnDate$.next(t.columnDate.currentValue)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(re),e.Y36(e.R0b))},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-week-view-current-time-marker"]],inputs:{columnDate:"columnDate",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",hourSegments:"hourSegments",hourDuration:"hourDuration",hourSegmentHeight:"hourSegmentHeight",customTemplate:"customTemplate"},features:[e.TTD],decls:5,vars:14,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-current-time-marker",3,"top",4,"ngIf"],[1,"cal-current-time-marker"]],template:function(t,i){if(1&t&&(e.YNc(0,lr,1,1,"ng-template",null,0,e.W1O),e.YNc(2,sr,0,0,"ng-template",1),e.ALo(3,"async"),e.ALo(4,"async")),2&t){const a=e.MAs(1);let o;e.xp6(2),e.Q6J("ngTemplateOutlet",i.customTemplate||a)("ngTemplateOutletContext",e.Hh0(6,dr,i.columnDate,i.dayStartHour,i.dayStartMinute,i.dayEndHour,i.dayEndMinute,null==(o=e.lcZ(3,2,i.marker$))?null:o.isVisible,null==(o=e.lcZ(4,4,i.marker$))?null:o.top))}},directives:[g.O5,g.tP],pipes:[g.Ov],encapsulation:2}),n})(),ln=(()=>{class n{constructor(t,i,a,o,l){this.cdr=t,this.utils=i,this.dateAdapter=o,this.element=l,this.events=[],this.excludeDays=[],this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.precision="days",this.snapDraggedEvents=!0,this.hourSegments=2,this.hourSegmentHeight=30,this.minimumEventHeight=30,this.dayStartHour=0,this.dayStartMinute=0,this.dayEndHour=23,this.dayEndMinute=59,this.dayHeaderClicked=new e.vpe,this.eventClicked=new e.vpe,this.eventTimesChanged=new e.vpe,this.beforeViewRender=new e.vpe,this.hourSegmentClicked=new e.vpe,this.allDayEventResizes=new Map,this.timeEventResizes=new Map,this.eventDragEnterByType={allDay:0,time:0},this.dragActive=!1,this.dragAlreadyMoved=!1,this.calendarId=Symbol("angular calendar week view id"),this.rtl=!1,this.trackByWeekDayHeaderDate=mt,this.trackByHourSegment=zr,this.trackByHour=Nr,this.trackByWeekAllDayEvent=Pr,this.trackByWeekTimeEvent=Lr,this.trackByHourColumn=(s,c)=>c.hours[0]?c.hours[0].segments[0].date.toISOString():c,this.trackById=(s,c)=>c.id,this.locale=a}ngOnInit(){this.refresh&&(this.refreshSubscription=this.refresh.subscribe(()=>{this.refreshAll(),this.cdr.markForCheck()}))}ngOnChanges(t){const i=t.viewDate||t.excludeDays||t.weekendDays||t.daysInWeek||t.weekStartsOn,a=t.viewDate||t.dayStartHour||t.dayStartMinute||t.dayEndHour||t.dayEndMinute||t.hourSegments||t.hourDuration||t.weekStartsOn||t.weekendDays||t.excludeDays||t.hourSegmentHeight||t.events||t.daysInWeek||t.minimumEventHeight;i&&this.refreshHeader(),t.events&&en(this.events),a&&this.refreshBody(),(i||a)&&this.emitBeforeViewRender()}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}ngAfterViewInit(){this.rtl="undefined"!=typeof window&&"rtl"===getComputedStyle(this.element.nativeElement).direction,this.cdr.detectChanges()}timeEventResizeStarted(t,i,a){this.timeEventResizes.set(i.event,a),this.resizeStarted(t,i)}timeEventResizing(t,i){this.timeEventResizes.set(t.event,i);const a=new Map,o=[...this.events];this.timeEventResizes.forEach((l,s)=>{const c=this.getTimeEventResizedDates(s,l),d=Object.assign(Object.assign({},s),c);a.set(d,s);const u=o.indexOf(s);o[u]=d}),this.restoreOriginalEvents(o,a,!0)}timeEventResizeEnded(t){this.view=this.getWeekView(this.events);const i=this.timeEventResizes.get(t.event);if(i){this.timeEventResizes.delete(t.event);const a=this.getTimeEventResizedDates(t.event,i);this.eventTimesChanged.emit({newStart:a.start,newEnd:a.end,event:t.event,type:G.Resize})}}allDayEventResizeStarted(t,i,a){this.allDayEventResizes.set(i,{originalOffset:i.offset,originalSpan:i.span,edge:void 0!==a.edges.left?"left":"right"}),this.resizeStarted(t,i,this.getDayColumnWidth(t))}allDayEventResizing(t,i,a){const o=this.allDayEventResizes.get(t),l=this.rtl?-1:1;if(void 0!==i.edges.left){const s=Math.round(+i.edges.left/a)*l;t.offset=o.originalOffset+s,t.span=o.originalSpan-s}else if(void 0!==i.edges.right){const s=Math.round(+i.edges.right/a)*l;t.span=o.originalSpan+s}}allDayEventResizeEnded(t){const i=this.allDayEventResizes.get(t);if(i){const a="left"===i.edge;let o;o=a?t.offset-i.originalOffset:t.span-i.originalSpan,t.offset=i.originalOffset,t.span=i.originalSpan;const l=this.getAllDayEventResizedDates(t.event,o,a);this.eventTimesChanged.emit({newStart:l.start,newEnd:l.end,event:t.event,type:G.Resize}),this.allDayEventResizes.delete(t)}}getDayColumnWidth(t){return Math.floor(t.offsetWidth/this.days.length)}dateDragEnter(t){this.lastDragEnterDate=t}eventDropped(t,i,a){(function Vr(n,r,t,i){return n.dropData&&n.dropData.event&&(n.dropData.calendarId!==i||n.dropData.event.allDay&&!t||!n.dropData.event.allDay&&t)})(t,0,a,this.calendarId)&&this.lastDragEnterDate.getTime()===i.getTime()&&(!this.snapDraggedEvents||t.dropData.event!==this.lastDraggedEvent)&&this.eventTimesChanged.emit({type:G.Drop,event:t.dropData.event,newStart:i,allDay:a}),this.lastDraggedEvent=null}dragEnter(t){this.eventDragEnterByType[t]++}dragLeave(t){this.eventDragEnterByType[t]--}dragStarted(t,i,a,o){this.dayColumnWidth=this.getDayColumnWidth(t);const l=new ea(t,i);this.validateDrag=({x:s,y:c,transform:d})=>{const u=0===this.allDayEventResizes.size&&0===this.timeEventResizes.size&&l.validateDrag({x:s,y:c,snapDraggedEvents:this.snapDraggedEvents,dragAlreadyMoved:this.dragAlreadyMoved,transform:d});if(u&&this.validateEventTimesChanged){const h=this.getDragMovedEventTimes(a,{x:s,y:c},this.dayColumnWidth,o);return this.validateEventTimesChanged({type:G.Drag,event:a.event,newStart:h.start,newEnd:h.end})}return u},this.dragActive=!0,this.dragAlreadyMoved=!1,this.lastDraggedEvent=null,this.eventDragEnterByType={allDay:0,time:0},!this.snapDraggedEvents&&o&&this.view.hourColumns.forEach(s=>{const c=s.events.find(d=>d.event===a.event&&d!==a);c&&(c.width=0,c.height=0)}),this.cdr.markForCheck()}dragMove(t,i){const a=this.getDragMovedEventTimes(t,i,this.dayColumnWidth,!0),o=t.event,l=Object.assign(Object.assign({},o),a),s=this.events.map(c=>c===o?l:c);this.restoreOriginalEvents(s,new Map([[l,o]]),this.snapDraggedEvents),this.dragAlreadyMoved=!0}allDayEventDragMove(){this.dragAlreadyMoved=!0}dragEnded(t,i,a,o=!1){this.view=this.getWeekView(this.events),this.dragActive=!1,this.validateDrag=null;const{start:l,end:s}=this.getDragMovedEventTimes(t,i,a,o);(this.snapDraggedEvents||this.eventDragEnterByType[o?"time":"allDay"]>0)&&function Br(n,r,t){const i=r||n;return t.start<=n&&n<=t.end||t.start<=i&&i<=t.end}(l,s,this.view.period)&&(this.lastDraggedEvent=t.event,this.eventTimesChanged.emit({newStart:l,newEnd:s,event:t.event,type:G.Drag,allDay:!o}))}refreshHeader(){this.days=this.utils.getWeekViewHeader(Object.assign({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays},gt(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)))}refreshBody(){this.view=this.getWeekView(this.events)}refreshAll(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender()}emitBeforeViewRender(){this.days&&this.view&&this.beforeViewRender.emit(Object.assign({header:this.days},this.view))}getWeekView(t){return this.utils.getWeekView(Object.assign({events:t,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,precision:this.precision,absolutePositionedEvents:!0,hourSegments:this.hourSegments,hourDuration:this.hourDuration,dayStart:{hour:this.dayStartHour,minute:this.dayStartMinute},dayEnd:{hour:this.dayEndHour,minute:this.dayEndMinute},segmentHeight:this.hourSegmentHeight,weekendDays:this.weekendDays,minimumEventHeight:this.minimumEventHeight},gt(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)))}getDragMovedEventTimes(t,i,a,o){const l=nn(i.x,a)/a*(this.rtl?-1:1),s=o?ht(i.y,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration):0,c=this.dateAdapter.addMinutes(X(this.dateAdapter,t.event.start,l,this.excludeDays),s);let d;return t.event.end&&(d=this.dateAdapter.addMinutes(X(this.dateAdapter,t.event.end,l,this.excludeDays),s)),{start:c,end:d}}restoreOriginalEvents(t,i,a=!0){const o=this.view;a&&(this.view=this.getWeekView(t));const l=t.filter(s=>i.has(s));this.view.hourColumns.forEach((s,c)=>{o.hourColumns[c].hours.forEach((d,u)=>{d.segments.forEach((h,w)=>{s.hours[u].segments[w].cssClass=h.cssClass})}),l.forEach(d=>{const u=i.get(d),h=s.events.find(w=>w.event===(a?d:u));h?(h.event=u,h.tempEvent=d,a||(h.height=0,h.width=0)):s.events.push({event:u,left:0,top:0,height:0,width:0,startsBeforeDay:!1,endsAfterDay:!1,tempEvent:d})})}),i.clear()}getTimeEventResizedDates(t,i){const a={start:t.start,end:an(this.dateAdapter,t,this.minimumEventHeight)},l=(0,ct._T)(t,["end"]),s={start:this.dateAdapter.addMinutes(a.end,-1*this.minimumEventHeight),end:an(this.dateAdapter,l,this.minimumEventHeight)},c=this.rtl?-1:1;if(void 0!==i.edges.left){const d=Math.round(+i.edges.left/this.dayColumnWidth)*c,u=X(this.dateAdapter,a.start,d,this.excludeDays);a.start=u<s.start?u:s.start}else if(void 0!==i.edges.right){const d=Math.round(+i.edges.right/this.dayColumnWidth)*c,u=X(this.dateAdapter,a.end,d,this.excludeDays);a.end=u>s.end?u:s.end}if(void 0!==i.edges.top){const d=ht(i.edges.top,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration),u=this.dateAdapter.addMinutes(a.start,d);a.start=u<s.start?u:s.start}else if(void 0!==i.edges.bottom){const d=ht(i.edges.bottom,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration),u=this.dateAdapter.addMinutes(a.end,d);a.end=u>s.end?u:s.end}return a}resizeStarted(t,i,a){this.dayColumnWidth=this.getDayColumnWidth(t);const o=new ta(t,a,this.rtl);this.validateResize=({rectangle:l,edges:s})=>{const c=o.validateResize({rectangle:Object.assign({},l),edges:s});if(c&&this.validateEventTimesChanged){let d;if(a){const u=this.rtl?-1:1;if(void 0!==s.left){const h=Math.round(+s.left/a)*u;d=this.getAllDayEventResizedDates(i.event,h,!this.rtl)}else{const h=Math.round(+s.right/a)*u;d=this.getAllDayEventResizedDates(i.event,h,this.rtl)}}else d=this.getTimeEventResizedDates(i.event,{rectangle:l,edges:s});return this.validateEventTimesChanged({type:G.Resize,event:i.event,newStart:d.start,newEnd:d.end})}return c},this.cdr.markForCheck()}getAllDayEventResizedDates(t,i,a){let o=t.start,l=t.end||t.start;return a?o=X(this.dateAdapter,o,i,this.excludeDays):l=X(this.dateAdapter,l,i,this.excludeDays),{start:o,end:l}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.sBO),e.Y36($e),e.Y36(e.soG),e.Y36(re),e.Y36(e.SBq))},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-week-view"]],inputs:{viewDate:"viewDate",events:"events",excludeDays:"excludeDays",refresh:"refresh",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipTemplate:"tooltipTemplate",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",weekStartsOn:"weekStartsOn",headerTemplate:"headerTemplate",eventTemplate:"eventTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",precision:"precision",weekendDays:"weekendDays",snapDraggedEvents:"snapDraggedEvents",hourSegments:"hourSegments",hourDuration:"hourDuration",hourSegmentHeight:"hourSegmentHeight",minimumEventHeight:"minimumEventHeight",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",hourSegmentTemplate:"hourSegmentTemplate",eventSnapSize:"eventSnapSize",allDayEventsLabelTemplate:"allDayEventsLabelTemplate",daysInWeek:"daysInWeek",currentTimeMarkerTemplate:"currentTimeMarkerTemplate",validateEventTimesChanged:"validateEventTimesChanged"},outputs:{dayHeaderClicked:"dayHeaderClicked",eventClicked:"eventClicked",eventTimesChanged:"eventTimesChanged",beforeViewRender:"beforeViewRender",hourSegmentClicked:"hourSegmentClicked"},features:[e.TTD],decls:8,vars:9,consts:[["role","grid",1,"cal-week-view"],[3,"days","locale","customTemplate","dayHeaderClicked","eventDropped","dragEnter"],["class","cal-all-day-events","mwlDroppable","",3,"dragEnter","dragLeave",4,"ngIf"],["mwlDroppable","",1,"cal-time-events",3,"dragEnter","dragLeave"],["class","cal-time-label-column",4,"ngIf"],[1,"cal-day-columns"],["dayColumns",""],["class","cal-day-column",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","",1,"cal-all-day-events",3,"dragEnter","dragLeave"],["allDayEventsContainer",""],[1,"cal-time-label-column",3,"ngTemplateOutlet"],["class","cal-day-column","mwlDroppable","","dragOverClass","cal-drag-over",3,"drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["class","cal-events-row",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over",1,"cal-day-column",3,"drop","dragEnter"],[1,"cal-events-row"],["eventRowContainer",""],["class","cal-event-container","mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",3,"cal-draggable","cal-starts-within-week","cal-ends-within-week","ngClass","width","marginLeft","marginRight","resizeSnapGrid","validateResize","dropData","dragAxis","dragSnapGrid","validateDrag","touchStartLongPress","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd",4,"ngFor","ngForOf","ngForTrackBy"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"ngClass","resizeSnapGrid","validateResize","dropData","dragAxis","dragSnapGrid","validateDrag","touchStartLongPress","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd"],["event",""],["class","cal-resize-handle cal-resize-handle-before-start","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],[3,"locale","weekEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","daysInWeek","eventClicked"],["class","cal-resize-handle cal-resize-handle-after-end","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-before-start",3,"resizeEdges"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-after-end",3,"resizeEdges"],[1,"cal-time-label-column"],["class","cal-hour",3,"cal-hour-odd",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cal-hour"],[3,"height","segment","segmentHeight","locale","customTemplate","isTimeLabel","daysInWeek",4,"ngFor","ngForOf","ngForTrackBy"],[3,"segment","segmentHeight","locale","customTemplate","isTimeLabel","daysInWeek"],[1,"cal-day-column"],[3,"columnDate","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","hourSegments","hourDuration","hourSegmentHeight","customTemplate"],[1,"cal-events-container"],["class","cal-event-container","mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",3,"cal-draggable","cal-starts-within-day","cal-ends-within-day","ngClass","hidden","top","height","left","width","resizeSnapGrid","validateResize","allowNegativeResizes","dropData","dragAxis","dragSnapGrid","touchStartLongPress","ghostDragEnabled","ghostElementTemplate","validateDrag","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd",4,"ngFor","ngForOf","ngForTrackBy"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"ngClass","hidden","resizeSnapGrid","validateResize","allowNegativeResizes","dropData","dragAxis","dragSnapGrid","touchStartLongPress","ghostDragEnabled","ghostElementTemplate","validateDrag","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd"],[3,"ngTemplateOutlet"],["weekEventTemplate",""],[3,"locale","weekEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDisabled","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","column","daysInWeek","eventClicked"],["mwlDroppable","","dragActiveClass","cal-drag-active",3,"height","segment","segmentHeight","locale","customTemplate","daysInWeek","clickListenerDisabled","dragOverClass","isTimeLabel","mwlClick","drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragActiveClass","cal-drag-active",3,"segment","segmentHeight","locale","customTemplate","daysInWeek","clickListenerDisabled","dragOverClass","isTimeLabel","mwlClick","drop","dragEnter"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"mwl-calendar-week-view-header",1),e.NdJ("dayHeaderClicked",function(o){return i.dayHeaderClicked.emit(o)})("eventDropped",function(o){return i.eventDropped({dropData:o},o.newStart,!0)})("dragEnter",function(o){return i.dateDragEnter(o.date)}),e.qZA(),e.YNc(2,_r,6,5,"div",2),e.TgZ(3,"div",3),e.NdJ("dragEnter",function(){return i.dragEnter("time")})("dragLeave",function(){return i.dragLeave("time")}),e.YNc(4,Dr,2,2,"div",4),e.TgZ(5,"div",5,6),e.YNc(7,Fr,5,13,"div",7),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("days",i.days)("locale",i.locale)("customTemplate",i.headerTemplate),e.xp6(1),e.Q6J("ngIf",i.view.allDayEventRows.length>0),e.xp6(2),e.Q6J("ngIf",i.view.hourColumns.length>0&&1!==i.daysInWeek),e.xp6(1),e.ekj("cal-resize-active",i.timeEventResizes.size>0),e.xp6(2),e.Q6J("ngForOf",i.view.hourColumns)("ngForTrackBy",i.trackByHourColumn))},directives:[na,ia,ra,aa,g.O5,Ne,g.tP,g.sg,Ut,ze,g.mk,gi,me],encapsulation:2}),n})(),ft=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[g.ez,Jt,xe,Se],Jt,xe]}),n})(),oa=(()=>{class n{constructor(){this.events=[],this.hourSegments=2,this.hourSegmentHeight=30,this.minimumEventHeight=30,this.dayStartHour=0,this.dayStartMinute=0,this.dayEndHour=23,this.dayEndMinute=59,this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.snapDraggedEvents=!0,this.eventClicked=new e.vpe,this.hourSegmentClicked=new e.vpe,this.eventTimesChanged=new e.vpe,this.beforeViewRender=new e.vpe}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-day-view"]],inputs:{viewDate:"viewDate",events:"events",hourSegments:"hourSegments",hourSegmentHeight:"hourSegmentHeight",hourDuration:"hourDuration",minimumEventHeight:"minimumEventHeight",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",refresh:"refresh",locale:"locale",eventSnapSize:"eventSnapSize",tooltipPlacement:"tooltipPlacement",tooltipTemplate:"tooltipTemplate",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",hourSegmentTemplate:"hourSegmentTemplate",eventTemplate:"eventTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",snapDraggedEvents:"snapDraggedEvents",allDayEventsLabelTemplate:"allDayEventsLabelTemplate",currentTimeMarkerTemplate:"currentTimeMarkerTemplate",validateEventTimesChanged:"validateEventTimesChanged"},outputs:{eventClicked:"eventClicked",hourSegmentClicked:"hourSegmentClicked",eventTimesChanged:"eventTimesChanged",beforeViewRender:"beforeViewRender"},decls:1,vars:26,consts:[[1,"cal-day-view",3,"daysInWeek","viewDate","events","hourSegments","hourDuration","hourSegmentHeight","minimumEventHeight","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","refresh","locale","eventSnapSize","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDelay","hourSegmentTemplate","eventTemplate","eventTitleTemplate","eventActionsTemplate","snapDraggedEvents","allDayEventsLabelTemplate","currentTimeMarkerTemplate","validateEventTimesChanged","eventClicked","hourSegmentClicked","eventTimesChanged","beforeViewRender"]],template:function(t,i){1&t&&(e.TgZ(0,"mwl-calendar-week-view",0),e.NdJ("eventClicked",function(o){return i.eventClicked.emit(o)})("hourSegmentClicked",function(o){return i.hourSegmentClicked.emit(o)})("eventTimesChanged",function(o){return i.eventTimesChanged.emit(o)})("beforeViewRender",function(o){return i.beforeViewRender.emit(o)}),e.qZA()),2&t&&e.Q6J("daysInWeek",1)("viewDate",i.viewDate)("events",i.events)("hourSegments",i.hourSegments)("hourDuration",i.hourDuration)("hourSegmentHeight",i.hourSegmentHeight)("minimumEventHeight",i.minimumEventHeight)("dayStartHour",i.dayStartHour)("dayStartMinute",i.dayStartMinute)("dayEndHour",i.dayEndHour)("dayEndMinute",i.dayEndMinute)("refresh",i.refresh)("locale",i.locale)("eventSnapSize",i.eventSnapSize)("tooltipPlacement",i.tooltipPlacement)("tooltipTemplate",i.tooltipTemplate)("tooltipAppendToBody",i.tooltipAppendToBody)("tooltipDelay",i.tooltipDelay)("hourSegmentTemplate",i.hourSegmentTemplate)("eventTemplate",i.eventTemplate)("eventTitleTemplate",i.eventTitleTemplate)("eventActionsTemplate",i.eventActionsTemplate)("snapDraggedEvents",i.snapDraggedEvents)("allDayEventsLabelTemplate",i.allDayEventsLabelTemplate)("currentTimeMarkerTemplate",i.currentTimeMarkerTemplate)("validateEventTimesChanged",i.validateEventTimesChanged)},directives:[ln],encapsulation:2}),n})(),sn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[g.ez,Se,ft]]}),n})(),la=(()=>{class n{static forRoot(t,i={}){return{ngModule:n,providers:[t,i.eventTitleFormatter||Be,i.dateFormatter||Ve,i.utils||$e,i.a11y||Ye]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[Se,on,ft,sn],Se,on,ft,sn]}),n})();function P(n){if(null===n||!0===n||!1===n)return NaN;var r=Number(n);return isNaN(r)?r:r<0?Math.ceil(r):Math.floor(r)}function b(n,r){if(r.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+r.length+" present")}function O(n){b(1,arguments);var r=Object.prototype.toString.call(n);return n instanceof Date||"object"==typeof n&&"[object Date]"===r?new Date(n.getTime()):"number"==typeof n||"[object Number]"===r?new Date(n):(("string"==typeof n||"[object String]"===r)&&"undefined"!=typeof console&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function Ue(n,r){b(2,arguments);var t=O(n),i=P(r);return isNaN(i)?new Date(NaN):(i&&t.setDate(t.getDate()+i),t)}function wt(n,r){b(2,arguments);var t=O(n).getTime(),i=P(r);return new Date(t+i)}function da(n,r){b(2,arguments);var t=P(r);return wt(n,36e5*t)}function dn(n,r){b(2,arguments);var t=P(r);return wt(n,6e4*t)}function ua(n,r){b(2,arguments);var t=P(r);return wt(n,1e3*t)}function cn(n){var r=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return r.setUTCFullYear(n.getFullYear()),n.getTime()-r.getTime()}function _e(n){b(1,arguments);var r=O(n);return r.setHours(0,0,0,0),r}function ma(n,r){b(2,arguments);var t=_e(n),i=_e(r),a=t.getTime()-cn(t),o=i.getTime()-cn(i);return Math.round((a-o)/864e5)}function un(n,r){var t=n.getFullYear()-r.getFullYear()||n.getMonth()-r.getMonth()||n.getDate()-r.getDate()||n.getHours()-r.getHours()||n.getMinutes()-r.getMinutes()||n.getSeconds()-r.getSeconds()||n.getMilliseconds()-r.getMilliseconds();return t<0?-1:t>0?1:t}function ha(n,r){b(2,arguments);var t=O(n),i=O(r),a=un(t,i),o=Math.abs(ma(t,i));t.setDate(t.getDate()-a*o);var l=Number(un(t,i)===-a),s=a*(o-l);return 0===s?0:s}function pn(n,r){return b(2,arguments),O(n).getTime()-O(r).getTime()}Math.pow(10,8);var mn={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(n){return n<0?Math.ceil(n):Math.floor(n)}};function hn(n){return n?mn[n]:mn.trunc}function wa(n,r,t){b(2,arguments);var i=pn(n,r)/6e4;return hn(null==t?void 0:t.roundingMethod)(i)}function _a(n,r,t){b(2,arguments);var i=pn(n,r)/1e3;return hn(null==t?void 0:t.roundingMethod)(i)}function gn(n){b(1,arguments);var r=O(n);return r.setHours(23,59,59,999),r}function ya(n){b(1,arguments);var r=O(n),t=r.getMonth();return r.setFullYear(r.getFullYear(),t+1,0),r.setHours(23,59,59,999),r}function vn(n,r){b(1,arguments);var t=r||{},i=t.locale,a=i&&i.options&&i.options.weekStartsOn,o=null==a?0:P(a),l=null==t.weekStartsOn?o:P(t.weekStartsOn);if(!(l>=0&&l<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var s=O(n),c=s.getDay(),d=6+(c<l?-7:0)-(c-l);return s.setDate(s.getDate()+d),s.setHours(23,59,59,999),s}function Ca(n){b(1,arguments);var r=O(n),t=r.getDay();return t}function Da(n){b(1,arguments);var r=O(n),t=r.getMonth();return t}function fn(n,r){b(2,arguments);var t=_e(n),i=_e(r);return t.getTime()===i.getTime()}function wn(n,r){b(2,arguments);var t=O(n),i=O(r);return t.getFullYear()===i.getFullYear()&&t.getMonth()===i.getMonth()}function _n(n){b(1,arguments);var r=O(n);return r.setMilliseconds(0),r}function Ta(n,r){b(2,arguments);var t=_n(n),i=_n(r);return t.getTime()===i.getTime()}function ba(n){var r,t;if(b(1,arguments),n&&"function"==typeof n.forEach)r=n;else{if("object"!=typeof n||null===n)return new Date(NaN);r=Array.prototype.slice.call(n)}return r.forEach(function(i){var a=O(i);(void 0===t||t<a||isNaN(Number(a)))&&(t=a)}),t||new Date(NaN)}function ka(n,r){b(2,arguments);var t=O(n),i=P(r);return t.setHours(i),t}function xa(n,r){b(2,arguments);var t=O(n),i=P(r);return t.setMinutes(i),t}function Ea(n){b(1,arguments);var r=O(n);return r.setSeconds(0,0),r}function Ma(n){b(1,arguments);var r=O(n);return r.setDate(1),r.setHours(0,0,0,0),r}function yn(n,r){b(1,arguments);var t=r||{},i=t.locale,a=i&&i.options&&i.options.weekStartsOn,o=null==a?0:P(a),l=null==t.weekStartsOn?o:P(t.weekStartsOn);if(!(l>=0&&l<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var s=O(n),c=s.getDay(),d=(c<l?7:0)+c-l;return s.setDate(s.getDate()-d),s.setHours(0,0,0,0),s}function Sa(n){b(1,arguments);var r=O(n),t=r.getHours();return t}function Oa(n){b(1,arguments);var r=O(n),t=r.getMinutes();return t}function Aa(n){return new Date(n).getTimezoneOffset()}function Cn(n,r){b(2,arguments);var t=P(r),i=7*t;return Ue(n,i)}function Dn(n,r){b(2,arguments);var t=O(n),i=P(r);if(isNaN(i))return new Date(NaN);if(!i)return t;var a=t.getDate(),o=new Date(t.getTime());o.setMonth(t.getMonth()+i+1,0);var l=o.getDate();return a>=l?o:(t.setFullYear(o.getFullYear(),o.getMonth(),a),t)}function Fa(n,r){b(2,arguments);var t=P(r);return Ue(n,-t)}function Ia(n,r){b(2,arguments);var t=P(r);return Cn(n,-t)}function Wa(n,r){b(2,arguments);var t=P(r);return Dn(n,-t)}function Je(n){return b(1,arguments),yn(n,{weekStartsOn:1})}function Ra(n){b(1,arguments);var r=O(n),t=r.getFullYear(),i=new Date(0);i.setFullYear(t+1,0,4),i.setHours(0,0,0,0);var a=Je(i),o=new Date(0);o.setFullYear(t,0,4),o.setHours(0,0,0,0);var l=Je(o);return r.getTime()>=a.getTime()?t+1:r.getTime()>=l.getTime()?t:t-1}function za(n){b(1,arguments);var r=Ra(n),t=new Date(0);t.setFullYear(r,0,4),t.setHours(0,0,0,0);var i=Je(t);return i}var Na=6048e5;function Pa(n){b(1,arguments);var r=O(n),t=Je(r).getTime()-za(r).getTime();return Math.round(t/Na)+1}function La(n,r){b(2,arguments);var t=O(n),i=P(r);return t.setDate(i),t}function Za(n){b(1,arguments);var r=O(n),t=r.getFullYear(),i=r.getMonth(),a=new Date(0);return a.setFullYear(t,i+1,0),a.setHours(0,0,0,0),a.getDate()}function Ya(n,r){b(2,arguments);var t=O(n),i=P(r),a=t.getFullYear(),o=t.getDate(),l=new Date(0);l.setFullYear(a,i,15),l.setHours(0,0,0,0);var s=Za(l);return t.setMonth(i,Math.min(o,s)),t}function Ba(n,r){b(2,arguments);var t=O(n),i=P(r);return isNaN(t.getTime())?new Date(NaN):(t.setFullYear(i),t)}function Va(n){b(1,arguments);var r=O(n),t=r.getDate();return t}function $a(n){return b(1,arguments),O(n).getFullYear()}function Ua(){return(0,ct.pi)((0,ct.pi)({},function Ha(){return{addDays:Ue,addHours:da,addMinutes:dn,addSeconds:ua,differenceInDays:ha,differenceInMinutes:wa,differenceInSeconds:_a,endOfDay:gn,endOfMonth:ya,endOfWeek:vn,getDay:Ca,getMonth:Da,isSameDay:fn,isSameMonth:wn,isSameSecond:Ta,max:ba,setHours:ka,setMinutes:xa,startOfDay:_e,startOfMinute:Ea,startOfMonth:Ma,startOfWeek:yn,getHours:Sa,getMinutes:Oa,getTimezoneOffset:Aa}}()),{addWeeks:Cn,addMonths:Dn,subDays:Fa,subWeeks:Ia,subMonths:Wa,getISOWeek:Pa,setDate:La,setMonth:Ya,setYear:Ba,getDate:Va,getYear:$a})}var Ja=C(2539),qa=C(5592);const N=void 0,Qa=["fr",[["AM","PM"],N,N],N,[["D","L","M","M","J","V","S"],["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],["di","lu","ma","me","je","ve","sa"]],N,[["J","F","M","A","M","J","J","A","S","O","N","D"],["janv.","f\xe9vr.","mars","avr.","mai","juin","juil.","ao\xfbt","sept.","oct.","nov.","d\xe9c."],["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","ao\xfbt","septembre","octobre","novembre","d\xe9cembre"]],N,[["av. J.-C.","ap. J.-C."],N,["avant J\xe9sus-Christ","apr\xe8s J\xe9sus-Christ"]],1,[6,0],["dd/MM/y","d MMM y","d MMMM y","EEEE d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}","{1}, {0}","{1} '\xe0' {0}",N],[",","\u202f",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{ARS:["$AR","$"],AUD:["$AU","$"],BEF:["FB"],BMD:["$BM","$"],BND:["$BN","$"],BZD:["$BZ","$"],CAD:["$CA","$"],CLP:["$CL","$"],CNY:[N,"\xa5"],COP:["$CO","$"],CYP:["\xa3CY"],EGP:[N,"\xa3E"],FJD:["$FJ","$"],FKP:["\xa3FK","\xa3"],FRF:["F"],GBP:["\xa3GB","\xa3"],GIP:["\xa3GI","\xa3"],HKD:[N,"$"],IEP:["\xa3IE"],ILP:["\xa3IL"],ITL:["\u20a4IT"],JPY:[N,"\xa5"],KMF:[N,"FC"],LBP:["\xa3LB","\xa3L"],MTP:["\xa3MT"],MXN:["$MX","$"],NAD:["$NA","$"],NIO:[N,"$C"],NZD:["$NZ","$"],PHP:[N,"\u20b1"],RHD:["$RH"],RON:[N,"L"],RWF:[N,"FR"],SBD:["$SB","$"],SGD:["$SG","$"],SRD:["$SR","$"],TOP:[N,"$T"],TTD:["$TT","$"],TWD:[N,"NT$"],USD:["$US","$"],UYU:["$UY","$"],WST:["$WS"],XCD:[N,"$"],XPF:["FCFP"],ZMW:[N,"Kw"]},"ltr",function ja(n){const t=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length,a=parseInt(n.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return 0===t||1===t?1:0===a&&0!==t&&t%1e6==0&&0===i||!(a>=0&&a<=5)?4:5}];var _t=C(1674);let Tn=(()=>{class n{constructor(t,i){this.el=t,this.renderer=i,this.offset={x:0,y:0}}ngAfterViewInit(){setTimeout(()=>{this.makeItDraggable()})}makeItDraggable(){const t=this.el.nativeElement.closest(".modal-dialog");if(!t)return void console.error("DragModalDirective cannot find the parent element with class modal-dialog");this.renderer.setStyle(this.el.nativeElement,"user-select","none"),this.renderer.setStyle(this.el.nativeElement,"cursor","move"),this.renderer.setStyle(t,"transition","none");const i=(0,de.R)(this.el.nativeElement,"mousedown"),a=(0,de.R)(document,"mousemove"),o=(0,de.R)(document,"mouseup"),l=i.pipe((0,Nt.b)(s=>{this.start={x:s.clientX-this.offset.x,y:s.clientY-this.offset.y}}),(0,We.z)(s=>a.pipe((0,Z.R)(o))));this.subscription=l.subscribe(s=>{this.offset={x:s.clientX-this.start.x,y:s.clientY-this.start.y},this.renderer.setStyle(t,"transform",`translate(${this.offset.x}px, ${this.offset.y}px)`)})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.Qsj))},n.\u0275dir=e.lG2({type:n,selectors:[["",8,"modal-header"]]}),n})(),bn=(()=>{class n{constructor(t,i){this.el=t,this.renderer=i}ngAfterViewInit(){setTimeout(()=>{this.check()},100)}check(){"--:--:--"!=this.el.nativeElement.querySelector(".script").innerHTML&&this.renderer.setStyle(this.el.nativeElement,"color","#3f903f")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.Qsj))},n.\u0275dir=e.lG2({type:n,selectors:[["",8,"proc"]]}),n})();const Xa=[Tn,bn];var Ga=C(8746);class Ka{constructor(){this.primaire="#FF0000",this.secondaire="#990000"}}class eo{constructor(){this.name="",this.couleurs=new Ka,this.dates=[],this.actif=!0,this.scripts=[]}}var to=C(7751),no=C(4667),io=C(4890),ro=C(9444);function ao(n,r){if(1&n&&(e.TgZ(0,"li",15)(1,"p"),e._uU(2),e.qZA(),e.TgZ(3,"p"),e._uU(4),e.qZA(),e.TgZ(5,"p",16),e._uU(6),e.qZA()()),2&n){const t=r.$implicit;e.xp6(2),e.Oqu(t.content),e.xp6(2),e.AsE("",t.script," \xe0 ",t.heure,""),e.xp6(2),e.Oqu(t.duree)}}const oo=function(n){return{"background-color":n}},lo=function(n,r){return[n,r]};function so(n,r){if(1&n&&(e.TgZ(0,"li",5)(1,"div",6),e._UZ(2,"fa-icon",7),e.qZA(),e.TgZ(3,"div",8)(4,"div",9)(5,"h4",10),e._uU(6),e.qZA(),e.TgZ(7,"p")(8,"small",11),e._UZ(9,"i",12),e._uU(10),e.qZA()()(),e.TgZ(11,"div",13)(12,"ul"),e.YNc(13,ao,7,4,"li",14),e.qZA()()()()),2&n){const t=r.$implicit;e.s9C("ngClass",t.sens),e.xp6(1),e.Q6J("ngStyle",e.VKq(6,oo,t.color)),e.xp6(1),e.Q6J("icon",e.WLB(8,lo,t.iconePre,t.iconeName)),e.xp6(4),e.Oqu(t.nom),e.xp6(4),e.Oqu(t.smallText),e.xp6(3),e.Q6J("ngForOf",t.processus)}}let co=(()=>{class n{constructor(t){this.calendrierService=t,this.items=[]}ngOnInit(){this.items=[],this.calendrier?this.calendrierService.get_oneCalendrier(this.calendrier._id).subscribe(t=>{this.calendrier=t,this.calendrier.scripts.sort((a,o)=>a.order-o.order).forEach(a=>{this.items.push(a)}),this.getTasks()}):this.items=[]}getTasks(){this.calendrierService.get_tasks(this.daySelected.start.toString()).subscribe(t=>{let i=new Date(this.daySelected.start),a=t.filter(p=>p.jour.split("/")[0].match((i.getDate()-1).toString())),o=t.filter(p=>p.jour.split("/")[0].match(i.getDate().toString()));a=a.filter(p=>parseInt(p.heure.split(":")[0])>=18),a=a.sort((p,T)=>{let f=p.heure.split(":"),y=T.heure.split(":");return parseInt(f[0])==parseInt(y[0])?parseInt(f[1])==parseInt(y[1])?parseInt(f[2])-parseInt(y[2]):parseInt(f[1])-parseInt(y[1]):parseInt(f[0])-parseInt(y[0])}),o=o.sort((p,T)=>{let f=p.heure.split(":"),y=T.heure.split(":");return parseInt(f[0])==parseInt(y[0])?parseInt(f[1])==parseInt(y[1])?parseInt(f[2])-parseInt(y[2]):parseInt(f[1])-parseInt(y[1]):parseInt(f[0])-parseInt(y[0])}),console.log(a.length),console.log(o.length);let l=0;var s=this.items.find(p=>p.nom.match("Partie 1")),c=this.items.find(p=>p.nom.match("Stop BDD")),d=this.items.find(p=>p.nom.match("Start BDD")),u=this.items.find(p=>p.nom.match("Partie 2")),h=this.items.find(p=>p.nom.match("Partie 3"));a.forEach(p=>{s.processus[l].duree=p.dur\u00e9e,s.processus[l].heure=p.heure,s.processus[l].script=p.script,s.processus[l].content=p.description,l++});let w=0,m=0;o.forEach(p=>{p.partie.match("BDD-1")&&(c.processus[0].duree=p.dur\u00e9e,c.processus[0].heure=p.heure,c.processus[0].script=p.script,c.processus[0].content=p.description),p.partie.match("BDD-2")&&(d.processus[0].duree=p.dur\u00e9e,d.processus[0].heure=p.heure,d.processus[0].script=p.script,d.processus[0].content=p.description),("Rec-2"==p.partie||"Prod-2"==p.partie)&&(u.processus[w].duree=p.dur\u00e9e,u.processus[w].heure=p.heure,u.processus[w].script=p.script,u.processus[w].content=p.description,w++),("Rec-3"==p.partie||"Prod-3"==p.partie)&&(h.processus[m].duree=p.dur\u00e9e,h.processus[m].heure=p.heure,h.processus[m].script=p.script,h.processus[m].content=p.description,m++)}),this.items.forEach(p=>{1==this.checkFull(p)?(p.iconePre="fas",p.iconeName="check",p.color="#9acd32"):(p.iconePre="fas",p.iconeName="clock",p.color="#2e6da4")})})}checkFull(t){let i=!0;return t.processus.forEach(a=>{"--:--:--"==a.duree&&(i=!1)}),i}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_t.g))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-timeline"]],inputs:{calendrier:"calendrier",daySelected:"daySelected"},decls:6,vars:1,consts:[[1,"container","main"],[1,"page-header"],["id","timeline"],[1,"timeline"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"timeline-badge",3,"ngStyle"],[3,"icon"],[1,"timeline-panel"],[1,"timeline-heading"],[1,"timeline-title"],[1,"text-muted"],[1,"glyphicon","glyphicon-time"],[1,"timeline-body"],["class","proc",4,"ngFor","ngForOf"],[1,"proc"],[1,"script"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Timeline"),e.qZA()(),e.TgZ(4,"ul",3),e.YNc(5,so,14,11,"li",4),e.qZA()()),2&t&&(e.xp6(5),e.Q6J("ngForOf",i.items))},directives:[g.sg,g.mk,g.PC,ro.BN,bn],styles:['.timeline[_ngcontent-%COMP%]{list-style:none;padding:20px 0;position:relative}.timeline[_ngcontent-%COMP%]:before{top:0;bottom:0;position:absolute;content:" ";width:3px;background-color:#868585;left:50%;margin-left:-1.5px}.timeline[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{margin-bottom:20px;position:relative}.timeline[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:before, .timeline[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:after{content:" ";display:table}.timeline[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:after{clear:both}.timeline[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .timeline-panel[_ngcontent-%COMP%]{width:46%;float:left;border:1px solid #d4d4d4;border-radius:2px;padding:20px;position:relative;box-shadow:0 1px 6px #0000002d}.timeline[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .timeline-panel[_ngcontent-%COMP%]:before{position:absolute;top:26px;right:-15px;display:inline-block;border-top:15px solid transparent;border-left:15px solid #ccc;border-right:0 solid #ccc;border-bottom:15px solid transparent;content:" "}.timeline[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .timeline-panel[_ngcontent-%COMP%]:after{position:absolute;top:27px;right:-14px;display:inline-block;border-top:14px solid transparent;border-left:14px solid #fff;border-right:0 solid #fff;border-bottom:14px solid transparent;content:" "}.timeline[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .timeline-badge[_ngcontent-%COMP%]{color:#fff;width:50px;height:50px;line-height:50px;font-size:1.4em;text-align:center;position:absolute;top:16px;left:50%;margin-left:-25px;background-color:#999;z-index:100;border-radius:50%}.timeline[_ngcontent-%COMP%] > li.timeline-inverted[_ngcontent-%COMP%] > .timeline-panel[_ngcontent-%COMP%]{float:right}.timeline[_ngcontent-%COMP%] > li.timeline-inverted[_ngcontent-%COMP%] > .timeline-panel[_ngcontent-%COMP%]:before{border-left-width:0;border-right-width:15px;left:-15px;right:auto}.timeline[_ngcontent-%COMP%] > li.timeline-inverted[_ngcontent-%COMP%] > .timeline-panel[_ngcontent-%COMP%]:after{border-left-width:0;border-right-width:14px;left:-14px;right:auto}.timeline-badge.primary[_ngcontent-%COMP%]{background-color:#2e6da4!important}.timeline-badge.success[_ngcontent-%COMP%]{background-color:#3f903f!important}.timeline-badge.warning[_ngcontent-%COMP%]{background-color:#f0ad4e!important}.timeline-badge.danger[_ngcontent-%COMP%]{background-color:#d9534f!important}.timeline-badge.info[_ngcontent-%COMP%]{background-color:#5bc0de!important}.timeline-title[_ngcontent-%COMP%]{margin-top:0;color:inherit}.timeline-body[_ngcontent-%COMP%] > p[_ngcontent-%COMP%], .timeline-body[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]{margin-bottom:0}.timeline-body[_ngcontent-%COMP%] > p[_ngcontent-%COMP%] + p[_ngcontent-%COMP%]{margin-top:5px}@media (max-width: 767px){ul.timeline[_ngcontent-%COMP%]:before{left:40px}ul.timeline[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .timeline-panel[_ngcontent-%COMP%]{width:calc(100% - 90px);width:-webkit-calc(100% - 90px)}ul.timeline[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .timeline-badge[_ngcontent-%COMP%]{left:15px;margin-left:0;top:16px}ul.timeline[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .timeline-panel[_ngcontent-%COMP%]{float:right}ul.timeline[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .timeline-panel[_ngcontent-%COMP%]:before{border-left-width:0;border-right-width:15px;left:-15px;right:auto}ul.timeline[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .timeline-panel[_ngcontent-%COMP%]:after{border-left-width:0;border-right-width:14px;left:-14px;right:auto}}']}),n})();const uo=["modalContent"],po=["modalCreate"],mo=["modalDate"],ho=["modalTimeline"],go=["modalExceptionnel"];function vo(n,r){if(1&n&&(e.TgZ(0,"div",30),e._uU(1),e.ALo(2,"calendarDate"),e.qZA()),2&n){const t=e.oxw(),i=t.segment,a=t.fr;e.xp6(1),e.hij(" ",e.Dn7(2,1,i.date,"weekViewHour",a)," ")}}function fo(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",27,28),e.NdJ("mousedown",function(a){const l=e.CHM(t).segment,s=e.MAs(1);return e.oxw().startDragToCreate(l,a,s)}),e.YNc(2,vo,3,5,"div",29),e.qZA()}if(2&n){const t=r.segment,a=r.isTimeLabel;e.Udp("height",r.segmentHeight,"px"),e.ekj("cal-hour-start",t.isStart)("cal-after-hour-start",!t.isStart),e.Q6J("ngClass",t.cssClass),e.xp6(2),e.Q6J("ngIf",a)}}function wo(n,r){1&n&&(e.TgZ(0,"p")(1,"em"),e._uU(2,"No events added"),e.qZA()())}const _o=function(n){return{event:n}},yo=function(){return{delay:300,delta:30}};function Co(n,r){if(1&n&&(e.TgZ(0,"li",31)(1,"a",32),e._uU(2),e.qZA()()),2&n){const t=r.$implicit;e.Q6J("dropData",e.VKq(5,_o,t))("touchStartLongPress",e.DdM(7,yo)),e.xp6(1),e.Udp("color",t.couleurs.primaire),e.xp6(1),e.hij(" ",t.full_name," ")}}function Do(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"mwl-calendar-month-view",33),e.NdJ("beforeViewRender",function(a){return e.CHM(t),e.oxw().beforeMonthViewRender(a)})("dayClicked",function(a){return e.CHM(t),e.oxw().dayClicked(a.day)})("eventClicked",function(a){return e.CHM(t),e.oxw().handleEvent("Clicked",a.event)})("eventTimesChanged",function(a){return e.CHM(t),e.oxw().eventTimesChanged(a)}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("locale","fr")("viewDate",t.viewDate)("events",t.events)("refresh",t.refresh)("activeDayIsOpen",t.activeDayIsOpen)}}function To(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"mwl-calendar-week-view",34),e.NdJ("eventClicked",function(a){return e.CHM(t),e.oxw().handleEvent("Clicked",a.event)})("eventTimesChanged",function(a){return e.CHM(t),e.oxw().eventTimesChanged(a)}),e.qZA()}if(2&n){const t=e.oxw(),i=e.MAs(1);e.Q6J("locale","fr")("viewDate",t.viewDate)("events",t.events)("refresh",t.refresh)("hourSegmentTemplate",i)("weekStartsOn",t.weekStartsOn)}}function bo(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"mwl-calendar-day-view",35),e.NdJ("eventClicked",function(a){return e.CHM(t),e.oxw().handleEvent("Clicked",a.event)})("eventTimesChanged",function(a){return e.CHM(t),e.oxw().eventTimesChanged(a)}),e.qZA()}if(2&n){const t=e.oxw(),i=e.MAs(1);e.Q6J("locale","fr")("viewDate",t.viewDate)("events",t.events)("refresh",t.refresh)("hourSegmentTemplate",i)}}function ko(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",36),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(),o=e.MAs(61);return a.open(o)}),e._uU(1," Ajouter "),e.qZA()}}function xo(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"input",38),e.NdJ("ngModelChange",function(a){return e.CHM(t).$implicit.name=a})("keyup",function(){return e.CHM(t),e.oxw(2).refresh.next()}),e.ALo(3,"async"),e.qZA()(),e.TgZ(4,"td")(5,"input",39),e.NdJ("ngModelChange",function(a){return e.CHM(t).$implicit.couleurs.primaire=a})("change",function(){const o=e.CHM(t).$implicit,l=e.oxw(2);return l.changeColor(o._id,o.couleurs),l.refresh.next()}),e.ALo(6,"async"),e.qZA()(),e.TgZ(7,"td")(8,"input",39),e.NdJ("ngModelChange",function(a){return e.CHM(t).$implicit.couleurs.secondaire=a})("change",function(){const o=e.CHM(t).$implicit,l=e.oxw(2);return l.changeColor(o._id,o.couleurs),l.refresh.next()}),e.ALo(9,"async"),e.qZA()(),e.TgZ(10,"td")(11,"input",40),e.NdJ("ngModelChange",function(a){return e.CHM(t).$implicit.actif=a})("change",function(){const o=e.CHM(t).$implicit;return e.oxw(2).onChange(o._id)}),e.qZA()(),e.TgZ(12,"td")(13,"button",41),e.NdJ("click",function(){const o=e.CHM(t).$implicit,l=e.oxw(2),s=e.MAs(65);return l.openDelete(s,o._id)}),e.ALo(14,"async"),e._uU(15," Supprimer "),e.qZA()()()}if(2&n){const t=r.$implicit,i=e.oxw(2);e.xp6(2),e.Q6J("ngModel",t.name)("disabled",!e.lcZ(3,8,i.auth.isAdmin)),e.xp6(3),e.Q6J("disabled",!e.lcZ(6,10,i.auth.isAdmin))("ngModel",t.couleurs.primaire),e.xp6(3),e.Q6J("disabled",!e.lcZ(9,12,i.auth.isAdmin))("ngModel",t.couleurs.secondaire),e.xp6(3),e.Q6J("ngModel",t.actif),e.xp6(2),e.Q6J("disabled",!e.lcZ(14,14,i.auth.isAdmin))}}function Eo(n,r){if(1&n&&(e.TgZ(0,"tbody"),e.YNc(1,xo,16,16,"tr",37),e.qZA()),2&n){const t=r.ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function Mo(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",42)(1,"h5",43),e._uU(2,"Action detect\xe9"),e.qZA(),e.TgZ(3,"button",44),e.NdJ("click",function(){return e.CHM(t).close()}),e.TgZ(4,"span",45),e._uU(5,"\xd7"),e.qZA()()(),e.TgZ(6,"div",46)(7,"div"),e._uU(8," Action: "),e.TgZ(9,"pre"),e._uU(10),e.qZA()(),e.TgZ(11,"div"),e._uU(12," Ev\xe8nement: "),e.TgZ(13,"pre"),e._uU(14),e.ALo(15,"json"),e.qZA()()(),e.TgZ(16,"div",47)(17,"button",48),e.NdJ("click",function(){return e.CHM(t).close()}),e._uU(18," OK "),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(10),e.Oqu(null==t.modalData?null:t.modalData.action),e.xp6(4),e.Oqu(e.lcZ(15,2,null==t.modalData?null:t.modalData.event))}}function So(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",42)(1,"h5",43),e._uU(2,"Cr\xe9ation d'un calendrier"),e.qZA(),e.TgZ(3,"button",44),e.NdJ("click",function(){return e.CHM(t).close()}),e.TgZ(4,"span",45),e._uU(5,"\xd7"),e.qZA()()(),e.TgZ(6,"div",46)(7,"form")(8,"div",49)(9,"label",50),e._uU(10,"Entrez le nom du nouveau calendrier:"),e.qZA(),e.TgZ(11,"input",51),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw().nameNewCalendar=a}),e.qZA()(),e.TgZ(12,"div",49)(13,"label",52),e._uU(14,"Entrez le nom complet:"),e.qZA(),e.TgZ(15,"input",53),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw().fullNameNewCalendar=a}),e.qZA()(),e.TgZ(16,"div",49)(17,"label"),e._uU(18,"couleur primaire:"),e.qZA(),e.TgZ(19,"input",54),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw().couleurPrimaireNewCalendar=a})("change",function(){return e.CHM(t),e.oxw().refresh.next()}),e.qZA()(),e.TgZ(20,"div",49)(21,"label"),e._uU(22,"couleur secondaire:"),e.qZA(),e.TgZ(23,"input",55),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw().couleurSecondaireNewCalendar=a})("change",function(){return e.CHM(t),e.oxw().refresh.next()}),e.qZA()()()(),e.TgZ(24,"div",47)(25,"button",48),e.NdJ("click",function(){const o=e.CHM(t).close;return e.oxw().createCalendar(),o()}),e._uU(26," Cr\xe9er "),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(11),e.Q6J("ngModel",t.nameNewCalendar),e.xp6(4),e.Q6J("ngModel",t.fullNameNewCalendar),e.xp6(4),e.Q6J("ngModel",t.couleurPrimaireNewCalendar),e.xp6(4),e.Q6J("ngModel",t.couleurSecondaireNewCalendar)}}function Oo(n,r){if(1&n&&(e.TgZ(0,"option",59),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.s9C("value",t._id),e.xp6(1),e.Oqu(t.name)}}function Ao(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"select",57),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw(2).selectedCalendar=a}),e.YNc(1,Oo,2,2,"option",58),e.qZA()}if(2&n){const t=r.ngIf,i=e.oxw(2);e.Q6J("ngModel",i.selectedCalendar),e.xp6(1),e.Q6J("ngForOf",t)}}function Ho(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",42)(1,"h5",43),e._uU(2,"Ajout d'un cr\xe9neau"),e.qZA(),e.TgZ(3,"button",44),e.NdJ("click",function(){return e.CHM(t).close()}),e.TgZ(4,"span",45),e._uU(5,"\xd7"),e.qZA()()(),e.TgZ(6,"div",46)(7,"div"),e._uU(8," Selectionnez le calendrier o\xf9 enregister le cr\xe9neau: "),e.YNc(9,Ao,2,2,"select",56),e.ALo(10,"async"),e.qZA()(),e.TgZ(11,"div",47)(12,"button",48),e.NdJ("click",function(){const o=e.CHM(t).close;return e.oxw().addDate(),o()}),e._uU(13," Cr\xe9er "),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(9),e.Q6J("ngIf",e.lcZ(10,1,t.calendriers))}}function Fo(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",42)(1,"h4",60),e._uU(2,"Supression Calendrier"),e.qZA(),e.TgZ(3,"button",61),e.NdJ("click",function(){return e.CHM(t).$implicit.dismiss("Cross click")}),e.qZA()(),e.TgZ(4,"div",46)(5,"p")(6,"strong"),e._uU(7,"\xcates-vous s\xfbr de vouloir supprimer le calendrier ?"),e.qZA()(),e.TgZ(8,"p"),e._uU(9,"Tout les \xe9v\xe8enements associ\xe9es au calendrier seront perdues. "),e.TgZ(10,"span",62),e._uU(11,"Attention cette op\xe9ration ne peut pas \xeatre annul\xe9."),e.qZA()()(),e.TgZ(12,"div",47)(13,"button",48),e.NdJ("click",function(){return e.CHM(t).$implicit.dismiss("cancel click")}),e._uU(14,"Annuler"),e.qZA(),e.TgZ(15,"button",63),e.NdJ("click",function(){const o=e.CHM(t).$implicit,l=e.oxw();return o.close("Ok click"),l.deleteCalendar(l.idDeleted)}),e._uU(16,"Supprimer"),e.qZA()()}}function Io(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",42)(1,"h5",43),e._uU(2,"Timeline"),e.qZA(),e.TgZ(3,"button",44),e.NdJ("click",function(){return e.CHM(t).close()}),e.TgZ(4,"span",45),e._uU(5,"\xd7"),e.qZA()()(),e.TgZ(6,"div",64),e._UZ(7,"app-timeline",65),e.qZA()}if(2&n){const t=e.oxw();e.xp6(7),e.Q6J("calendrier",t.modalTimelineData.cal)("daySelected",t.modalTimelineData.event)}}function Wo(n,r){if(1&n&&(e.TgZ(0,"tr")(1,"th",68),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA()()),2&n){const t=r.$implicit,i=r.index;e.xp6(2),e.Oqu(i+1),e.xp6(2),e.hij(" ",t.name," "),e.xp6(2),e.Oqu(t.type),e.xp6(2),e.Oqu(t.description)}}function Ro(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",42)(1,"h5",43),e._uU(2),e.qZA(),e.TgZ(3,"button",44),e.NdJ("click",function(){return e.CHM(t).close()}),e.TgZ(4,"span",45),e._uU(5,"\xd7"),e.qZA()()(),e.TgZ(6,"div",64)(7,"p")(8,"strong"),e._uU(9),e.qZA()(),e.TgZ(10,"table",66)(11,"thead")(12,"tr")(13,"th",67),e._uU(14,"#"),e.qZA(),e.TgZ(15,"th",67),e._uU(16,"Nom"),e.qZA(),e.TgZ(17,"th",67),e._uU(18,"Type"),e.qZA(),e.TgZ(19,"th",67),e._uU(20,"Description"),e.qZA()()(),e.TgZ(21,"tbody"),e.YNc(22,Wo,9,4,"tr",37),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.hij("Planification Exceptionnel du ",t.modalExceptionnelData.plannif.date_plannif,""),e.xp6(7),e.lnq("Planifi\xe9 par ",t.modalExceptionnelData.plannif.user," de ",t.modalExceptionnelData.plannif.horaire_debut," \xe0 ",t.modalExceptionnelData.plannif.horaire_fin,""),e.xp6(13),e.Q6J("ngForOf",t.modalExceptionnelData.plannif.plannifs)}}const yt={red:{primary:"#ad2121",secondary:"#FAE3E3"},blue:{primary:"#1e90ff",secondary:"#D1E8FF"},yellow:{primary:"#e3bc08",secondary:"#FDF1BA"}};let Po=(()=>{class n{constructor(t,i,a,o,l){this.modal=t,this.calendrierService=i,this.cdr=a,this.auth=o,this.ExceptionService=l,this.locale="fr",this.nameNewCalendar="New Calendar",this.fullNameNewCalendar="Full name",this.couleurPrimaireNewCalendar="#FF0000",this.couleurSecondaireNewCalendar="#990000",this.idDeleted="",this.selectedDays=[],this.selectedCalendar="",this.view=ie.Month,this.CalendarView=ie,this.viewDate=new Date,this.dragToCreateActive=!1,this.weekStartsOn=0,this.actions=[{label:"<small>supprimer</small>",a11yLabel:"Delete",onClick:({event:s})=>{this.calendrierService.deleteEvent(s).subscribe(c=>{"Planification Exceptionnel"==s.title&&this.ExceptionService.supressionPlannification(s.id.toString()).subscribe(d=>{alert("Supression Termin\xe9e")}),this.ngOnInit()})}}],this.refresh=new W.x,this.events=[],this.activeDayIsOpen=!0,this.calendriers=new ge.X([]),this.externalEvents=[{title:"Event 1",color:yt.yellow,start:new Date,draggable:!0},{title:"Event 2",color:yt.blue,start:new Date,draggable:!0}]}eventDropped({event:t,newStart:i,newEnd:a,allDay:o}){const l=this.externalEvents.indexOf(t);void 0!==o&&(t.allDay=o),l>-1&&(this.externalEvents.splice(l,1),this.events.push(t)),t.start=i,a&&(t.end=a),"month"===this.view&&(this.viewDate=i,this.activeDayIsOpen=!0),this.events=[...this.events]}externalDrop(t){-1===this.externalEvents.indexOf(t)&&(this.events=this.events.filter(i=>i!==t),this.externalEvents.push(t))}ngOnInit(){this.calendrierService.get_calendrier().subscribe(t=>{this.auth.isAdmin.subscribe(i=>{this.calendriers.next(t),this.events=[],t.forEach(a=>{a.dates.forEach(o=>{o.start=new Date(o.start),o.end&&(o.end=new Date(o.end)),1==i&&(o.actions=this.actions),this.events.push(o),this.refresh2()})})})})}dayClicked(t){wn(t.date,this.viewDate)&&(this.activeDayIsOpen=!fn(this.viewDate,t.date)||!0!==this.activeDayIsOpen,this.viewDate=t.date)}beforeMonthViewRender({body:t}){t.forEach(i=>{var a;i.events.length>0&&(i.backgroundColor=null===(a=i.events[0].color)||void 0===a?void 0:a.secondary,i.badgeTotal=0)})}eventTimesChanged({event:t,newStart:i,newEnd:a}){this.events=this.events.map(o=>o===t?Object.assign(Object.assign({},t),{start:i,end:a}):o),this.handleEvent("Dropped or resized",t)}handleEvent(t,i){this.modalData={event:i,action:t};let a=this.calendriers.getValue().find(o=>o.dates.includes(i));i.title.includes("Planification Exceptionnel")?this.ExceptionService.getPlannification(i.id.toString()).subscribe(l=>{this.modalExceptionnelData={cal:a,event:i,plannif:l},this.modal.open(this.modalExceptionnel,{centered:!0,animation:!0,scrollable:!0})}):(this.modalTimelineData={cal:a,event:i},this.modal.open(this.modalTimeline,{size:"xl",centered:!0,animation:!0,scrollable:!0}))}addEvent(){this.events=[...this.events,{title:"New event",start:_e(new Date),end:gn(new Date),color:yt.red,draggable:!0,resizable:{beforeStart:!0,afterEnd:!0}}]}deleteEvent(t){this.events=this.events.filter(i=>i!==t)}setView(t){this.view=t}closeOpenMonthViewDay(){this.activeDayIsOpen=!1}startDragToCreate(t,i,a){const o={id:this.events.length,title:"New event",start:t.date,meta:{tmpEvent:!0},resizable:{beforeStart:!0,afterEnd:!0}};this.events=[...this.events,o];const l=a.getBoundingClientRect();this.dragToCreateActive=!0;const s=vn(this.viewDate,{weekStartsOn:this.weekStartsOn});(0,de.R)(document,"mousemove").pipe((0,Ga.x)(()=>{delete o.meta.tmpEvent,this.dragToCreateActive=!1,this.modal.open(this.modalDate,{centered:!0})}),(0,Z.R)((0,de.R)(document,"mouseup"))).subscribe(c=>{const d=function No(n,r){return Math.ceil(n/r)*r}(c.clientY-l.top,30),u=function zo(n,r){return Math.floor(n/r)*r}(c.clientX-l.left,l.width)/l.width,h=Ue(dn(t.date,d),u);h>t.date&&h<s&&(o.end=h),this.refresh2()})}refresh2(){this.events=[...this.events],this.cdr.detectChanges()}addDate(){const t=this.events[this.events.length-1];this.calendriers.getValue().forEach(i=>{i._id==this.selectedCalendar&&(t.title=null!=i.full_name?i.full_name:i.name,t.color={primary:i.couleurs.primaire,secondary:i.couleurs.secondaire})}),this.events.pop(),this.events.push(t),this.refresh2(),this.calendrierService.put_dates(t,this.selectedCalendar).subscribe(i=>{alert(i)})}createCalendar(){let t=new eo;t.name=this.nameNewCalendar,t.full_name=this.fullNameNewCalendar,t.couleurs.primaire=this.couleurPrimaireNewCalendar,t.couleurs.secondaire=this.couleurSecondaireNewCalendar,this.calendrierService.put_calendrier(t).subscribe(i=>{alert(i),this.ngOnInit()})}deleteCalendar(t){this.calendrierService.supressionCalendrier(t).subscribe(i=>{alert(i),this.ngOnInit()})}open(t){this.modal.open(t,{centered:!0})}openDelete(t,i){this.idDeleted=i,this.modal.open(t,{centered:!0})}onChange(t){let i=this.calendriers.getValue();i.find(a=>a._id==t).actif?i.forEach(a=>{a._id==t&&(this.events=this.events.concat(a.dates))}):i.forEach(a=>{a._id==t&&(this.events=this.events.filter(o=>!a.dates.includes(o)))}),this.refresh2()}changeColor(t,i){this.calendrierService.updateCalendrier(t,i).subscribe(a=>{"OK"==a&&this.ngOnInit()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(to.FF),e.Y36(_t.g),e.Y36(e.sBO),e.Y36(no.g),e.Y36(io.n))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-calendrier"]],viewQuery:function(t,i){if(1&t&&(e.Gf(uo,7),e.Gf(po,7),e.Gf(mo,7),e.Gf(ho,7),e.Gf(go,7)),2&t){let a;e.iGM(a=e.CRH())&&(i.modalContent=a.first),e.iGM(a=e.CRH())&&(i.modalCreate=a.first),e.iGM(a=e.CRH())&&(i.modalDate=a.first),e.iGM(a=e.CRH())&&(i.modalTimeline=a.first),e.iGM(a=e.CRH())&&(i.modalExceptionnel=a.first)}},features:[e._Bn([{provide:Be}])],decls:70,vars:28,consts:[["weekViewHourSegmentTemplate",""],[1,"row","text-center"],[1,"col-md-3"],[1,"btn-group"],["mwlCalendarPreviousView","",1,"btn","btn-primary",3,"view","viewDate","viewDateChange"],["mwlCalendarToday","",1,"btn","btn-outline-secondary",3,"viewDate","viewDateChange"],["mwlCalendarNextView","",1,"btn","btn-primary",3,"view","viewDate","viewDateChange"],[1,"btn","btn-primary",3,"click"],["mwlDroppable","","dragOverClass","drag-over",1,"card",3,"drop"],[1,"card-body"],[4,"ngIf"],["mwlDraggable","","dragActiveClass","drag-active",3,"dropData","touchStartLongPress",4,"ngFor","ngForOf"],[3,"ngSwitch"],[3,"locale","viewDate","events","refresh","activeDayIsOpen","beforeViewRender","dayClicked","eventClicked","eventTimesChanged",4,"ngSwitchCase"],[3,"locale","viewDate","events","refresh","hourSegmentTemplate","weekStartsOn","eventClicked","eventTimesChanged",4,"ngSwitchCase"],[3,"locale","viewDate","events","refresh","hourSegmentTemplate","eventClicked","eventTimesChanged",4,"ngSwitchCase"],["class","btn btn-primary float-right",3,"click",4,"ngIf"],[1,"clearfix"],[1,"table-responsive"],[1,"table","table-bordered"],["modalContent",""],["modalCreate",""],["modalDate",""],["modalDelete",""],["class","ml-2"],["modalTimeline",""],["modalExceptionnel",""],[1,"cal-hour-segment",3,"ngClass","mousedown"],["segmentElement",""],["class","cal-time",4,"ngIf"],[1,"cal-time"],["mwlDraggable","","dragActiveClass","drag-active",3,"dropData","touchStartLongPress"],["href","javascript:;"],[3,"locale","viewDate","events","refresh","activeDayIsOpen","beforeViewRender","dayClicked","eventClicked","eventTimesChanged"],[3,"locale","viewDate","events","refresh","hourSegmentTemplate","weekStartsOn","eventClicked","eventTimesChanged"],[3,"locale","viewDate","events","refresh","hourSegmentTemplate","eventClicked","eventTimesChanged"],[1,"btn","btn-primary","float-right",3,"click"],[4,"ngFor","ngForOf"],["type","text",1,"form-control",3,"ngModel","disabled","ngModelChange","keyup"],["type","color",3,"disabled","ngModel","ngModelChange","change"],["type","checkbox",3,"ngModel","ngModelChange","change"],[1,"btn","btn-danger",3,"disabled","click"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"form-group"],["for","recipient-name",1,"col-form-label"],["type","text","name","inputName","id","recipient-name",1,"form-control",3,"ngModel","ngModelChange"],["for","recipient-fullname",1,"col-form-label"],["type","text","name","inputFullName","id","recipient-fullname",1,"form-control",3,"ngModel","ngModelChange"],["type","color","name","inputColorPrimaire",1,"form-control","form-control-color",3,"ngModel","ngModelChange","change"],["type","color","name","inputSecondairePrimaire",1,"form-control","form-control-color",3,"ngModel","ngModelChange","change"],["class","browser-default custom-select","name","select_env",3,"ngModel","ngModelChange",4,"ngIf"],["name","select_env",1,"browser-default","custom-select",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["id","modal-title",1,"modal-title"],["type","button","aria-describedby","modal-title",1,"btn-close",3,"click"],[1,"text-danger"],["type","button",1,"btn","btn-danger",3,"click"],[1,"modal-body",2,"background-color","aliceblue"],[3,"calendrier","daySelected"],[1,"table","table-striped"],["scope","col"],["scope","row"]],template:function(t,i){1&t&&(e.YNc(0,fo,3,8,"ng-template",null,0,e.W1O),e.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4),e.NdJ("viewDateChange",function(o){return i.viewDate=o})("viewDateChange",function(){return i.closeOpenMonthViewDay()}),e._uU(6," Pr\xe9c\xe9dent "),e.qZA(),e.TgZ(7,"div",5),e.NdJ("viewDateChange",function(o){return i.viewDate=o}),e._uU(8," Aujourd'hui "),e.qZA(),e.TgZ(9,"div",6),e.NdJ("viewDateChange",function(o){return i.viewDate=o})("viewDateChange",function(){return i.closeOpenMonthViewDay()}),e._uU(10," Suivant "),e.qZA()()(),e.TgZ(11,"div",2)(12,"h3"),e._uU(13),e.ALo(14,"calendarDate"),e.qZA()(),e.TgZ(15,"div",2)(16,"div",3)(17,"div",7),e.NdJ("click",function(){return i.setView(i.CalendarView.Month)}),e._uU(18," Mois "),e.qZA(),e.TgZ(19,"div",7),e.NdJ("click",function(){return i.setView(i.CalendarView.Week)}),e._uU(20," Semaine "),e.qZA(),e.TgZ(21,"div",7),e.NdJ("click",function(){return i.setView(i.CalendarView.Day)}),e._uU(22," Jour "),e.qZA()()(),e.TgZ(23,"div",2)(24,"div",8),e.NdJ("drop",function(o){return i.externalDrop(o.dropData.event)}),e.TgZ(25,"div",9),e.YNc(26,wo,3,0,"p",10),e.TgZ(27,"ul"),e.YNc(28,Co,3,8,"li",11),e.qZA()()()()(),e._UZ(29,"br"),e.TgZ(30,"div",12),e.YNc(31,Do,1,5,"mwl-calendar-month-view",13),e.YNc(32,To,1,6,"mwl-calendar-week-view",14),e.YNc(33,bo,1,5,"mwl-calendar-day-view",15),e.qZA(),e._UZ(34,"br")(35,"br")(36,"br"),e.TgZ(37,"h3"),e._uU(38," Modifier les calendriers "),e.YNc(39,ko,2,0,"button",16),e.ALo(40,"async"),e._UZ(41,"div",17),e.qZA(),e.TgZ(42,"div",18)(43,"table",19)(44,"thead")(45,"tr")(46,"th"),e._uU(47,"Titre"),e.qZA(),e.TgZ(48,"th"),e._uU(49,"Couleur Primaire"),e.qZA(),e.TgZ(50,"th"),e._uU(51,"Couleur Secondaire"),e.qZA(),e.TgZ(52,"th"),e._uU(53,"Actif"),e.qZA(),e.TgZ(54,"th"),e._uU(55,"Supprimer"),e.qZA()()(),e.YNc(56,Eo,2,1,"tbody",10),e.ALo(57,"async"),e.qZA()(),e.YNc(58,Mo,19,4,"ng-template",null,20,e.W1O),e.YNc(60,So,27,4,"ng-template",null,21,e.W1O),e.YNc(62,Ho,14,3,"ng-template",null,22,e.W1O),e.YNc(64,Fo,17,0,"ng-template",null,23,e.W1O),e.YNc(66,Io,8,2,"ng-template",24,25,e.W1O),e.YNc(68,Ro,23,5,"ng-template",null,26,e.W1O)),2&t&&(e.xp6(5),e.Q6J("view",i.view)("viewDate",i.viewDate),e.xp6(2),e.Q6J("viewDate",i.viewDate),e.xp6(2),e.Q6J("view",i.view)("viewDate",i.viewDate),e.xp6(4),e.Oqu(e.Dn7(14,20,i.viewDate,i.view+"ViewTitle","fr")),e.xp6(4),e.ekj("active",i.view===i.CalendarView.Month),e.xp6(2),e.ekj("active",i.view===i.CalendarView.Week),e.xp6(2),e.ekj("active",i.view===i.CalendarView.Day),e.xp6(5),e.Q6J("ngIf",0===i.externalEvents.length),e.xp6(2),e.Q6J("ngForOf",i.calendriers.getValue()),e.xp6(2),e.Q6J("ngSwitch",i.view),e.xp6(1),e.Q6J("ngSwitchCase",i.CalendarView.Month),e.xp6(1),e.Q6J("ngSwitchCase",i.CalendarView.Week),e.xp6(1),e.Q6J("ngSwitchCase",i.CalendarView.Day),e.xp6(6),e.Q6J("ngIf",e.lcZ(40,24,i.auth.isAdmin)),e.xp6(17),e.Q6J("ngIf",e.lcZ(57,26,i.calendriers)))},directives:[g.mk,g.O5,$r,Jr,Ur,Ne,g.sg,ze,g.RF,g.n9,Kr,ln,oa,L.Fj,L.JJ,L.On,L.Wl,Tn,L._Y,L.JL,L.F,L.EJ,L.YN,L.Kr,co],pipes:[Me,g.Ov,g.Ts],styles:['@charset "UTF-8";.cal-month-view .cal-header{text-align:center;font-weight:bolder}.cal-month-view .cal-header .cal-cell{padding:5px 0;overflow:hidden;text-overflow:ellipsis;display:block;white-space:nowrap}.cal-month-view .cal-days{border:1px solid;border-bottom:0}.cal-month-view .cal-cell-top{min-height:78px;flex:1}.cal-month-view .cal-cell-row{-js-display:flex;display:flex}.cal-month-view .cal-cell{float:left;flex:1;-js-display:flex;display:flex;flex-direction:column;align-items:stretch}.cal-month-view .cal-cell .cal-event{pointer-events:all!important}.cal-month-view .cal-day-cell{min-height:100px}@media all and (-ms-high-contrast: none){.cal-month-view .cal-day-cell{display:block}}.cal-month-view .cal-day-cell:not(:last-child){border-right:1px solid}[dir=rtl] .cal-month-view .cal-day-cell:not(:last-child){border-right:initial;border-left:1px solid}.cal-month-view .cal-days .cal-cell-row{border-bottom:1px solid}.cal-month-view .cal-day-badge{margin-top:18px;margin-left:10px;display:inline-block;min-width:10px;padding:3px 7px;font-size:12px;font-weight:700;line-height:1;text-align:center;white-space:nowrap;vertical-align:middle;border-radius:10px}.cal-month-view .cal-day-number{font-size:1.2em;font-weight:400;opacity:.5;margin-top:15px;margin-right:15px;float:right;margin-bottom:10px}.cal-month-view .cal-events{flex:1;align-items:flex-end;margin:3px;line-height:10px;-js-display:flex;display:flex;flex-wrap:wrap}.cal-month-view .cal-event{width:10px;height:10px;border-radius:50%;display:inline-block;margin:2px}.cal-month-view .cal-day-cell.cal-in-month.cal-has-events{cursor:pointer}.cal-month-view .cal-day-cell.cal-out-month .cal-day-number{opacity:.1;cursor:default}.cal-month-view .cal-day-cell.cal-today .cal-day-number{font-size:1.9em}.cal-month-view .cal-open-day-events{padding:15px}.cal-month-view .cal-open-day-events .cal-event{position:relative;top:2px}.cal-month-view .cal-out-month .cal-day-badge,.cal-month-view .cal-out-month .cal-event{opacity:.3}.cal-month-view .cal-draggable{cursor:move}.cal-month-view .cal-drag-active *{pointer-events:none}.cal-month-view .cal-event-title{cursor:pointer}.cal-month-view .cal-event-title:hover{text-decoration:underline}.cal-month-view{background-color:#fff}.cal-month-view .cal-cell-row:hover{background-color:#fafafa}.cal-month-view .cal-cell-row .cal-cell:hover,.cal-month-view .cal-cell.cal-has-events.cal-open{background-color:#ededed}.cal-month-view .cal-days{border-color:#e1e1e1}.cal-month-view .cal-day-cell:not(:last-child){border-right-color:#e1e1e1}[dir=rtl] .cal-month-view .cal-day-cell:not(:last-child){border-right-color:initial;border-left-color:#e1e1e1}.cal-month-view .cal-days .cal-cell-row{border-bottom-color:#e1e1e1}.cal-month-view .cal-day-badge{background-color:#b94a48;color:#fff}.cal-month-view .cal-event{background-color:#1e90ff;border-color:#d1e8ff;color:#fff}.cal-month-view .cal-day-cell.cal-weekend .cal-day-number{color:#8b0000}.cal-month-view .cal-day-cell.cal-today{background-color:#e8fde7}.cal-month-view .cal-day-cell.cal-drag-over{background-color:#e0e0e0!important}.cal-month-view .cal-open-day-events{color:#fff;background-color:#555;box-shadow:inset 0 0 15px #00000080}.cal-week-view *{box-sizing:border-box}.cal-week-view .cal-day-headers{-js-display:flex;display:flex;padding-left:70px;border:1px solid}[dir=rtl] .cal-week-view .cal-day-headers{padding-left:initial;padding-right:70px}.cal-week-view .cal-day-headers .cal-header{flex:1;text-align:center;padding:5px}.cal-week-view .cal-day-headers .cal-header:not(:last-child){border-right:1px solid}[dir=rtl] .cal-week-view .cal-day-headers .cal-header:not(:last-child){border-right:initial;border-left:1px solid}.cal-week-view .cal-day-headers .cal-header:first-child{border-left:1px solid}[dir=rtl] .cal-week-view .cal-day-headers .cal-header:first-child{border-left:initial;border-right:1px solid}.cal-week-view .cal-day-headers span{font-weight:400;opacity:.5}.cal-week-view .cal-day-column{flex-grow:1;border-left:solid 1px}[dir=rtl] .cal-week-view .cal-day-column{border-left:initial;border-right:solid 1px}.cal-week-view .cal-event{font-size:12px;border:1px solid;direction:ltr}.cal-week-view .cal-time-label-column{width:70px;height:100%}.cal-week-view .cal-current-time-marker{position:absolute;width:100%;height:2px;z-index:2}.cal-week-view .cal-all-day-events{border:solid 1px;border-top:0;border-bottom-width:3px;padding-top:3px;position:relative}.cal-week-view .cal-all-day-events .cal-day-columns{height:100%;width:100%;-js-display:flex;display:flex;position:absolute;top:0;z-index:0}.cal-week-view .cal-all-day-events .cal-events-row{position:relative;height:31px;margin-left:70px}[dir=rtl] .cal-week-view .cal-all-day-events .cal-events-row{margin-left:initial;margin-right:70px}.cal-week-view .cal-all-day-events .cal-event-container{display:inline-block;position:absolute}.cal-week-view .cal-all-day-events .cal-event-container.resize-active{z-index:1;pointer-events:none}.cal-week-view .cal-all-day-events .cal-event{padding:0 5px;margin-left:2px;margin-right:2px;height:28px;line-height:28px}.cal-week-view .cal-all-day-events .cal-starts-within-week .cal-event{border-top-left-radius:5px;border-bottom-left-radius:5px}[dir=rtl] .cal-week-view .cal-all-day-events .cal-starts-within-week .cal-event{border-top-left-radius:initial;border-bottom-left-radius:initial;border-top-right-radius:5px!important;border-bottom-right-radius:5px!important}.cal-week-view .cal-all-day-events .cal-ends-within-week .cal-event{border-top-right-radius:5px;border-bottom-right-radius:5px}[dir=rtl] .cal-week-view .cal-all-day-events .cal-ends-within-week .cal-event{border-top-right-radius:initial;border-bottom-right-radius:initial;border-top-left-radius:5px;border-bottom-left-radius:5px}.cal-week-view .cal-all-day-events .cal-time-label-column{-js-display:flex;display:flex;align-items:center;justify-content:center;font-size:14px}.cal-week-view .cal-all-day-events .cal-resize-handle{width:6px;height:100%;cursor:col-resize;position:absolute;top:0}.cal-week-view .cal-all-day-events .cal-resize-handle.cal-resize-handle-after-end{right:0}[dir=rtl] .cal-week-view .cal-all-day-events .cal-resize-handle.cal-resize-handle-after-end{right:initial;left:0}.cal-week-view .cal-event,.cal-week-view .cal-header{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.cal-week-view .cal-drag-active{pointer-events:none;z-index:1}.cal-week-view .cal-drag-active *{pointer-events:none}.cal-week-view .cal-time-events{position:relative;border:solid 1px;border-top:0;-js-display:flex;display:flex}.cal-week-view .cal-time-events .cal-day-columns{-js-display:flex;display:flex;flex-grow:1}.cal-week-view .cal-time-events .cal-day-column,.cal-week-view .cal-time-events .cal-events-container{position:relative}.cal-week-view .cal-time-events .cal-event-container{position:absolute;z-index:1}.cal-week-view .cal-time-events .cal-event{width:calc(100% - 2px);height:calc(100% - 2px);margin:1px;padding:0 5px;line-height:25px}.cal-week-view .cal-time-events .cal-resize-handle{width:100%;height:4px;cursor:row-resize;position:absolute}.cal-week-view .cal-time-events .cal-resize-handle.cal-resize-handle-after-end{bottom:0}.cal-week-view .cal-hour-segment{position:relative}.cal-week-view .cal-hour-segment:after{content:"\\a0"}.cal-week-view .cal-event-container:not(.cal-draggable){cursor:pointer}.cal-week-view .cal-draggable{cursor:move}.cal-week-view mwl-calendar-week-view-hour-segment,.cal-week-view .cal-hour-segment{display:block}.cal-week-view .cal-hour:not(:last-child) .cal-hour-segment,.cal-week-view .cal-hour:last-child :not(:last-child) .cal-hour-segment{border-bottom:thin dashed}.cal-week-view .cal-time{font-weight:700;padding-top:5px;width:70px;text-align:center}.cal-week-view .cal-hour-segment.cal-after-hour-start .cal-time{display:none}.cal-week-view .cal-starts-within-day .cal-event{border-top-left-radius:5px;border-top-right-radius:5px}.cal-week-view .cal-ends-within-day .cal-event{border-bottom-left-radius:5px;border-bottom-right-radius:5px}.cal-week-view{background-color:#fff;border-top:solid 1px #e1e1e1}.cal-week-view .cal-day-headers{border-color:#e1e1e1;border-top:0}.cal-week-view .cal-day-headers .cal-header:not(:last-child){border-right-color:#e1e1e1}[dir=rtl] .cal-week-view .cal-day-headers .cal-header:not(:last-child){border-right-color:initial;border-left:solid 1px #e1e1e1!important}.cal-week-view .cal-day-headers .cal-header:first-child{border-left-color:#e1e1e1}[dir=rtl] .cal-week-view .cal-day-headers .cal-header:first-child{border-left-color:initial;border-right-color:#e1e1e1}.cal-week-view .cal-day-headers .cal-header:hover,.cal-week-view .cal-day-headers .cal-drag-over{background-color:#ededed}.cal-week-view .cal-day-column{border-left-color:#e1e1e1}[dir=rtl] .cal-week-view .cal-day-column{border-left-color:initial;border-right-color:#e1e1e1}.cal-week-view .cal-event{background-color:#d1e8ff;border-color:#1e90ff;color:#1e90ff}.cal-week-view .cal-all-day-events{border-color:#e1e1e1}.cal-week-view .cal-header.cal-today{background-color:#e8fde7}.cal-week-view .cal-header.cal-weekend span{color:#8b0000}.cal-week-view .cal-time-events{border-color:#e1e1e1}.cal-week-view .cal-time-events .cal-day-columns:not(.cal-resize-active) .cal-hour-segment:hover{background-color:#ededed}.cal-week-view .cal-hour-odd{background-color:#fafafa}.cal-week-view .cal-drag-over .cal-hour-segment{background-color:#ededed}.cal-week-view .cal-hour:not(:last-child) .cal-hour-segment,.cal-week-view .cal-hour:last-child :not(:last-child) .cal-hour-segment{border-bottom-color:#e1e1e1}.cal-week-view .cal-current-time-marker{background-color:#ea4334}.cal-day-view mwl-calendar-week-view-header{display:none}.cal-day-view .cal-events-container{margin-left:70px}[dir=rtl] .cal-day-view .cal-events-container{margin-left:initial;margin-right:70px}.cal-day-view .cal-day-column{border-left:0}.cal-day-view .cal-current-time-marker{margin-left:70px;width:calc(100% - 70px)}[dir=rtl] .cal-day-view .cal-current-time-marker{margin-left:initial;margin-right:70px}.cal-tooltip{position:absolute;z-index:1070;display:block;font-style:normal;font-weight:400;letter-spacing:normal;line-break:auto;line-height:1.5;text-align:start;text-decoration:none;text-shadow:none;text-transform:none;white-space:normal;word-break:normal;word-spacing:normal;font-size:11px;word-wrap:break-word;opacity:.9}.cal-tooltip.cal-tooltip-top{padding:5px 0;margin-top:-3px}.cal-tooltip.cal-tooltip-top .cal-tooltip-arrow{bottom:0;left:50%;margin-left:-5px;border-width:5px 5px 0}.cal-tooltip.cal-tooltip-right{padding:0 5px;margin-left:3px}.cal-tooltip.cal-tooltip-right .cal-tooltip-arrow{top:50%;left:0;margin-top:-5px;border-width:5px 5px 5px 0}.cal-tooltip.cal-tooltip-bottom{padding:5px 0;margin-top:3px}.cal-tooltip.cal-tooltip-bottom .cal-tooltip-arrow{top:0;left:50%;margin-left:-5px;border-width:0 5px 5px}.cal-tooltip.cal-tooltip-left{padding:0 5px;margin-left:-3px}.cal-tooltip.cal-tooltip-left .cal-tooltip-arrow{top:50%;right:0;margin-top:-5px;border-width:5px 0 5px 5px}.cal-tooltip-inner{max-width:200px;padding:3px 8px;text-align:center;border-radius:.25rem}.cal-tooltip-arrow{position:absolute;width:0;height:0;border-color:transparent;border-style:solid}.cal-tooltip.cal-tooltip-top .cal-tooltip-arrow{border-top-color:#000}.cal-tooltip.cal-tooltip-right .cal-tooltip-arrow{border-right-color:#000}.cal-tooltip.cal-tooltip-bottom .cal-tooltip-arrow{border-bottom-color:#000}.cal-tooltip.cal-tooltip-left .cal-tooltip-arrow{border-left-color:#000}.cal-tooltip-inner{color:#fff;background-color:#000}.cal-events-num{visibility:hidden}.dark-theme{background-color:#1f262d;color:#d5d6d7}\n',"h3{margin:0 0 10px}pre{background-color:#f5f5f5;padding:15px}\n"],encapsulation:2,changeDetection:0}),n})(),kn=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-calendrierPage"]],decls:1,vars:0,template:function(t,i){1&t&&e._UZ(0,"app-calendrier")},directives:[Po],styles:[".dark-theme[_ngcontent-%COMP%]{background-color:#1f262d;color:#d5d6d7}"]}),n})();(0,g.qS)(Qa);let Lo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[..._t.u,...Xa],imports:[[g.ez,q.Bz,L.UX,L.u5,Ja.n,qa.A,xe,la.forRoot({provide:re,useFactory:Ua})]]}),n})();const xn=[{path:"",canActivate:[],component:kn,data:{title:"Calendrier - Patch Management",breadcrumbs:[{text:"Dashboard",link:"/patchManagement/dashboard"},{text:"Calendrier",active:!0}]}}];let Zo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[Lo,q.Bz.forChild(xn)],q.Bz]}),n})()},1674:(Qe,ae,C)=>{C.d(ae,{g:()=>U,u:()=>ye});var q=C(520),g=C(1438),L=C(5e3),e=C(4890);const W={headers:new q.WM({"Access-Control-Allow-Methods":"GET,POST,PUT,DELETE","Access-Control-Allow-Headers":"Content-type","Content-Type":"application/json","Access-Control-Allow-Origin":"*"}),withCredentials:!0};let U=(()=>{class B{constructor(E,I){this.http=E,this.ExceptionnelService=I,this.baseURL="https://"+g.F+"/"}get_calendrier(){try{return this.http.get(this.baseURL+"servNode/getCalendriers/",W)}catch(E){throw{msg:"Erreur get_calendrier(): "+E}}}get_oneCalendrier(E){try{return this.http.get(this.baseURL+"servNode/getCalendrier/"+E,W)}catch(I){throw{msg:"Erreur get_oneCalendrier(): "+I}}}put_calendrier(E){try{return this.http.put(this.baseURL+"servNode/putCalendriers/",JSON.stringify(E),W)}catch(I){throw{msg:"Erreur get_calendrier(): "+I}}}put_dates(E,I){try{return this.http.put(this.baseURL+"servNode/putDate/"+I,JSON.stringify(E),W)}catch(Z){throw{msg:"Erreur get_calendrier(): "+Z}}}supressionCalendrier(E){try{return this.http.delete(this.baseURL+"servNode/deleteCalendriers/"+E,W)}catch(I){throw{msg:"Erreur supression calendrier: "+I}}}updateCalendrier(E,I){try{return this.http.put(this.baseURL+"servNode/updateCalendriers/"+E,JSON.stringify(I),W)}catch(Z){throw{msg:"Erreur update calendrier: "+Z}}}get_tasks(E){try{return this.http.get(this.baseURL+"servNode/getTasks/"+E,W)}catch(I){throw{msg:"Erreur get_tasks(): "+I}}}deleteEvent(E){try{return this.http.delete(this.baseURL+"servNode/deleteDate/"+E.start,W)}catch(I){throw{msg:"Erreur deleteEvent(): "+I}}}deleteEventById(E){try{return this.http.delete(this.baseURL+"servNode/deleteDateById/"+E,W)}catch(I){throw{msg:"Erreur deleteEventById(): "+I}}}}return B.\u0275fac=function(E){return new(E||B)(L.LFG(q.eN),L.LFG(e.n))},B.\u0275prov=L.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"}),B})();const ye=[U]},4890:(Qe,ae,C)=>{C.d(ae,{u:()=>g,n:()=>q.n});var q=C(984);const g=[q.n]},984:(Qe,ae,C)=>{C.d(ae,{n:()=>ye});var q=C(9808),g=C(520),L=C(1438),e=C(5e3),W=C(4667);const U={headers:new g.WM({"Access-Control-Allow-Methods":"GET,POST,PUT,DELETE","Access-Control-Allow-Headers":"Content-type","Content-Type":"application/json","Access-Control-Allow-Origin":"*"}),withCredentials:!0};let ye=(()=>{class B{constructor(E,I){this.authService=E,this.http=I,this.baseURL="https://"+L.F+"/",this.plannif={date_plannif:(0,q.p6)(new Date,"dd/MM/yyyy","en"),horaire_debut:"19:00",horaire_fin:"23:00",user:"",plannifs:[],_id:void 0}}plannification(E,I,Z,ce,K){try{return this.plannif.plannifs=E,this.plannif.user=I,this.plannif.horaire_debut=Z,this.plannif.horaire_fin=ce,null!=K&&(this.plannif.date_plannif=K.day.toString().padStart(2,"0")+"/"+K.month.toString().padStart(2,"0")+"/"+K.year.toString().padStart(2,"0")),this.http.put(this.baseURL+"servNode/plannificationExceptionnel_add",JSON.stringify(this.plannif),U)}catch(oe){throw{msg:"Erreur plannification() "+oe}}}getPlannifications(){try{return this.http.get(this.baseURL+"servNode/plannificationExceptionnel",U)}catch(E){throw{msg:"Erreur r\xe9cup\xe9ration des plannifs: "+E}}}getPlannification(E){try{return this.http.get(this.baseURL+"servNode/plannificationExceptionnelByid/"+E,U)}catch(I){throw{msg:"Erreur r\xe9cup\xe9ration d'une plannif: "+I}}}supressionPlannification(E){try{return console.log("Test supp: "+E),this.http.delete(this.baseURL+"servNode/deletePlannificationExceptionnel/"+E,U)}catch(I){throw{msg:"Erreur supression plannif: "+I}}}modificationPlannification(E,I,Z,ce,K,oe){try{return this.plannif.plannifs=I,this.plannif.user=Z,this.plannif.horaire_debut=ce,this.plannif.horaire_fin=K,null!=oe&&(this.plannif.date_plannif=oe.day.toString().padStart(2,"0")+"/"+oe.month.toString().padStart(2,"0")+"/"+oe.year.toString().padStart(2,"0")),this.http.put(this.baseURL+"servNode/PlannificationExceptionnel_modify/"+E,JSON.stringify(this.plannif),U)}catch(Xe){throw{msg:"Erreur modification Plannification: "+Xe}}}}return B.\u0275fac=function(E){return new(E||B)(e.LFG(W.g),e.LFG(g.eN))},B.\u0275prov=e.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"}),B})()}}]);