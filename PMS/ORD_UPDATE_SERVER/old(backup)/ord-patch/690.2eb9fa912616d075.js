"use strict";(self.webpackChunkord_patch=self.webpackChunkord_patch||[]).push([[690],{5690:(oe,x,n)=>{n.r(x),n.d(x,{DashboardRoutingModule:()=>ae,ROUTES:()=>Q});var l=n(6952),i=n(9808),C=n(2382),w=n(2539),B=n(5592),L=n(9136),q=n(6440),T=n(9646),e=n(5e3);const E=[(()=>{class t{canActivate(){return(0,T.of)(!0)}}return t.\u0275fac=function(a){return new(a||t)},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})()],F=[(()=>{class t{constructor(){}getDashboard$(){return(0,T.of)({})}}return t.\u0275fac=function(a){return new(a||t)},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})()];var v=n(5212),d=n(1135),_=n(4890),N=n(3305),X=n(9524),j=n(1674),h=n(9444);const I=[[["",8,"card-body"]]],O=function(){return["fas","angle-right"]},Y=[".card-body"];let P=(()=>{class t{constructor(){this.link="",this.customClasses=[]}ngOnInit(){this.background&&this.customClasses.push(this.background),this.color&&this.customClasses.push(this.color)}}return t.\u0275fac=function(a){return new(a||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["sb-card-view-details"]],inputs:{background:"background",color:"color",link:"link"},ngContentSelectors:Y,decls:7,vars:4,consts:[[1,"card","text-white","mb-4",3,"ngClass"],[1,"card-footer","d-flex","align-items-center","justify-content-between"],[1,"small","text-white","stretched-link",3,"routerLink"],[1,"small","text-white"],[3,"icon"]],template:function(a,o){1&a&&(e.F$t(I),e.TgZ(0,"div",0),e.Hsn(1),e.TgZ(2,"div",1)(3,"a",2),e._uU(4,"Voir Details"),e.qZA(),e.TgZ(5,"div",3),e._UZ(6,"fa-icon",4),e.qZA()()()),2&a&&(e.Q6J("ngClass",o.background),e.xp6(3),e.Q6J("routerLink",o.link),e.xp6(3),e.Q6J("icon",e.DdM(3,O)))},directives:[i.mk,l.yS,h.BN],styles:[""],changeDetection:0}),t})(),m=(()=>{class t{constructor(a,o,r,c){this.plannifService=a,this.serveursService=o,this.exclusionsService=r,this.calendrierService=c,this.plannifFutur=new d.X(!1),this.serveursExclus=new d.X(0),this.serveurs=new d.X(0),this.jourRestant=new d.X(0)}ngOnInit(){this.plannifService.getPlannifications().subscribe(a=>{1==this.testFutur(a)&&this.plannifFutur.next(!0)}),this.serveursService.total$.subscribe(a=>{this.serveurs.next(a)}),this.exclusionsService.getExclusions().subscribe(a=>{this.serveursExclus.next(a.length)}),this.calendrierService.get_calendrier().subscribe(a=>{this.jourRestant.next(this.prochainPatch(a))})}prochainPatch(a){let r,o=new Date;a.forEach(D=>{D.dates.forEach(se=>{let p=new Date(se.start);(p>=o&&p<=r||null==r&&p>=o)&&(r=p)})});let c=r.getTime()-o.getTime();return Math.round(c/864e5)}testFutur(a){let o=!1;return a.forEach(r=>{let c=r.date_plannif.split("/"),M=new Date(c[2]+"/"+c[1]+"/"+c[0]+" 21:00:00"),D=new Date;M.getTime()>=D.getTime()&&(o=!0)}),o}}return t.\u0275fac=function(a){return new(a||t)(e.Y36(_.n),e.Y36(N.t),e.Y36(X.z),e.Y36(j.g))},t.\u0275cmp=e.Xpm({type:t,selectors:[["sb-dashboard-cards"]],decls:21,vars:12,consts:[[1,"row"],[1,"col-xl-3","col-md-6"],["link","/patchManagement/plannificationExceptionnel","background","bg-primary"],[1,"card-body"],["link","/patchManagement/exclusions","background","bg-warning"],["link","/patchManagement/serveurs/Alco_Windows","background","bg-success"],["link","/patchManagement/calendrier","background","bg-danger"]],template:function(a,o){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"sb-card-view-details",2)(3,"div",3),e._uU(4),e.ALo(5,"async"),e.qZA()()(),e.TgZ(6,"div",1)(7,"sb-card-view-details",4)(8,"div",3),e._uU(9),e.ALo(10,"async"),e.qZA()()(),e.TgZ(11,"div",1)(12,"sb-card-view-details",5)(13,"div",3),e._uU(14),e.ALo(15,"async"),e.qZA()()(),e.TgZ(16,"div",1)(17,"sb-card-view-details",6)(18,"div",3),e._uU(19),e.ALo(20,"async"),e.qZA()()()()),2&a&&(e.xp6(4),e.hij("Plannification Exceptionnel futur: ",e.lcZ(5,4,o.plannifFutur),""),e.xp6(5),e.hij("Serveurs Exclus: ",e.lcZ(10,6,o.serveursExclus),""),e.xp6(5),e.hij("Nombre de serveurs: ",e.lcZ(15,8,o.serveurs),""),e.xp6(5),e.hij("Prochain patch dans: ",e.lcZ(20,10,o.jourRestant)," jours"))},directives:[P],pipes:[i.Ov],styles:[""],changeDetection:0}),t})();var g=n(6333),k=n(996);const z=function(){return["fas","table"]},R=function(){return{column:"kb_manquantes",direction:"desc"}};let f=(()=>{class t{constructor(){this.os=new d.X("All")}ngOnInit(){}}return t.\u0275fac=function(a){return new(a||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["sb-dashboard-tables"]],decls:6,vars:10,consts:[[1,"card-header"],[1,"mr-1",3,"icon"],[1,"card-body"],[3,"pageSize","osSelected","searchBar","pageBar","sort","checkbox","sortable"]],template:function(a,o){1&a&&(e.TgZ(0,"sb-card")(1,"div",0),e._UZ(2,"fa-icon",1),e._uU(3,"Top 10 serveurs critiques"),e.qZA(),e.TgZ(4,"div",2),e._UZ(5,"serveur-table",3),e.qZA()()),2&a&&(e.xp6(2),e.Q6J("icon",e.DdM(8,z)),e.xp6(3),e.Q6J("pageSize",10)("osSelected",o.os)("searchBar",!1)("pageBar",!1)("sort",e.DdM(9,R))("checkbox",!1)("sortable",!1))},directives:[g.A,h.BN,k.m],styles:[""],changeDetection:0}),t})();var $=n(4267),y=n(9410),V=n(6021);function G(t,s){1&t&&(e.TgZ(0,"div",7)(1,"div",8),e._uU(2," Chargement ... "),e.qZA()())}function H(t,s){1&t&&(e.TgZ(0,"div",7)(1,"div",8),e._uU(2," Chargement ... "),e.qZA()())}function W(t,s){1&t&&(e.TgZ(0,"div",7)(1,"div",8),e._uU(2," Chargement ... "),e.qZA()())}function K(t,s){1&t&&(e.TgZ(0,"div",7)(1,"div",8),e._uU(2," Chargement ... "),e.qZA()())}const u=function(){return["fas","chart-pie"]},b=function(){return["fas","chart-bar"]};let Z=(()=>{class t{constructor(a){this.historiqueService=a}ngOnInit(){}}return t.\u0275fac=function(a){return new(a||t)(e.Y36($.J))},t.\u0275cmp=e.Xpm({type:t,selectors:[["sb-dashboard-charts"]],decls:68,vars:36,consts:[[1,"row"],[1,"col-xl-6"],[1,"card-header"],[1,"mr-1",3,"icon"],[1,"card-body"],[3,"osSelected"],["class","progress ml-1",4,"ngIf"],[1,"progress","ml-1"],["role","progressbar","aria-valuenow","100","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated",2,"width","100%"]],template:function(a,o){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"sb-card")(3,"div",2),e._UZ(4,"fa-icon",3),e._uU(5,"Etat des serveurs Alco Windows"),e.qZA(),e.TgZ(6,"div",4),e._UZ(7,"sb-charts-pie",5),e.qZA()()(),e.TgZ(8,"div",1)(9,"sb-card")(10,"div",2),e._UZ(11,"fa-icon",3),e._uU(12,"Nombres de patchs /mois"),e.qZA(),e.TgZ(13,"div",4),e.YNc(14,G,3,0,"div",6),e.ALo(15,"async"),e._UZ(16,"sb-charts-bar",5),e.qZA()()()(),e.TgZ(17,"div",0)(18,"div",1)(19,"sb-card")(20,"div",2),e._UZ(21,"fa-icon",3),e._uU(22,"Etat des serveurs Alco Linux"),e.qZA(),e.TgZ(23,"div",4),e._UZ(24,"sb-charts-pie",5),e.qZA()()(),e.TgZ(25,"div",1)(26,"sb-card")(27,"div",2),e._UZ(28,"fa-icon",3),e._uU(29,"Nombres de patchs /mois"),e.qZA(),e.TgZ(30,"div",4),e.YNc(31,H,3,0,"div",6),e.ALo(32,"async"),e._UZ(33,"sb-charts-bar",5),e.qZA()()()(),e.TgZ(34,"div",0)(35,"div",1)(36,"sb-card")(37,"div",2),e._UZ(38,"fa-icon",3),e._uU(39,"Etat des serveurs Heberge Windows"),e.qZA(),e.TgZ(40,"div",4),e._UZ(41,"sb-charts-pie",5),e.qZA()()(),e.TgZ(42,"div",1)(43,"sb-card")(44,"div",2),e._UZ(45,"fa-icon",3),e._uU(46,"Nombres de patchs /mois"),e.qZA(),e.TgZ(47,"div",4),e.YNc(48,W,3,0,"div",6),e.ALo(49,"async"),e._UZ(50,"sb-charts-bar",5),e.qZA()()()(),e.TgZ(51,"div",0)(52,"div",1)(53,"sb-card")(54,"div",2),e._UZ(55,"fa-icon",3),e._uU(56,"Etat des Heberge Linux"),e.qZA(),e.TgZ(57,"div",4),e._UZ(58,"sb-charts-pie",5),e.qZA()()(),e.TgZ(59,"div",1)(60,"sb-card")(61,"div",2),e._UZ(62,"fa-icon",3),e._uU(63,"Nombres de patchs /mois"),e.qZA(),e.TgZ(64,"div",4),e.YNc(65,K,3,0,"div",6),e.ALo(66,"async"),e._UZ(67,"sb-charts-bar",5),e.qZA()()()()),2&a&&(e.xp6(4),e.Q6J("icon",e.DdM(28,u)),e.xp6(3),e.Q6J("osSelected","alco_windows"),e.xp6(4),e.Q6J("icon",e.DdM(29,b)),e.xp6(3),e.Q6J("ngIf",e.lcZ(15,20,o.historiqueService.loading$)),e.xp6(2),e.Q6J("osSelected","alco_windows"),e.xp6(5),e.Q6J("icon",e.DdM(30,u)),e.xp6(3),e.Q6J("osSelected","alco_linux"),e.xp6(4),e.Q6J("icon",e.DdM(31,b)),e.xp6(3),e.Q6J("ngIf",e.lcZ(32,22,o.historiqueService.loading$)),e.xp6(2),e.Q6J("osSelected","alco_linux"),e.xp6(5),e.Q6J("icon",e.DdM(32,u)),e.xp6(3),e.Q6J("osSelected","heberge_windows"),e.xp6(4),e.Q6J("icon",e.DdM(33,b)),e.xp6(3),e.Q6J("ngIf",e.lcZ(49,24,o.historiqueService.loading$)),e.xp6(2),e.Q6J("osSelected","heberge_windows"),e.xp6(5),e.Q6J("icon",e.DdM(34,u)),e.xp6(3),e.Q6J("osSelected","heberge_linux"),e.xp6(4),e.Q6J("icon",e.DdM(35,b)),e.xp6(3),e.Q6J("ngIf",e.lcZ(66,26,o.historiqueService.loading$)),e.xp6(2),e.Q6J("osSelected","heberge_linux"))},directives:[g.A,h.BN,y.y,i.O5,V.e],pipes:[i.Ov],styles:[""],changeDetection:0}),t})(),A=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(a){return new(a||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["sb-dashboard"]],decls:4,vars:1,consts:[["title","Dashboard",3,"hideBreadcrumbs"]],template:function(a,o){1&a&&e._UZ(0,"sb-dashboard-head",0)(1,"sb-dashboard-cards")(2,"sb-dashboard-tables")(3,"sb-dashboard-charts"),2&a&&e.Q6J("hideBreadcrumbs",!1)},directives:[v.T,m,f,Z],styles:[""],changeDetection:0}),t})();var U=n(5278);const ee=function(){return["fas","chart-pie"]};let S=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(a){return new(a||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["sb-static"]],decls:13,vars:4,consts:[[3,"static"],["title","Dashboard Static",3,"hideBreadcrumbs"],[1,"card-header"],[1,"mr-1",3,"icon"],[1,"card-body"],[1,"card-footer","small","text-muted"]],template:function(a,o){1&a&&(e.TgZ(0,"sb-layout-dashboard",0),e._UZ(1,"sb-dashboard-head",1)(2,"sb-dashboard-cards")(3,"sb-dashboard-charts")(4,"sb-dashboard-tables"),e.TgZ(5,"sb-card")(6,"div",2),e._UZ(7,"fa-icon",3),e._uU(8,"Pie Chart Example"),e.qZA(),e.TgZ(9,"div",4),e._UZ(10,"sb-charts-pie"),e.qZA(),e.TgZ(11,"div",5),e._uU(12,"Updated yesterday at 11:59 PM"),e.qZA()()()),2&a&&(e.Q6J("static",!0),e.xp6(1),e.Q6J("hideBreadcrumbs",!1),e.xp6(6),e.Q6J("icon",e.DdM(3,ee)))},directives:[U.Q,v.T,m,Z,f,g.A,h.BN,y.y],styles:[""],changeDetection:0}),t})(),J=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(a){return new(a||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["sb-light"]],decls:5,vars:2,consts:[[3,"light"],["title","Dashboard Light",3,"hideBreadcrumbs"]],template:function(a,o){1&a&&(e.TgZ(0,"sb-layout-dashboard",0),e._UZ(1,"sb-dashboard-head",1)(2,"sb-dashboard-cards")(3,"sb-dashboard-charts")(4,"sb-dashboard-tables"),e.qZA()),2&a&&(e.Q6J("light",!0),e.xp6(1),e.Q6J("hideBreadcrumbs",!1))},directives:[U.Q,v.T,m,Z,f],styles:[""],changeDetection:0}),t})(),te=(()=>{class t{}return t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[...F,...E],imports:[[i.ez,l.Bz,C.UX,C.u5,w.n,B.A,L.e,q.J]]}),t})();const Q=[{path:"",data:{title:"Dashboard - Patch Management",breadcrumbs:[{text:"Dashboard",active:!0}]},canActivate:[],component:A},{path:"static",data:{title:"Dashboard Static - Patch Management",breadcrumbs:[{text:"Dashboard",link:"/patchManagement/dashboard"},{text:"Static",active:!0}]},canActivate:[],component:S},{path:"light",data:{title:"Dashboard Light - Patch Management",breadcrumbs:[{text:"Dashboard",link:"/patchManagement/dashboard"},{text:"Light",active:!0}]},canActivate:[],component:J}];let ae=(()=>{class t{}return t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[te,l.Bz.forChild(Q)],l.Bz]}),t})()}}]);